/*! For license information please see main.dd24e24f.js.LICENSE.txt */
!function(){var e={345:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,A=i>>>1;r<A;){var o=2*(r+1)-1,s=e[o],l=o+1,u=e[l];if(0>a(s,n))l<i&&0>a(u,s)?(e[r]=u,e[l]=n,r=l):(e[r]=s,e[o]=n,r=o);else{if(!(l<i&&0>a(u,n)))break e;e[r]=u,e[l]=n,r=l}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var A=performance;t.unstable_now=function(){return A.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}var l=[],u=[],c=1,f=null,d=3,h=!1,p=!1,v=!1,m="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,y="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(l,t)}t=r(u)}}function x(e){if(v=!1,b(e),!p)if(null!==r(l))p=!0,I(_);else{var t=r(u);null!==t&&D(x,t.startTime-e)}}function _(e,n){p=!1,v&&(v=!1,g(S),S=-1),h=!0;var a=d;try{for(b(n),f=r(l);null!==f&&(!(f.expirationTime>n)||e&&!k());){var A=f.callback;if("function"===typeof A){f.callback=null,d=f.priorityLevel;var o=A(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?f.callback=o:f===r(l)&&i(l),b(n)}else i(l);f=r(l)}if(null!==f)var s=!0;else{var c=r(u);null!==c&&D(x,c.startTime-n),s=!1}return s}finally{f=null,d=a,h=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var w,E=!1,M=null,S=-1,C=5,T=-1;function k(){return!(t.unstable_now()-T<C)}function B(){if(null!==M){var e=t.unstable_now();T=e;var n=!0;try{n=M(!0,e)}finally{n?w():(E=!1,M=null)}}else E=!1}if("function"===typeof y)w=function(){y(B)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,P=R.port2;R.port1.onmessage=B,w=function(){P.postMessage(null)}}else w=function(){m(B,0)};function I(e){M=e,E||(E=!0,w())}function D(e,n){S=m((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){p||h||(p=!0,I(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var A=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?A+a:A:a=A,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:c++,callback:i,priorityLevel:e,startTime:a,expirationTime:o=a+o,sortIndex:-1},a>A?(e.sortIndex=a,n(u,e),null===r(l)&&e===r(u)&&(v?(g(S),S=-1):v=!0,D(x,a-A))):(e.sortIndex=o,n(l,e),p||h||(p=!0,I(_))),e},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},545:function(e,t,n){"use strict";e.exports=n(345)},494:function(e){function t(e,t,n){var r,i,a,A,o;function s(){var l=Date.now()-A;l<t&&l>=0?r=setTimeout(s,t-l):(r=null,n||(o=e.apply(a,i),a=i=null))}null==t&&(t=100);var l=function(){a=this,i=arguments,A=Date.now();var l=n&&!r;return r||(r=setTimeout(s,t)),l&&(o=e.apply(a,i),a=i=null),o};return l.clear=function(){r&&(clearTimeout(r),r=null)},l.flush=function(){r&&(o=e.apply(a,i),a=i=null,clearTimeout(r),r=null)},l}t.debounce=t,e.exports=t},110:function(e,t,n){"use strict";var r=n(441),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},A={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};function s(e){return r.isMemo(e)?A:o[e.$$typeof]||i}o[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},o[r.Memo]=A;var l=Object.defineProperty,u=Object.getOwnPropertyNames,c=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(h){var i=d(n);i&&i!==h&&e(t,i,r)}var A=u(n);c&&(A=A.concat(c(n)));for(var o=s(t),p=s(n),v=0;v<A.length;++v){var m=A[v];if(!a[m]&&(!r||!r[m])&&(!p||!p[m])&&(!o||!o[m])){var g=f(n,m);try{l(t,m,g)}catch(y){}}}}return t}},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var A=new Set,o={};function s(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(o[e]=t,e=0;e<t.length;e++)A.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),c=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},h={};function p(e,t,n,r,i,a,A){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=A}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){v[e]=new p(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];v[t]=new p(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){v[e]=new p(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){v[e]=new p(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){v[e]=new p(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){v[e]=new p(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){v[e]=new p(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){v[e]=new p(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){v[e]=new p(e,5,!1,e.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function y(e,t,n,r){var i=v.hasOwnProperty(t)?v[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!c.call(h,e)||!c.call(d,e)&&(f.test(e)?h[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(m,g);v[t]=new p(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(m,g);v[t]=new p(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(m,g);v[t]=new p(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){v[e]=new p(e,1,!1,e.toLowerCase(),null,!1,!1)})),v.xlinkHref=new p("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){v[e]=new p(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),_=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),C=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var I=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var U,N=Object.assign;function O(e){if(void 0===U)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);U=t&&t[1]||""}return"\n"+U+e}var F=!1;function z(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),a=r.stack.split("\n"),A=i.length-1,o=a.length-1;1<=A&&0<=o&&i[A]!==a[o];)o--;for(;1<=A&&0<=o;A--,o--)if(i[A]!==a[o]){if(1!==A||1!==o)do{if(A--,0>--o||i[A]!==a[o]){var s="\n"+i[A].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=A&&0<=o);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?O(e):""}function G(e){switch(e.tag){case 5:return O(e.type);case 16:return O("Lazy");case 13:return O("Suspense");case 19:return O("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function H(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case w:return"Fragment";case _:return"Portal";case M:return"Profiler";case E:return"StrictMode";case k:return"Suspense";case B:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:H(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return H(e(t))}catch(n){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return H(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function j(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Q(e){e._valueTracker||(e._valueTracker=function(e){var t=j(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=j(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function K(e,t){var n=t.checked;return N({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function q(e,t){null!=(t=t.checked)&&y(e,"checked",t,!1)}function Z(e,t){q(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return N({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ae(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function Ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ue,ce=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},he=["Webkit","ms","Moz","O"];function pe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function ve(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=pe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){he.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var me=N({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ye(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,we=null,Ee=null;function Me(e){if(e=yi(e)){if("function"!==typeof _e)throw Error(a(280));var t=e.stateNode;t&&(t=xi(t),_e(e.stateNode,e.type,t))}}function Se(e){we?Ee?Ee.push(e):Ee=[e]:we=e}function Ce(){if(we){var e=we,t=Ee;if(Ee=we=null,Me(e),t)for(e=0;e<t.length;e++)Me(t[e])}}function Te(e,t){return e(t)}function ke(){}var Be=!1;function Re(e,t,n){if(Be)return e(t,n);Be=!0;try{return Te(e,t,n)}finally{Be=!1,(null!==we||null!==Ee)&&(ke(),Ce())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=xi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Ie=!1;if(u)try{var De={};Object.defineProperty(De,"passive",{get:function(){Ie=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ue){Ie=!1}function Le(e,t,n,r,i,a,A,o,s){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(u){this.onError(u)}}var Ue=!1,Ne=null,Oe=!1,Fe=null,ze={onError:function(e){Ue=!0,Ne=e}};function Ge(e,t,n,r,i,a,A,o,s){Ue=!1,Ne=null,Le.apply(ze,arguments)}function He(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(He(e)!==e)throw Error(a(188))}function je(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=He(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var A=i.alternate;if(null===A){if(null!==(r=i.return)){n=r;continue}break}if(i.child===A.child){for(A=i.child;A;){if(A===n)return We(i),e;if(A===r)return We(i),t;A=A.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=A;else{for(var o=!1,s=i.child;s;){if(s===n){o=!0,n=i,r=A;break}if(s===r){o=!0,r=i,n=A;break}s=s.sibling}if(!o){for(s=A.child;s;){if(s===n){o=!0,n=A,r=i;break}if(s===r){o=!0,r=A,n=i;break}s=s.sibling}if(!o)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Qe(e):null}function Qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Qe(e);if(null!==t)return t;e=e.sibling}return null}var Xe=i.unstable_scheduleCallback,Je=i.unstable_cancelCallback,Ke=i.unstable_shouldYield,Ye=i.unstable_requestPaint,qe=i.unstable_now,Ze=i.unstable_getCurrentPriorityLevel,$e=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var At=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/st|0)|0},ot=Math.log,st=Math.LN2;var lt=64,ut=4194304;function ct(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,A=268435455&n;if(0!==A){var o=A&~i;0!==o?r=ct(o):0!==(a&=A)&&(r=ct(a))}else 0!==(A=n&~i)?r=ct(A):0!==a&&(r=ct(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-At(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ht(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function pt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-At(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-At(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var yt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,_t,wt,Et,Mt,St=!1,Ct=[],Tt=null,kt=null,Bt=null,Rt=new Map,Pt=new Map,It=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":kt=null;break;case"mouseover":case"mouseout":Bt=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Ut(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=yi(t))&&_t(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Nt(e){var t=gi(e.target);if(null!==t){var n=He(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ve(n)))return e.blockedOn=t,void Mt(e.priority,(function(){wt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ot(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Kt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=yi(n))&&_t(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ft(e,t,n){Ot(e)&&n.delete(t)}function zt(){St=!1,null!==Tt&&Ot(Tt)&&(Tt=null),null!==kt&&Ot(kt)&&(kt=null),null!==Bt&&Ot(Bt)&&(Bt=null),Rt.forEach(Ft),Pt.forEach(Ft)}function Gt(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,zt)))}function Ht(e){function t(t){return Gt(t,e)}if(0<Ct.length){Gt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&Gt(Tt,e),null!==kt&&Gt(kt,e),null!==Bt&&Gt(Bt,e),Rt.forEach(t),Pt.forEach(t),n=0;n<It.length;n++)(r=It[n]).blockedOn===e&&(r.blockedOn=null);for(;0<It.length&&null===(n=It[0]).blockedOn;)Nt(n),null===n.blockedOn&&It.shift()}var Vt=b.ReactCurrentBatchConfig,Wt=!0;function jt(e,t,n,r){var i=yt,a=Vt.transition;Vt.transition=null;try{yt=1,Xt(e,t,n,r)}finally{yt=i,Vt.transition=a}}function Qt(e,t,n,r){var i=yt,a=Vt.transition;Vt.transition=null;try{yt=4,Xt(e,t,n,r)}finally{yt=i,Vt.transition=a}}function Xt(e,t,n,r){if(Wt){var i=Kt(e,t,n,r);if(null===i)Wr(e,t,r,Jt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Tt=Ut(Tt,e,t,n,r,i),!0;case"dragenter":return kt=Ut(kt,e,t,n,r,i),!0;case"mouseover":return Bt=Ut(Bt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Rt.set(a,Ut(Rt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Pt.set(a,Ut(Pt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var a=yi(i);if(null!==a&&xt(a),null===(a=Kt(e,t,n,r))&&Wr(e,t,r,Jt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Jt=null;function Kt(e,t,n,r){if(Jt=null,null!==(e=gi(e=xe(r))))if(null===(t=He(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Jt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var qt=null,Zt=null,$t=null;function en(){if($t)return $t;var e,t,n=Zt,r=n.length,i="value"in qt?qt.value:qt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var A=r-e;for(t=1;t<=A&&n[r-t]===i[a-t];t++);return $t=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var A in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(A)&&(t=e[A],this[A]=t?t(i):i[A]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return N(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var An,on,sn,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=an(ln),cn=N({},ln,{view:0,detail:0}),fn=an(cn),dn=N({},cn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(An=e.screenX-sn.screenX,on=e.screenY-sn.screenY):on=An=0,sn=e),An)},movementY:function(e){return"movementY"in e?e.movementY:on}}),hn=an(dn),pn=an(N({},dn,{dataTransfer:0})),vn=an(N({},cn,{relatedTarget:0})),mn=an(N({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=N({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yn=an(gn),bn=an(N({},ln,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=wn[e])&&!!t[e]}function Mn(){return En}var Sn=N({},cn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=an(Sn),Tn=an(N({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),kn=an(N({},cn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mn})),Bn=an(N({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=N({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=an(Rn),In=[9,13,27,32],Dn=u&&"CompositionEvent"in window,Ln=null;u&&"documentMode"in document&&(Ln=document.documentMode);var Un=u&&"TextEvent"in window&&!Ln,Nn=u&&(!Dn||Ln&&8<Ln&&11>=Ln),On=String.fromCharCode(32),Fn=!1;function zn(e,t){switch(e){case"keyup":return-1!==In.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1;var Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vn[e.type]:"textarea"===t}function jn(e,t,n,r){Se(r),0<(t=Qr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Qn=null,Xn=null;function Jn(e){Or(e,0)}function Kn(e){if(X(bi(e)))return e}function Yn(e,t){if("change"===e)return t}var qn=!1;if(u){var Zn;if(u){var $n="oninput"in document;if(!$n){var er=document.createElement("div");er.setAttribute("oninput","return;"),$n="function"===typeof er.oninput}Zn=$n}else Zn=!1;qn=Zn&&(!document.documentMode||9<document.documentMode)}function tr(){Qn&&(Qn.detachEvent("onpropertychange",nr),Xn=Qn=null)}function nr(e){if("value"===e.propertyName&&Kn(Xn)){var t=[];jn(t,Xn,e,xe(e)),Re(Jn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Xn=n,(Qn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kn(Xn)}function ar(e,t){if("click"===e)return Kn(t)}function Ar(e,t){if("input"===e||"change"===e)return Kn(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!c.call(t,i)||!or(e[i],t[i]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function cr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?cr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function hr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&cr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=ur(n,a);var A=ur(n,r);i&&A&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==A.node||e.focusOffset!==A.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(A.node,A.offset)):(t.setEnd(A.node,A.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var pr=u&&"documentMode"in document&&11>=document.documentMode,vr=null,mr=null,gr=null,yr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;yr||null==vr||vr!==J(r)||("selectionStart"in(r=vr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Qr(mr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vr)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},wr={},Er={};function Mr(e){if(wr[e])return wr[e];if(!_r[e])return e;var t,n=_r[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return wr[e]=n[t];return e}u&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Sr=Mr("animationend"),Cr=Mr("animationiteration"),Tr=Mr("animationstart"),kr=Mr("transitionend"),Br=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Br.set(e,t),s(t,[e])}for(var Ir=0;Ir<Rr.length;Ir++){var Dr=Rr[Ir];Pr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Pr(Sr,"onAnimationEnd"),Pr(Cr,"onAnimationIteration"),Pr(Tr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(kr,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ur=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Nr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,A,o,s,l){if(Ge.apply(this,arguments),Ue){if(!Ue)throw Error(a(198));var u=Ne;Ue=!1,Ne=null,Oe||(Oe=!0,Fe=u)}}(r,t,void 0,e),e.currentTarget=null}function Or(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var A=r.length-1;0<=A;A--){var o=r[A],s=o.instance,l=o.currentTarget;if(o=o.listener,s!==a&&i.isPropagationStopped())break e;Nr(i,o,l),a=s}else for(A=0;A<r.length;A++){if(s=(o=r[A]).instance,l=o.currentTarget,o=o.listener,s!==a&&i.isPropagationStopped())break e;Nr(i,o,l),a=s}}}if(Oe)throw e=Fe,Oe=!1,Fe=null,e}function Fr(e,t){var n=t[pi];void 0===n&&(n=t[pi]=new Set);var r=e+"__bubble";n.has(r)||(Vr(t,e,2,!1),n.add(r))}function zr(e,t,n){var r=0;t&&(r|=4),Vr(n,e,r,t)}var Gr="_reactListening"+Math.random().toString(36).slice(2);function Hr(e){if(!e[Gr]){e[Gr]=!0,A.forEach((function(t){"selectionchange"!==t&&(Ur.has(t)||zr(t,!1,e),zr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Gr]||(t[Gr]=!0,zr("selectionchange",!1,t))}}function Vr(e,t,n,r){switch(Yt(t)){case 1:var i=jt;break;case 4:i=Qt;break;default:i=Xt}n=i.bind(null,t,n,e),i=void 0,!Ie||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var A=r.tag;if(3===A||4===A){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===A)for(A=r.return;null!==A;){var s=A.tag;if((3===s||4===s)&&((s=A.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;A=A.return}for(;null!==o;){if(null===(A=gi(o)))return;if(5===(s=A.tag)||6===s){r=a=A;continue e}o=o.parentNode}}r=r.return}Re((function(){var r=a,i=xe(n),A=[];e:{var o=Br.get(e);if(void 0!==o){var s=un,l=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Cn;break;case"focusin":l="focus",s=vn;break;case"focusout":l="blur",s=vn;break;case"beforeblur":case"afterblur":s=vn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=pn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=kn;break;case Sr:case Cr:case Tr:s=mn;break;case kr:s=Bn;break;case"scroll":s=fn;break;case"wheel":s=Pn;break;case"copy":case"cut":case"paste":s=yn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Tn}var u=0!==(4&t),c=!u&&"scroll"===e,f=u?null!==o?o+"Capture":null:o;u=[];for(var d,h=r;null!==h;){var p=(d=h).stateNode;if(5===d.tag&&null!==p&&(d=p,null!==f&&(null!=(p=Pe(h,f))&&u.push(jr(h,p,d)))),c)break;h=h.return}0<u.length&&(o=new s(o,l,null,n,i),A.push({event:o,listeners:u}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===be||!(l=n.relatedTarget||n.fromElement)||!gi(l)&&!l[hi])&&(s||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,s?(s=r,null!==(l=(l=n.relatedTarget||n.toElement)?gi(l):null)&&(l!==(c=He(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(s=null,l=r),s!==l)){if(u=hn,p="onMouseLeave",f="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(u=Tn,p="onPointerLeave",f="onPointerEnter",h="pointer"),c=null==s?o:bi(s),d=null==l?o:bi(l),(o=new u(p,h+"leave",s,n,i)).target=c,o.relatedTarget=d,p=null,gi(i)===r&&((u=new u(f,h+"enter",l,n,i)).target=d,u.relatedTarget=c,p=u),c=p,s&&l)e:{for(f=l,h=0,d=u=s;d;d=Xr(d))h++;for(d=0,p=f;p;p=Xr(p))d++;for(;0<h-d;)u=Xr(u),h--;for(;0<d-h;)f=Xr(f),d--;for(;h--;){if(u===f||null!==f&&u===f.alternate)break e;u=Xr(u),f=Xr(f)}u=null}else u=null;null!==s&&Jr(A,o,s,u,!1),null!==l&&null!==c&&Jr(A,c,l,u,!0)}if("select"===(s=(o=r?bi(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===s&&"file"===o.type)var v=Yn;else if(Wn(o))if(qn)v=Ar;else{v=ir;var m=rr}else(s=o.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(v=ar);switch(v&&(v=v(e,r))?jn(A,v,n,i):(m&&m(e,o,r),"focusout"===e&&(m=o._wrapperState)&&m.controlled&&"number"===o.type&&ee(o,"number",o.value)),m=r?bi(r):window,e){case"focusin":(Wn(m)||"true"===m.contentEditable)&&(vr=m,mr=r,gr=null);break;case"focusout":gr=mr=vr=null;break;case"mousedown":yr=!0;break;case"contextmenu":case"mouseup":case"dragend":yr=!1,br(A,n,i);break;case"selectionchange":if(pr)break;case"keydown":case"keyup":br(A,n,i)}var g;if(Dn)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Hn?zn(e,n)&&(y="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(y="onCompositionStart");y&&(Nn&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==y?"onCompositionEnd"===y&&Hn&&(g=en()):(Zt="value"in(qt=i)?qt.value:qt.textContent,Hn=!0)),0<(m=Qr(r,y)).length&&(y=new bn(y,e,null,n,i),A.push({event:y,listeners:m}),g?y.data=g:null!==(g=Gn(n))&&(y.data=g))),(g=Un?function(e,t){switch(e){case"compositionend":return Gn(t);case"keypress":return 32!==t.which?null:(Fn=!0,On);case"textInput":return(e=t.data)===On&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!Dn&&zn(e,t)?(e=en(),$t=Zt=qt=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Nn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Qr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),A.push({event:i,listeners:r}),i.data=g))}Or(A,t)}))}function jr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Qr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Pe(e,n))&&r.unshift(jr(e,a,i)),null!=(a=Pe(e,t))&&r.push(jr(e,a,i))),e=e.return}return r}function Xr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Jr(e,t,n,r,i){for(var a=t._reactName,A=[];null!==n&&n!==r;){var o=n,s=o.alternate,l=o.stateNode;if(null!==s&&s===r)break;5===o.tag&&null!==l&&(o=l,i?null!=(s=Pe(n,a))&&A.unshift(jr(n,s,o)):i||null!=(s=Pe(n,a))&&A.push(jr(n,s,o))),n=n.return}0!==A.length&&e.push({event:t,listeners:A})}var Kr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function qr(e){return("string"===typeof e?e:""+e).replace(Kr,"\n").replace(Yr,"")}function Zr(e,t,n){if(t=qr(t),qr(e)!==t&&n)throw Error(a(425))}function $r(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,Ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(oi)}:ri;function oi(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Ht(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Ht(t)}function li(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ci=Math.random().toString(36).slice(2),fi="__reactFiber$"+ci,di="__reactProps$"+ci,hi="__reactContainer$"+ci,pi="__reactEvents$"+ci,vi="__reactListeners$"+ci,mi="__reactHandles$"+ci;function gi(e){var t=e[fi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[hi]||n[fi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[fi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function yi(e){return!(e=e[fi]||e[hi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function xi(e){return e[di]||null}var _i=[],wi=-1;function Ei(e){return{current:e}}function Mi(e){0>wi||(e.current=_i[wi],_i[wi]=null,wi--)}function Si(e,t){wi++,_i[wi]=e.current,e.current=t}var Ci={},Ti=Ei(Ci),ki=Ei(!1),Bi=Ci;function Ri(e,t){var n=e.type.contextTypes;if(!n)return Ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ii(){Mi(ki),Mi(Ti)}function Di(e,t,n){if(Ti.current!==Ci)throw Error(a(168));Si(Ti,t),Si(ki,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,V(e)||"Unknown",i));return N({},n,r)}function Ui(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ci,Bi=Ti.current,Si(Ti,e),Si(ki,ki.current),!0}function Ni(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Bi),r.__reactInternalMemoizedMergedChildContext=e,Mi(ki),Mi(Ti),Si(Ti,e)):Mi(ki),Si(ki,n)}var Oi=null,Fi=!1,zi=!1;function Gi(e){null===Oi?Oi=[e]:Oi.push(e)}function Hi(){if(!zi&&null!==Oi){zi=!0;var e=0,t=yt;try{var n=Oi;for(yt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Oi=null,Fi=!1}catch(i){throw null!==Oi&&(Oi=Oi.slice(e+1)),Xe($e,Hi),i}finally{yt=t,zi=!1}}return null}var Vi=[],Wi=0,ji=null,Qi=0,Xi=[],Ji=0,Ki=null,Yi=1,qi="";function Zi(e,t){Vi[Wi++]=Qi,Vi[Wi++]=ji,ji=e,Qi=t}function $i(e,t,n){Xi[Ji++]=Yi,Xi[Ji++]=qi,Xi[Ji++]=Ki,Ki=e;var r=Yi;e=qi;var i=32-At(r)-1;r&=~(1<<i),n+=1;var a=32-At(t)+i;if(30<a){var A=i-i%5;a=(r&(1<<A)-1).toString(32),r>>=A,i-=A,Yi=1<<32-At(t)+i|n<<i|r,qi=a+e}else Yi=1<<a|n<<i|r,qi=e}function ea(e){null!==e.return&&(Zi(e,1),$i(e,1,0))}function ta(e){for(;e===ji;)ji=Vi[--Wi],Vi[Wi]=null,Qi=Vi[--Wi],Vi[Wi]=null;for(;e===Ki;)Ki=Xi[--Ji],Xi[Ji]=null,qi=Xi[--Ji],Xi[Ji]=null,Yi=Xi[--Ji],Xi[Ji]=null}var na=null,ra=null,ia=!1,aa=null;function Aa(e,t){var n=Pl(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function oa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=li(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ki?{id:Yi,overflow:qi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pl(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function la(e){if(ia){var t=ra;if(t){var n=t;if(!oa(e,t)){if(sa(e))throw Error(a(418));t=li(n.nextSibling);var r=na;t&&oa(e,t)?Aa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function ua(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function ca(e){if(e!==na)return!1;if(!ia)return ua(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(sa(e))throw fa(),Error(a(418));for(;t;)Aa(e,t),t=li(t.nextSibling)}if(ua(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=li(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?li(e.stateNode.nextSibling):null;return!0}function fa(){for(var e=ra;e;)e=li(e.nextSibling)}function da(){ra=na=null,ia=!1}function ha(e){null===aa?aa=[e]:aa.push(e)}var pa=b.ReactCurrentBatchConfig;function va(e,t){if(e&&e.defaultProps){for(var n in t=N({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ma=Ei(null),ga=null,ya=null,ba=null;function xa(){ba=ya=ga=null}function _a(e){var t=ma.current;Mi(ma),e._currentValue=t}function wa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ea(e,t){ga=e,ba=ya=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bo=!0),e.firstContext=null)}function Ma(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===ya){if(null===ga)throw Error(a(308));ya=e,ga.dependencies={lanes:0,firstContext:e}}else ya=ya.next=e;return t}var Sa=null;function Ca(e){null===Sa?Sa=[e]:Sa.push(e)}function Ta(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ca(t)):(n.next=i.next,i.next=n),t.interleaved=n,ka(e,r)}function ka(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ba=!1;function Ra(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ia(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Da(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&ks)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,ka(e,n)}return null===(i=r.interleaved)?(t.next=t,Ca(r)):(t.next=i.next,i.next=t),r.interleaved=t,ka(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Ua(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var A={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=A:a=a.next=A,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Na(e,t,n,r){var i=e.updateQueue;Ba=!1;var a=i.firstBaseUpdate,A=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var s=o,l=s.next;s.next=null,null===A?a=l:A.next=l,A=s;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==A&&(null===o?u.firstBaseUpdate=l:o.next=l,u.lastBaseUpdate=s))}if(null!==a){var c=i.baseState;for(A=0,u=l=s=null,o=a;;){var f=o.lane,d=o.eventTime;if((r&f)===f){null!==u&&(u=u.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var h=e,p=o;switch(f=t,d=n,p.tag){case 1:if("function"===typeof(h=p.payload)){c=h.call(d,c,f);break e}c=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null===(f="function"===typeof(h=p.payload)?h.call(d,c,f):h)||void 0===f)break e;c=N({},c,f);break e;case 2:Ba=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(f=i.effects)?i.effects=[o]:f.push(o))}else d={eventTime:d,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(l=u=d,s=c):u=u.next=d,A|=f;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(f=o).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===u&&(s=c),i.baseState=s,i.firstBaseUpdate=l,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{A|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ns|=A,e.lanes=A,e.memoizedState=c}}function Oa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Fa=(new r.Component).refs;function za(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:N({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ga={isMounted:function(e){return!!(e=e._reactInternals)&&He(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tl(),i=nl(e),a=Ia(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(rl(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tl(),i=nl(e),a=Ia(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(rl(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tl(),r=nl(e),i=Ia(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Da(e,i,r))&&(rl(t,e,r,n),La(t,e,r))}};function Ha(e,t,n,r,i,a,A){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,A):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function Va(e,t,n){var r=!1,i=Ci,a=t.contextType;return"object"===typeof a&&null!==a?a=Ma(a):(i=Pi(t)?Bi:Ti.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ri(e,i):Ci),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ga,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Wa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ga.enqueueReplaceState(t,t.state,null)}function ja(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Fa,Ra(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ma(a):(a=Pi(t)?Bi:Ti.current,i.context=Ri(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(za(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ga.enqueueReplaceState(i,i.state,null),Na(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Qa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,A=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===A?t.ref:(t=function(e){var t=i.refs;t===Fa&&(t=i.refs={}),null===e?delete t[A]:t[A]=e},t._stringRef=A,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Xa(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ja(e){return(0,e._init)(e._payload)}function Ka(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dl(e,t)).index=0,e.sibling=null,e}function A(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Ol(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var a=n.type;return a===w?c(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===P&&Ja(a)===t.type)?((r=i(t,n.props)).ref=Qa(e,t,n),r.return=e,r):((r=Ll(n.type,n.key,n.props,null,e.mode,r)).ref=Qa(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function c(e,t,n,r,a){return null===t||7!==t.tag?((t=Ul(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Ol(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Ll(t.type,t.key,t.props,null,e.mode,n)).ref=Qa(e,null,t),n.return=e,n;case _:return(t=Fl(t,e.mode,n)).return=e,t;case P:return f(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Ul(t,e.mode,n,null)).return=e,t;Xa(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?l(e,t,n,r):null;case _:return n.key===i?u(e,t,n,r):null;case P:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:c(e,t,n,r,null);Xa(e,n)}return null}function h(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return h(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return c(t,e=e.get(n)||null,r,i,null);Xa(t,r)}return null}function p(i,a,o,s){for(var l=null,u=null,c=a,p=a=0,v=null;null!==c&&p<o.length;p++){c.index>p?(v=c,c=null):v=c.sibling;var m=d(i,c,o[p],s);if(null===m){null===c&&(c=v);break}e&&c&&null===m.alternate&&t(i,c),a=A(m,a,p),null===u?l=m:u.sibling=m,u=m,c=v}if(p===o.length)return n(i,c),ia&&Zi(i,p),l;if(null===c){for(;p<o.length;p++)null!==(c=f(i,o[p],s))&&(a=A(c,a,p),null===u?l=c:u.sibling=c,u=c);return ia&&Zi(i,p),l}for(c=r(i,c);p<o.length;p++)null!==(v=h(c,i,p,o[p],s))&&(e&&null!==v.alternate&&c.delete(null===v.key?p:v.key),a=A(v,a,p),null===u?l=v:u.sibling=v,u=v);return e&&c.forEach((function(e){return t(i,e)})),ia&&Zi(i,p),l}function v(i,o,s,l){var u=L(s);if("function"!==typeof u)throw Error(a(150));if(null==(s=u.call(s)))throw Error(a(151));for(var c=u=null,p=o,v=o=0,m=null,g=s.next();null!==p&&!g.done;v++,g=s.next()){p.index>v?(m=p,p=null):m=p.sibling;var y=d(i,p,g.value,l);if(null===y){null===p&&(p=m);break}e&&p&&null===y.alternate&&t(i,p),o=A(y,o,v),null===c?u=y:c.sibling=y,c=y,p=m}if(g.done)return n(i,p),ia&&Zi(i,v),u;if(null===p){for(;!g.done;v++,g=s.next())null!==(g=f(i,g.value,l))&&(o=A(g,o,v),null===c?u=g:c.sibling=g,c=g);return ia&&Zi(i,v),u}for(p=r(i,p);!g.done;v++,g=s.next())null!==(g=h(p,i,v,g.value,l))&&(e&&null!==g.alternate&&p.delete(null===g.key?v:g.key),o=A(g,o,v),null===c?u=g:c.sibling=g,c=g);return e&&p.forEach((function(e){return t(i,e)})),ia&&Zi(i,v),u}return function e(r,a,A,s){if("object"===typeof A&&null!==A&&A.type===w&&null===A.key&&(A=A.props.children),"object"===typeof A&&null!==A){switch(A.$$typeof){case x:e:{for(var l=A.key,u=a;null!==u;){if(u.key===l){if((l=A.type)===w){if(7===u.tag){n(r,u.sibling),(a=i(u,A.props.children)).return=r,r=a;break e}}else if(u.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===P&&Ja(l)===u.type){n(r,u.sibling),(a=i(u,A.props)).ref=Qa(r,u,A),a.return=r,r=a;break e}n(r,u);break}t(r,u),u=u.sibling}A.type===w?((a=Ul(A.props.children,r.mode,s,A.key)).return=r,r=a):((s=Ll(A.type,A.key,A.props,null,r.mode,s)).ref=Qa(r,a,A),s.return=r,r=s)}return o(r);case _:e:{for(u=A.key;null!==a;){if(a.key===u){if(4===a.tag&&a.stateNode.containerInfo===A.containerInfo&&a.stateNode.implementation===A.implementation){n(r,a.sibling),(a=i(a,A.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Fl(A,r.mode,s)).return=r,r=a}return o(r);case P:return e(r,a,(u=A._init)(A._payload),s)}if(te(A))return p(r,a,A,s);if(L(A))return v(r,a,A,s);Xa(r,A)}return"string"===typeof A&&""!==A||"number"===typeof A?(A=""+A,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,A)).return=r,r=a):(n(r,a),(a=Ol(A,r.mode,s)).return=r,r=a),o(r)):n(r,a)}}var Ya=Ka(!0),qa=Ka(!1),Za={},$a=Ei(Za),eA=Ei(Za),tA=Ei(Za);function nA(e){if(e===Za)throw Error(a(174));return e}function rA(e,t){switch(Si(tA,t),Si(eA,e),Si($a,Za),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Mi($a),Si($a,t)}function iA(){Mi($a),Mi(eA),Mi(tA)}function aA(e){nA(tA.current);var t=nA($a.current),n=se(t,e.type);t!==n&&(Si(eA,e),Si($a,n))}function AA(e){eA.current===e&&(Mi($a),Mi(eA))}var oA=Ei(0);function sA(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var lA=[];function uA(){for(var e=0;e<lA.length;e++)lA[e]._workInProgressVersionPrimary=null;lA.length=0}var cA=b.ReactCurrentDispatcher,fA=b.ReactCurrentBatchConfig,dA=0,hA=null,pA=null,vA=null,mA=!1,gA=!1,yA=0,bA=0;function xA(){throw Error(a(321))}function _A(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function wA(e,t,n,r,i,A){if(dA=A,hA=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,cA.current=null===e||null===e.memoizedState?Ao:oo,e=n(r,i),gA){A=0;do{if(gA=!1,yA=0,25<=A)throw Error(a(301));A+=1,vA=pA=null,t.updateQueue=null,cA.current=so,e=n(r,i)}while(gA)}if(cA.current=ao,t=null!==pA&&null!==pA.next,dA=0,vA=pA=hA=null,mA=!1,t)throw Error(a(300));return e}function EA(){var e=0!==yA;return yA=0,e}function MA(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===vA?hA.memoizedState=vA=e:vA=vA.next=e,vA}function SA(){if(null===pA){var e=hA.alternate;e=null!==e?e.memoizedState:null}else e=pA.next;var t=null===vA?hA.memoizedState:vA.next;if(null!==t)vA=t,pA=e;else{if(null===e)throw Error(a(310));e={memoizedState:(pA=e).memoizedState,baseState:pA.baseState,baseQueue:pA.baseQueue,queue:pA.queue,next:null},null===vA?hA.memoizedState=vA=e:vA=vA.next=e}return vA}function CA(e,t){return"function"===typeof t?t(e):t}function TA(e){var t=SA(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=pA,i=r.baseQueue,A=n.pending;if(null!==A){if(null!==i){var o=i.next;i.next=A.next,A.next=o}r.baseQueue=i=A,n.pending=null}if(null!==i){A=i.next,r=r.baseState;var s=o=null,l=null,u=A;do{var c=u.lane;if((dA&c)===c)null!==l&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===l?(s=l=f,o=r):l=l.next=f,hA.lanes|=c,Ns|=c}u=u.next}while(null!==u&&u!==A);null===l?o=r:l.next=s,or(r,t.memoizedState)||(bo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{A=i.lane,hA.lanes|=A,Ns|=A,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function kA(e){var t=SA(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,A=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{A=e(A,o.action),o=o.next}while(o!==i);or(A,t.memoizedState)||(bo=!0),t.memoizedState=A,null===t.baseQueue&&(t.baseState=A),n.lastRenderedState=A}return[A,r]}function BA(){}function RA(e,t){var n=hA,r=SA(),i=t(),A=!or(r.memoizedState,i);if(A&&(r.memoizedState=i,bo=!0),r=r.queue,VA(DA.bind(null,n,r,e),[e]),r.getSnapshot!==t||A||null!==vA&&1&vA.memoizedState.tag){if(n.flags|=2048,OA(9,IA.bind(null,n,r,i,t),void 0,null),null===Bs)throw Error(a(349));0!==(30&dA)||PA(n,t,i)}return i}function PA(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=hA.updateQueue)?(t={lastEffect:null,stores:null},hA.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function IA(e,t,n,r){t.value=n,t.getSnapshot=r,LA(t)&&UA(e)}function DA(e,t,n){return n((function(){LA(t)&&UA(e)}))}function LA(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function UA(e){var t=ka(e,1);null!==t&&rl(t,e,1,-1)}function NA(e){var t=MA();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:CA,lastRenderedState:e},t.queue=e,e=e.dispatch=to.bind(null,hA,e),[t.memoizedState,e]}function OA(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=hA.updateQueue)?(t={lastEffect:null,stores:null},hA.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function FA(){return SA().memoizedState}function zA(e,t,n,r){var i=MA();hA.flags|=e,i.memoizedState=OA(1|t,n,void 0,void 0===r?null:r)}function GA(e,t,n,r){var i=SA();r=void 0===r?null:r;var a=void 0;if(null!==pA){var A=pA.memoizedState;if(a=A.destroy,null!==r&&_A(r,A.deps))return void(i.memoizedState=OA(t,n,a,r))}hA.flags|=e,i.memoizedState=OA(1|t,n,a,r)}function HA(e,t){return zA(8390656,8,e,t)}function VA(e,t){return GA(2048,8,e,t)}function WA(e,t){return GA(4,2,e,t)}function jA(e,t){return GA(4,4,e,t)}function QA(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function XA(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,GA(4,4,QA.bind(null,t,e),n)}function JA(){}function KA(e,t){var n=SA();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_A(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function YA(e,t){var n=SA();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_A(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function qA(e,t,n){return 0===(21&dA)?(e.baseState&&(e.baseState=!1,bo=!0),e.memoizedState=n):(or(n,t)||(n=pt(),hA.lanes|=n,Ns|=n,e.baseState=!0),t)}function ZA(e,t){var n=yt;yt=0!==n&&4>n?n:4,e(!0);var r=fA.transition;fA.transition={};try{e(!1),t()}finally{yt=n,fA.transition=r}}function $A(){return SA().memoizedState}function eo(e,t,n){var r=nl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},no(e))ro(t,n);else if(null!==(n=Ta(e,t,n,r))){rl(n,e,r,tl()),io(n,t,r)}}function to(e,t,n){var r=nl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(no(e))ro(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var A=t.lastRenderedState,o=a(A,n);if(i.hasEagerState=!0,i.eagerState=o,or(o,A)){var s=t.interleaved;return null===s?(i.next=i,Ca(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(l){}null!==(n=Ta(e,t,i,r))&&(rl(n,e,r,i=tl()),io(n,t,r))}}function no(e){var t=e.alternate;return e===hA||null!==t&&t===hA}function ro(e,t){gA=mA=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function io(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ao={readContext:Ma,useCallback:xA,useContext:xA,useEffect:xA,useImperativeHandle:xA,useInsertionEffect:xA,useLayoutEffect:xA,useMemo:xA,useReducer:xA,useRef:xA,useState:xA,useDebugValue:xA,useDeferredValue:xA,useTransition:xA,useMutableSource:xA,useSyncExternalStore:xA,useId:xA,unstable_isNewReconciler:!1},Ao={readContext:Ma,useCallback:function(e,t){return MA().memoizedState=[e,void 0===t?null:t],e},useContext:Ma,useEffect:HA,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zA(4194308,4,QA.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zA(4194308,4,e,t)},useInsertionEffect:function(e,t){return zA(4,2,e,t)},useMemo:function(e,t){var n=MA();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=MA();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=eo.bind(null,hA,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},MA().memoizedState=e},useState:NA,useDebugValue:JA,useDeferredValue:function(e){return MA().memoizedState=e},useTransition:function(){var e=NA(!1),t=e[0];return e=ZA.bind(null,e[1]),MA().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=hA,i=MA();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Bs)throw Error(a(349));0!==(30&dA)||PA(r,t,n)}i.memoizedState=n;var A={value:n,getSnapshot:t};return i.queue=A,HA(DA.bind(null,r,A,e),[e]),r.flags|=2048,OA(9,IA.bind(null,r,A,n,t),void 0,null),n},useId:function(){var e=MA(),t=Bs.identifierPrefix;if(ia){var n=qi;t=":"+t+"R"+(n=(Yi&~(1<<32-At(Yi)-1)).toString(32)+n),0<(n=yA++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=bA++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},oo={readContext:Ma,useCallback:KA,useContext:Ma,useEffect:VA,useImperativeHandle:XA,useInsertionEffect:WA,useLayoutEffect:jA,useMemo:YA,useReducer:TA,useRef:FA,useState:function(){return TA(CA)},useDebugValue:JA,useDeferredValue:function(e){return qA(SA(),pA.memoizedState,e)},useTransition:function(){return[TA(CA)[0],SA().memoizedState]},useMutableSource:BA,useSyncExternalStore:RA,useId:$A,unstable_isNewReconciler:!1},so={readContext:Ma,useCallback:KA,useContext:Ma,useEffect:VA,useImperativeHandle:XA,useInsertionEffect:WA,useLayoutEffect:jA,useMemo:YA,useReducer:kA,useRef:FA,useState:function(){return kA(CA)},useDebugValue:JA,useDeferredValue:function(e){var t=SA();return null===pA?t.memoizedState=e:qA(t,pA.memoizedState,e)},useTransition:function(){return[kA(CA)[0],SA().memoizedState]},useMutableSource:BA,useSyncExternalStore:RA,useId:$A,unstable_isNewReconciler:!1};function lo(e,t){try{var n="",r=t;do{n+=G(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function uo(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function co(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fo="function"===typeof WeakMap?WeakMap:Map;function ho(e,t,n){(n=Ia(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){js||(js=!0,Qs=r),co(0,t)},n}function po(e,t,n){(n=Ia(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){co(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){co(0,t),"function"!==typeof r&&(null===Xs?Xs=new Set([this]):Xs.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function vo(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fo;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Sl.bind(null,e,t,n),t.then(e,e))}function mo(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function go(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ia(-1,1)).tag=2,Da(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var yo=b.ReactCurrentOwner,bo=!1;function xo(e,t,n,r){t.child=null===e?qa(t,null,n,r):Ya(t,e.child,n,r)}function _o(e,t,n,r,i){n=n.render;var a=t.ref;return Ea(t,i),r=wA(e,t,n,r,a,i),n=EA(),null===e||bo?(ia&&n&&ea(t),t.flags|=1,xo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,jo(e,t,i))}function wo(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Il(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ll(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Eo(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var A=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(A,r)&&e.ref===t.ref)return jo(e,t,i)}return t.flags|=1,(e=Dl(a,r)).ref=t.ref,e.return=t,t.child=e}function Eo(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(bo=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,jo(e,t,i);0!==(131072&e.flags)&&(bo=!0)}}return Co(e,t,n,r,i)}function Mo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Si(Ds,Is),Is|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Si(Ds,Is),Is|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Si(Ds,Is),Is|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Si(Ds,Is),Is|=r;return xo(e,t,i,n),t.child}function So(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Co(e,t,n,r,i){var a=Pi(n)?Bi:Ti.current;return a=Ri(t,a),Ea(t,i),n=wA(e,t,n,r,a,i),r=EA(),null===e||bo?(ia&&r&&ea(t),t.flags|=1,xo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,jo(e,t,i))}function To(e,t,n,r,i){if(Pi(n)){var a=!0;Ui(t)}else a=!1;if(Ea(t,i),null===t.stateNode)Wo(e,t),Va(t,n,r),ja(t,n,r,i),r=!0;else if(null===e){var A=t.stateNode,o=t.memoizedProps;A.props=o;var s=A.context,l=n.contextType;"object"===typeof l&&null!==l?l=Ma(l):l=Ri(t,l=Pi(n)?Bi:Ti.current);var u=n.getDerivedStateFromProps,c="function"===typeof u||"function"===typeof A.getSnapshotBeforeUpdate;c||"function"!==typeof A.UNSAFE_componentWillReceiveProps&&"function"!==typeof A.componentWillReceiveProps||(o!==r||s!==l)&&Wa(t,A,r,l),Ba=!1;var f=t.memoizedState;A.state=f,Na(t,r,A,i),s=t.memoizedState,o!==r||f!==s||ki.current||Ba?("function"===typeof u&&(za(t,n,u,r),s=t.memoizedState),(o=Ba||Ha(t,n,o,r,f,s,l))?(c||"function"!==typeof A.UNSAFE_componentWillMount&&"function"!==typeof A.componentWillMount||("function"===typeof A.componentWillMount&&A.componentWillMount(),"function"===typeof A.UNSAFE_componentWillMount&&A.UNSAFE_componentWillMount()),"function"===typeof A.componentDidMount&&(t.flags|=4194308)):("function"===typeof A.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),A.props=r,A.state=s,A.context=l,r=o):("function"===typeof A.componentDidMount&&(t.flags|=4194308),r=!1)}else{A=t.stateNode,Pa(e,t),o=t.memoizedProps,l=t.type===t.elementType?o:va(t.type,o),A.props=l,c=t.pendingProps,f=A.context,"object"===typeof(s=n.contextType)&&null!==s?s=Ma(s):s=Ri(t,s=Pi(n)?Bi:Ti.current);var d=n.getDerivedStateFromProps;(u="function"===typeof d||"function"===typeof A.getSnapshotBeforeUpdate)||"function"!==typeof A.UNSAFE_componentWillReceiveProps&&"function"!==typeof A.componentWillReceiveProps||(o!==c||f!==s)&&Wa(t,A,r,s),Ba=!1,f=t.memoizedState,A.state=f,Na(t,r,A,i);var h=t.memoizedState;o!==c||f!==h||ki.current||Ba?("function"===typeof d&&(za(t,n,d,r),h=t.memoizedState),(l=Ba||Ha(t,n,l,r,f,h,s)||!1)?(u||"function"!==typeof A.UNSAFE_componentWillUpdate&&"function"!==typeof A.componentWillUpdate||("function"===typeof A.componentWillUpdate&&A.componentWillUpdate(r,h,s),"function"===typeof A.UNSAFE_componentWillUpdate&&A.UNSAFE_componentWillUpdate(r,h,s)),"function"===typeof A.componentDidUpdate&&(t.flags|=4),"function"===typeof A.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof A.componentDidUpdate||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof A.getSnapshotBeforeUpdate||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),A.props=r,A.state=h,A.context=s,r=l):("function"!==typeof A.componentDidUpdate||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof A.getSnapshotBeforeUpdate||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return ko(e,t,n,r,a,i)}function ko(e,t,n,r,i,a){So(e,t);var A=0!==(128&t.flags);if(!r&&!A)return i&&Ni(t,n,!1),jo(e,t,a);r=t.stateNode,yo.current=t;var o=A&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&A?(t.child=Ya(t,e.child,null,a),t.child=Ya(t,null,o,a)):xo(e,t,o,a),t.memoizedState=r.state,i&&Ni(t,n,!0),t.child}function Bo(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),rA(e,t.containerInfo)}function Ro(e,t,n,r,i){return da(),ha(i),t.flags|=256,xo(e,t,n,r),t.child}var Po,Io,Do,Lo,Uo={dehydrated:null,treeContext:null,retryLane:0};function No(e){return{baseLanes:e,cachePool:null,transitions:null}}function Oo(e,t,n){var r,i=t.pendingProps,A=oA.current,o=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&A)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(A|=1),Si(oA,1&A),null===e)return la(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,o?(i=t.mode,o=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=s):o=Nl(s,i,0,null),e=Ul(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=No(n),t.memoizedState=Uo,e):Fo(t,s));if(null!==(A=e.memoizedState)&&null!==(r=A.dehydrated))return function(e,t,n,r,i,A,o){if(n)return 256&t.flags?(t.flags&=-257,zo(e,t,o,r=uo(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(A=r.fallback,i=t.mode,r=Nl({mode:"visible",children:r.children},i,0,null),(A=Ul(A,i,o,null)).flags|=2,r.return=t,A.return=t,r.sibling=A,t.child=r,0!==(1&t.mode)&&Ya(t,e.child,null,o),t.child.memoizedState=No(o),t.memoizedState=Uo,A);if(0===(1&t.mode))return zo(e,t,o,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,zo(e,t,o,r=uo(A=Error(a(419)),r,void 0))}if(s=0!==(o&e.childLanes),bo||s){if(null!==(r=Bs)){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|o))?0:i)&&i!==A.retryLane&&(A.retryLane=i,ka(e,i),rl(r,e,i,-1))}return vl(),zo(e,t,o,r=uo(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tl.bind(null,e),i._reactRetry=t,null):(e=A.treeContext,ra=li(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Xi[Ji++]=Yi,Xi[Ji++]=qi,Xi[Ji++]=Ki,Yi=e.id,qi=e.overflow,Ki=t),t=Fo(t,r.children),t.flags|=4096,t)}(e,t,s,i,r,A,n);if(o){o=i.fallback,s=t.mode,r=(A=e.child).sibling;var l={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==A?((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null):(i=Dl(A,l)).subtreeFlags=14680064&A.subtreeFlags,null!==r?o=Dl(r,o):(o=Ul(o,s,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,s=null===(s=e.child.memoizedState)?No(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=Uo,i}return e=(o=e.child).sibling,i=Dl(o,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fo(e,t){return(t=Nl({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function zo(e,t,n,r){return null!==r&&ha(r),Ya(t,e.child,null,n),(e=Fo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Go(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),wa(e.return,t,n)}function Ho(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Vo(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(xo(e,t,r.children,n),0!==(2&(r=oA.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Go(e,n,t);else if(19===e.tag)Go(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Si(oA,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===sA(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ho(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===sA(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ho(t,!0,n,null,a);break;case"together":Ho(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function jo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ns|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Dl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Qo(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Xo(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Jo(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xo(t),null;case 1:case 17:return Pi(t.type)&&Ii(),Xo(t),null;case 3:return r=t.stateNode,iA(),Mi(ki),Mi(Ti),uA(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ca(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(ol(aa),aa=null))),Io(e,t),Xo(t),null;case 5:AA(t);var i=nA(tA.current);if(n=t.type,null!==e&&null!=t.stateNode)Do(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Xo(t),null}if(e=nA($a.current),ca(t)){r=t.stateNode,n=t.type;var A=t.memoizedProps;switch(r[fi]=t,r[di]=A,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Fr(Lr[i],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":Y(r,A),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!A.multiple},Fr("invalid",r);break;case"textarea":ie(r,A),Fr("invalid",r)}for(var s in ge(n,A),i=null,A)if(A.hasOwnProperty(s)){var l=A[s];"children"===s?"string"===typeof l?r.textContent!==l&&(!0!==A.suppressHydrationWarning&&Zr(r.textContent,l,e),i=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(!0!==A.suppressHydrationWarning&&Zr(r.textContent,l,e),i=["children",""+l]):o.hasOwnProperty(s)&&null!=l&&"onScroll"===s&&Fr("scroll",r)}switch(n){case"input":Q(r),$(r,A,!0);break;case"textarea":Q(r),Ae(r);break;case"select":case"option":break;default:"function"===typeof A.onClick&&(r.onclick=$r)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[fi]=t,e[di]=r,Po(e,t,!1,!1),t.stateNode=e;e:{switch(s=ye(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),i=r;break;case"iframe":case"object":case"embed":Fr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Fr(Lr[i],e);i=r;break;case"source":Fr("error",e),i=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),i=r;break;case"details":Fr("toggle",e),i=r;break;case"input":Y(e,r),i=K(e,r),Fr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=N({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Fr("invalid",e)}for(A in ge(n,i),l=i)if(l.hasOwnProperty(A)){var u=l[A];"style"===A?ve(e,u):"dangerouslySetInnerHTML"===A?null!=(u=u?u.__html:void 0)&&ce(e,u):"children"===A?"string"===typeof u?("textarea"!==n||""!==u)&&fe(e,u):"number"===typeof u&&fe(e,""+u):"suppressContentEditableWarning"!==A&&"suppressHydrationWarning"!==A&&"autoFocus"!==A&&(o.hasOwnProperty(A)?null!=u&&"onScroll"===A&&Fr("scroll",e):null!=u&&y(e,A,u,s))}switch(n){case"input":Q(e),$(e,r,!1);break;case"textarea":Q(e),Ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(A=r.value)?ne(e,!!r.multiple,A,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=$r)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Xo(t),null;case 6:if(e&&null!=t.stateNode)Lo(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=nA(tA.current),nA($a.current),ca(t)){if(r=t.stateNode,n=t.memoizedProps,r[fi]=t,(A=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Zr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zr(r.nodeValue,n,0!==(1&e.mode))}A&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fi]=t,t.stateNode=r}return Xo(t),null;case 13:if(Mi(oA),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))fa(),da(),t.flags|=98560,A=!1;else if(A=ca(t),null!==r&&null!==r.dehydrated){if(null===e){if(!A)throw Error(a(318));if(!(A=null!==(A=t.memoizedState)?A.dehydrated:null))throw Error(a(317));A[fi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Xo(t),A=!1}else null!==aa&&(ol(aa),aa=null),A=!0;if(!A)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&oA.current)?0===Ls&&(Ls=3):vl())),null!==t.updateQueue&&(t.flags|=4),Xo(t),null);case 4:return iA(),Io(e,t),null===e&&Hr(t.stateNode.containerInfo),Xo(t),null;case 10:return _a(t.type._context),Xo(t),null;case 19:if(Mi(oA),null===(A=t.memoizedState))return Xo(t),null;if(r=0!==(128&t.flags),null===(s=A.rendering))if(r)Qo(A,!1);else{if(0!==Ls||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=sA(e))){for(t.flags|=128,Qo(A,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(A=n).flags&=14680066,null===(s=A.alternate)?(A.childLanes=0,A.lanes=e,A.child=null,A.subtreeFlags=0,A.memoizedProps=null,A.memoizedState=null,A.updateQueue=null,A.dependencies=null,A.stateNode=null):(A.childLanes=s.childLanes,A.lanes=s.lanes,A.child=s.child,A.subtreeFlags=0,A.deletions=null,A.memoizedProps=s.memoizedProps,A.memoizedState=s.memoizedState,A.updateQueue=s.updateQueue,A.type=s.type,e=s.dependencies,A.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Si(oA,1&oA.current|2),t.child}e=e.sibling}null!==A.tail&&qe()>Vs&&(t.flags|=128,r=!0,Qo(A,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=sA(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Qo(A,!0),null===A.tail&&"hidden"===A.tailMode&&!s.alternate&&!ia)return Xo(t),null}else 2*qe()-A.renderingStartTime>Vs&&1073741824!==n&&(t.flags|=128,r=!0,Qo(A,!1),t.lanes=4194304);A.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=A.last)?n.sibling=s:t.child=s,A.last=s)}return null!==A.tail?(t=A.tail,A.rendering=t,A.tail=t.sibling,A.renderingStartTime=qe(),t.sibling=null,n=oA.current,Si(oA,r?1&n|2:1&n),t):(Xo(t),null);case 22:case 23:return fl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Is)&&(Xo(t),6&t.subtreeFlags&&(t.flags|=8192)):Xo(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Ko(e,t){switch(ta(t),t.tag){case 1:return Pi(t.type)&&Ii(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return iA(),Mi(ki),Mi(Ti),uA(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return AA(t),null;case 13:if(Mi(oA),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Mi(oA),null;case 4:return iA(),null;case 10:return _a(t.type._context),null;case 22:case 23:return fl(),null;default:return null}}Po=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Io=function(){},Do=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,nA($a.current);var a,A=null;switch(n){case"input":i=K(e,i),r=K(e,r),A=[];break;case"select":i=N({},i,{value:void 0}),r=N({},r,{value:void 0}),A=[];break;case"textarea":i=re(e,i),r=re(e,r),A=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=$r)}for(u in ge(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var s=i[u];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?A||(A=[]):(A=A||[]).push(u,null));for(u in r){var l=r[u];if(s=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(null!=l||null!=s))if("style"===u)if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(A||(A=[]),A.push(u,n)),n=l;else"dangerouslySetInnerHTML"===u?(l=l?l.__html:void 0,s=s?s.__html:void 0,null!=l&&s!==l&&(A=A||[]).push(u,l)):"children"===u?"string"!==typeof l&&"number"!==typeof l||(A=A||[]).push(u,""+l):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=l&&"onScroll"===u&&Fr("scroll",e),A||s===l||(A=[])):(A=A||[]).push(u,l))}n&&(A=A||[]).push("style",n);var u=A;(t.updateQueue=u)&&(t.flags|=4)}},Lo=function(e,t,n,r){n!==r&&(t.flags|=4)};var Yo=!1,qo=!1,Zo="function"===typeof WeakSet?WeakSet:Set,$o=null;function es(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ml(e,t,r)}else n.current=null}function ts(e,t,n){try{n()}catch(r){Ml(e,t,r)}}var ns=!1;function rs(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&ts(t,n,a)}i=i.next}while(i!==r)}}function is(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function as(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function As(e){var t=e.alternate;null!==t&&(e.alternate=null,As(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fi],delete t[di],delete t[pi],delete t[vi],delete t[mi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function os(e){return 5===e.tag||3===e.tag||4===e.tag}function ss(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||os(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ls(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$r));else if(4!==r&&null!==(e=e.child))for(ls(e,t,n),e=e.sibling;null!==e;)ls(e,t,n),e=e.sibling}function us(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(us(e,t,n),e=e.sibling;null!==e;)us(e,t,n),e=e.sibling}var cs=null,fs=!1;function ds(e,t,n){for(n=n.child;null!==n;)hs(e,t,n),n=n.sibling}function hs(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(o){}switch(n.tag){case 5:qo||es(n,t);case 6:var r=cs,i=fs;cs=null,ds(e,t,n),fs=i,null!==(cs=r)&&(fs?(e=cs,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cs.removeChild(n.stateNode));break;case 18:null!==cs&&(fs?(e=cs,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),Ht(e)):si(cs,n.stateNode));break;case 4:r=cs,i=fs,cs=n.stateNode.containerInfo,fs=!0,ds(e,t,n),cs=r,fs=i;break;case 0:case 11:case 14:case 15:if(!qo&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,A=a.destroy;a=a.tag,void 0!==A&&(0!==(2&a)||0!==(4&a))&&ts(n,t,A),i=i.next}while(i!==r)}ds(e,t,n);break;case 1:if(!qo&&(es(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Ml(n,t,o)}ds(e,t,n);break;case 21:ds(e,t,n);break;case 22:1&n.mode?(qo=(r=qo)||null!==n.memoizedState,ds(e,t,n),qo=r):ds(e,t,n);break;default:ds(e,t,n)}}function ps(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Zo),t.forEach((function(t){var r=kl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vs(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var A=e,o=t,s=o;e:for(;null!==s;){switch(s.tag){case 5:cs=s.stateNode,fs=!1;break e;case 3:case 4:cs=s.stateNode.containerInfo,fs=!0;break e}s=s.return}if(null===cs)throw Error(a(160));hs(A,o,i),cs=null,fs=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(u){Ml(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ms(t,e),t=t.sibling}function ms(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vs(t,e),gs(e),4&r){try{rs(3,e,e.return),is(3,e)}catch(v){Ml(e,e.return,v)}try{rs(5,e,e.return)}catch(v){Ml(e,e.return,v)}}break;case 1:vs(t,e),gs(e),512&r&&null!==n&&es(n,n.return);break;case 5:if(vs(t,e),gs(e),512&r&&null!==n&&es(n,n.return),32&e.flags){var i=e.stateNode;try{fe(i,"")}catch(v){Ml(e,e.return,v)}}if(4&r&&null!=(i=e.stateNode)){var A=e.memoizedProps,o=null!==n?n.memoizedProps:A,s=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===s&&"radio"===A.type&&null!=A.name&&q(i,A),ye(s,o);var u=ye(s,A);for(o=0;o<l.length;o+=2){var c=l[o],f=l[o+1];"style"===c?ve(i,f):"dangerouslySetInnerHTML"===c?ce(i,f):"children"===c?fe(i,f):y(i,c,f,u)}switch(s){case"input":Z(i,A);break;case"textarea":ae(i,A);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!A.multiple;var h=A.value;null!=h?ne(i,!!A.multiple,h,!1):d!==!!A.multiple&&(null!=A.defaultValue?ne(i,!!A.multiple,A.defaultValue,!0):ne(i,!!A.multiple,A.multiple?[]:"",!1))}i[di]=A}catch(v){Ml(e,e.return,v)}}break;case 6:if(vs(t,e),gs(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,A=e.memoizedProps;try{i.nodeValue=A}catch(v){Ml(e,e.return,v)}}break;case 3:if(vs(t,e),gs(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ht(t.containerInfo)}catch(v){Ml(e,e.return,v)}break;case 4:default:vs(t,e),gs(e);break;case 13:vs(t,e),gs(e),8192&(i=e.child).flags&&(A=null!==i.memoizedState,i.stateNode.isHidden=A,!A||null!==i.alternate&&null!==i.alternate.memoizedState||(Hs=qe())),4&r&&ps(e);break;case 22:if(c=null!==n&&null!==n.memoizedState,1&e.mode?(qo=(u=qo)||c,vs(t,e),qo=u):vs(t,e),gs(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!c&&0!==(1&e.mode))for($o=e,c=e.child;null!==c;){for(f=$o=c;null!==$o;){switch(h=(d=$o).child,d.tag){case 0:case 11:case 14:case 15:rs(4,d,d.return);break;case 1:es(d,d.return);var p=d.stateNode;if("function"===typeof p.componentWillUnmount){r=d,n=d.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(v){Ml(r,n,v)}}break;case 5:es(d,d.return);break;case 22:if(null!==d.memoizedState){_s(f);continue}}null!==h?(h.return=d,$o=h):_s(f)}c=c.sibling}e:for(c=null,f=e;;){if(5===f.tag){if(null===c){c=f;try{i=f.stateNode,u?"function"===typeof(A=i.style).setProperty?A.setProperty("display","none","important"):A.display="none":(s=f.stateNode,o=void 0!==(l=f.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,s.style.display=pe("display",o))}catch(v){Ml(e,e.return,v)}}}else if(6===f.tag){if(null===c)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){Ml(e,e.return,v)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:vs(t,e),gs(e),4&r&&ps(e);case 21:}}function gs(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(os(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(fe(i,""),r.flags&=-33),us(e,ss(e),i);break;case 3:case 4:var A=r.stateNode.containerInfo;ls(e,ss(e),A);break;default:throw Error(a(161))}}catch(o){Ml(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function ys(e,t,n){$o=e,bs(e,t,n)}function bs(e,t,n){for(var r=0!==(1&e.mode);null!==$o;){var i=$o,a=i.child;if(22===i.tag&&r){var A=null!==i.memoizedState||Yo;if(!A){var o=i.alternate,s=null!==o&&null!==o.memoizedState||qo;o=Yo;var l=qo;if(Yo=A,(qo=s)&&!l)for($o=i;null!==$o;)s=(A=$o).child,22===A.tag&&null!==A.memoizedState?ws(i):null!==s?(s.return=A,$o=s):ws(i);for(;null!==a;)$o=a,bs(a,t,n),a=a.sibling;$o=i,Yo=o,qo=l}xs(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,$o=a):xs(e)}}function xs(e){for(;null!==$o;){var t=$o;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:qo||is(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!qo)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:va(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var A=t.updateQueue;null!==A&&Oa(t,A,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Oa(t,o,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var c=u.memoizedState;if(null!==c){var f=c.dehydrated;null!==f&&Ht(f)}}}break;default:throw Error(a(163))}qo||512&t.flags&&as(t)}catch(d){Ml(t,t.return,d)}}if(t===e){$o=null;break}if(null!==(n=t.sibling)){n.return=t.return,$o=n;break}$o=t.return}}function _s(e){for(;null!==$o;){var t=$o;if(t===e){$o=null;break}var n=t.sibling;if(null!==n){n.return=t.return,$o=n;break}$o=t.return}}function ws(e){for(;null!==$o;){var t=$o;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{is(4,t)}catch(s){Ml(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){Ml(t,i,s)}}var a=t.return;try{as(t)}catch(s){Ml(t,a,s)}break;case 5:var A=t.return;try{as(t)}catch(s){Ml(t,A,s)}}}catch(s){Ml(t,t.return,s)}if(t===e){$o=null;break}var o=t.sibling;if(null!==o){o.return=t.return,$o=o;break}$o=t.return}}var Es,Ms=Math.ceil,Ss=b.ReactCurrentDispatcher,Cs=b.ReactCurrentOwner,Ts=b.ReactCurrentBatchConfig,ks=0,Bs=null,Rs=null,Ps=0,Is=0,Ds=Ei(0),Ls=0,Us=null,Ns=0,Os=0,Fs=0,zs=null,Gs=null,Hs=0,Vs=1/0,Ws=null,js=!1,Qs=null,Xs=null,Js=!1,Ks=null,Ys=0,qs=0,Zs=null,$s=-1,el=0;function tl(){return 0!==(6&ks)?qe():-1!==$s?$s:$s=qe()}function nl(e){return 0===(1&e.mode)?1:0!==(2&ks)&&0!==Ps?Ps&-Ps:null!==pa.transition?(0===el&&(el=pt()),el):0!==(e=yt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function rl(e,t,n,r){if(50<qs)throw qs=0,Zs=null,Error(a(185));mt(e,n,r),0!==(2&ks)&&e===Bs||(e===Bs&&(0===(2&ks)&&(Os|=n),4===Ls&&sl(e,Ps)),il(e,r),1===n&&0===ks&&0===(1&t.mode)&&(Vs=qe()+500,Fi&&Hi()))}function il(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var A=31-At(a),o=1<<A,s=i[A];-1===s?0!==(o&n)&&0===(o&r)||(i[A]=dt(o,t)):s<=t&&(e.expiredLanes|=o),a&=~o}}(e,t);var r=ft(e,e===Bs?Ps:0);if(0===r)null!==n&&Je(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Je(n),1===t)0===e.tag?function(e){Fi=!0,Gi(e)}(ll.bind(null,e)):Gi(ll.bind(null,e)),Ai((function(){0===(6&ks)&&Hi()})),n=null;else{switch(bt(r)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Bl(n,al.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function al(e,t){if($s=-1,el=0,0!==(6&ks))throw Error(a(327));var n=e.callbackNode;if(wl()&&e.callbackNode!==n)return null;var r=ft(e,e===Bs?Ps:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=ml(e,r);else{t=r;var i=ks;ks|=2;var A=pl();for(Bs===e&&Ps===t||(Ws=null,Vs=qe()+500,dl(e,t));;)try{yl();break}catch(s){hl(e,s)}xa(),Ss.current=A,ks=i,null!==Rs?t=0:(Bs=null,Ps=0,t=Ls)}if(0!==t){if(2===t&&(0!==(i=ht(e))&&(r=i,t=Al(e,i))),1===t)throw n=Us,dl(e,0),sl(e,r),il(e,qe()),n;if(6===t)sl(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!or(a(),i))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=ml(e,r))&&(0!==(A=ht(e))&&(r=A,t=Al(e,A))),1===t))throw n=Us,dl(e,0),sl(e,r),il(e,qe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:_l(e,Gs,Ws);break;case 3:if(sl(e,r),(130023424&r)===r&&10<(t=Hs+500-qe())){if(0!==ft(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tl(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(_l.bind(null,e,Gs,Ws),t);break}_l(e,Gs,Ws);break;case 4:if(sl(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-At(r);A=1<<o,(o=t[o])>i&&(i=o),r&=~A}if(r=i,10<(r=(120>(r=qe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ms(r/1960))-r)){e.timeoutHandle=ri(_l.bind(null,e,Gs,Ws),r);break}_l(e,Gs,Ws);break;default:throw Error(a(329))}}}return il(e,qe()),e.callbackNode===n?al.bind(null,e):null}function Al(e,t){var n=zs;return e.current.memoizedState.isDehydrated&&(dl(e,t).flags|=256),2!==(e=ml(e,t))&&(t=Gs,Gs=n,null!==t&&ol(t)),e}function ol(e){null===Gs?Gs=e:Gs.push.apply(Gs,e)}function sl(e,t){for(t&=~Fs,t&=~Os,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-At(t),r=1<<n;e[n]=-1,t&=~r}}function ll(e){if(0!==(6&ks))throw Error(a(327));wl();var t=ft(e,0);if(0===(1&t))return il(e,qe()),null;var n=ml(e,t);if(0!==e.tag&&2===n){var r=ht(e);0!==r&&(t=r,n=Al(e,r))}if(1===n)throw n=Us,dl(e,0),sl(e,t),il(e,qe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_l(e,Gs,Ws),il(e,qe()),null}function ul(e,t){var n=ks;ks|=1;try{return e(t)}finally{0===(ks=n)&&(Vs=qe()+500,Fi&&Hi())}}function cl(e){null!==Ks&&0===Ks.tag&&0===(6&ks)&&wl();var t=ks;ks|=1;var n=Ts.transition,r=yt;try{if(Ts.transition=null,yt=1,e)return e()}finally{yt=r,Ts.transition=n,0===(6&(ks=t))&&Hi()}}function fl(){Is=Ds.current,Mi(Ds)}function dl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Rs)for(n=Rs.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ii();break;case 3:iA(),Mi(ki),Mi(Ti),uA();break;case 5:AA(r);break;case 4:iA();break;case 13:case 19:Mi(oA);break;case 10:_a(r.type._context);break;case 22:case 23:fl()}n=n.return}if(Bs=e,Rs=e=Dl(e.current,null),Ps=Is=t,Ls=0,Us=null,Fs=Os=Ns=0,Gs=zs=null,null!==Sa){for(t=0;t<Sa.length;t++)if(null!==(r=(n=Sa[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var A=a.next;a.next=i,r.next=A}n.pending=r}Sa=null}return e}function hl(e,t){for(;;){var n=Rs;try{if(xa(),cA.current=ao,mA){for(var r=hA.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}mA=!1}if(dA=0,vA=pA=hA=null,gA=!1,yA=0,Cs.current=null,null===n||null===n.return){Ls=1,Us=t,Rs=null;break}e:{var A=e,o=n.return,s=n,l=t;if(t=Ps,s.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var u=l,c=s,f=c.tag;if(0===(1&c.mode)&&(0===f||11===f||15===f)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=mo(o);if(null!==h){h.flags&=-257,go(h,o,s,0,t),1&h.mode&&vo(A,u,t),l=u;var p=(t=h).updateQueue;if(null===p){var v=new Set;v.add(l),t.updateQueue=v}else p.add(l);break e}if(0===(1&t)){vo(A,u,t),vl();break e}l=Error(a(426))}else if(ia&&1&s.mode){var m=mo(o);if(null!==m){0===(65536&m.flags)&&(m.flags|=256),go(m,o,s,0,t),ha(lo(l,s));break e}}A=l=lo(l,s),4!==Ls&&(Ls=2),null===zs?zs=[A]:zs.push(A),A=o;do{switch(A.tag){case 3:A.flags|=65536,t&=-t,A.lanes|=t,Ua(A,ho(0,l,t));break e;case 1:s=l;var g=A.type,y=A.stateNode;if(0===(128&A.flags)&&("function"===typeof g.getDerivedStateFromError||null!==y&&"function"===typeof y.componentDidCatch&&(null===Xs||!Xs.has(y)))){A.flags|=65536,t&=-t,A.lanes|=t,Ua(A,po(A,s,t));break e}}A=A.return}while(null!==A)}xl(n)}catch(b){t=b,Rs===n&&null!==n&&(Rs=n=n.return);continue}break}}function pl(){var e=Ss.current;return Ss.current=ao,null===e?ao:e}function vl(){0!==Ls&&3!==Ls&&2!==Ls||(Ls=4),null===Bs||0===(268435455&Ns)&&0===(268435455&Os)||sl(Bs,Ps)}function ml(e,t){var n=ks;ks|=2;var r=pl();for(Bs===e&&Ps===t||(Ws=null,dl(e,t));;)try{gl();break}catch(i){hl(e,i)}if(xa(),ks=n,Ss.current=r,null!==Rs)throw Error(a(261));return Bs=null,Ps=0,Ls}function gl(){for(;null!==Rs;)bl(Rs)}function yl(){for(;null!==Rs&&!Ke();)bl(Rs)}function bl(e){var t=Es(e.alternate,e,Is);e.memoizedProps=e.pendingProps,null===t?xl(e):Rs=t,Cs.current=null}function xl(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Jo(n,t,Is)))return void(Rs=n)}else{if(null!==(n=Ko(n,t)))return n.flags&=32767,void(Rs=n);if(null===e)return Ls=6,void(Rs=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Rs=t);Rs=t=e}while(null!==t);0===Ls&&(Ls=5)}function _l(e,t,n){var r=yt,i=Ts.transition;try{Ts.transition=null,yt=1,function(e,t,n,r){do{wl()}while(null!==Ks);if(0!==(6&ks))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var A=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-At(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,A),e===Bs&&(Rs=Bs=null,Ps=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Js||(Js=!0,Bl(tt,(function(){return wl(),null}))),A=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||A){A=Ts.transition,Ts.transition=null;var o=yt;yt=1;var s=ks;ks|=4,Cs.current=null,function(e,t){if(ei=Wt,dr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,A=r.focusNode;r=r.focusOffset;try{n.nodeType,A.nodeType}catch(x){n=null;break e}var o=0,s=-1,l=-1,u=0,c=0,f=e,d=null;t:for(;;){for(var h;f!==n||0!==i&&3!==f.nodeType||(s=o+i),f!==A||0!==r&&3!==f.nodeType||(l=o+r),3===f.nodeType&&(o+=f.nodeValue.length),null!==(h=f.firstChild);)d=f,f=h;for(;;){if(f===e)break t;if(d===n&&++u===i&&(s=o),d===A&&++c===r&&(l=o),null!==(h=f.nextSibling))break;d=(f=d).parentNode}f=h}n=-1===s||-1===l?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,$o=t;null!==$o;)if(e=(t=$o).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,$o=e;else for(;null!==$o;){t=$o;try{var p=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==p){var v=p.memoizedProps,m=p.memoizedState,g=t.stateNode,y=g.getSnapshotBeforeUpdate(t.elementType===t.type?v:va(t.type,v),m);g.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(x){Ml(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,$o=e;break}$o=t.return}p=ns,ns=!1}(e,n),ms(n,e),hr(ti),Wt=!!ei,ti=ei=null,e.current=n,ys(n,e,i),Ye(),ks=s,yt=o,Ts.transition=A}else e.current=n;if(Js&&(Js=!1,Ks=e,Ys=i),A=e.pendingLanes,0===A&&(Xs=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),il(e,qe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(js)throw js=!1,e=Qs,Qs=null,e;0!==(1&Ys)&&0!==e.tag&&wl(),A=e.pendingLanes,0!==(1&A)?e===Zs?qs++:(qs=0,Zs=e):qs=0,Hi()}(e,t,n,r)}finally{Ts.transition=i,yt=r}return null}function wl(){if(null!==Ks){var e=bt(Ys),t=Ts.transition,n=yt;try{if(Ts.transition=null,yt=16>e?16:e,null===Ks)var r=!1;else{if(e=Ks,Ks=null,Ys=0,0!==(6&ks))throw Error(a(331));var i=ks;for(ks|=4,$o=e.current;null!==$o;){var A=$o,o=A.child;if(0!==(16&$o.flags)){var s=A.deletions;if(null!==s){for(var l=0;l<s.length;l++){var u=s[l];for($o=u;null!==$o;){var c=$o;switch(c.tag){case 0:case 11:case 15:rs(8,c,A)}var f=c.child;if(null!==f)f.return=c,$o=f;else for(;null!==$o;){var d=(c=$o).sibling,h=c.return;if(As(c),c===u){$o=null;break}if(null!==d){d.return=h,$o=d;break}$o=h}}}var p=A.alternate;if(null!==p){var v=p.child;if(null!==v){p.child=null;do{var m=v.sibling;v.sibling=null,v=m}while(null!==v)}}$o=A}}if(0!==(2064&A.subtreeFlags)&&null!==o)o.return=A,$o=o;else e:for(;null!==$o;){if(0!==(2048&(A=$o).flags))switch(A.tag){case 0:case 11:case 15:rs(9,A,A.return)}var g=A.sibling;if(null!==g){g.return=A.return,$o=g;break e}$o=A.return}}var y=e.current;for($o=y;null!==$o;){var b=(o=$o).child;if(0!==(2064&o.subtreeFlags)&&null!==b)b.return=o,$o=b;else e:for(o=y;null!==$o;){if(0!==(2048&(s=$o).flags))try{switch(s.tag){case 0:case 11:case 15:is(9,s)}}catch(_){Ml(s,s.return,_)}if(s===o){$o=null;break e}var x=s.sibling;if(null!==x){x.return=s.return,$o=x;break e}$o=s.return}}if(ks=i,Hi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(_){}r=!0}return r}finally{yt=n,Ts.transition=t}}return!1}function El(e,t,n){e=Da(e,t=ho(0,t=lo(n,t),1),1),t=tl(),null!==e&&(mt(e,1,t),il(e,t))}function Ml(e,t,n){if(3===e.tag)El(e,e,n);else for(;null!==t;){if(3===t.tag){El(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Xs||!Xs.has(r))){t=Da(t,e=po(t,e=lo(n,e),1),1),e=tl(),null!==t&&(mt(t,1,e),il(t,e));break}}t=t.return}}function Sl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tl(),e.pingedLanes|=e.suspendedLanes&n,Bs===e&&(Ps&n)===n&&(4===Ls||3===Ls&&(130023424&Ps)===Ps&&500>qe()-Hs?dl(e,0):Fs|=n),il(e,t)}function Cl(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=tl();null!==(e=ka(e,t))&&(mt(e,t,n),il(e,n))}function Tl(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cl(e,n)}function kl(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Cl(e,n)}function Bl(e,t){return Xe(e,t)}function Rl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pl(e,t,n,r){return new Rl(e,t,n,r)}function Il(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dl(e,t){var n=e.alternate;return null===n?((n=Pl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ll(e,t,n,r,i,A){var o=2;if(r=e,"function"===typeof e)Il(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case w:return Ul(n.children,i,A,t);case E:o=8,i|=8;break;case M:return(e=Pl(12,n,t,2|i)).elementType=M,e.lanes=A,e;case k:return(e=Pl(13,n,t,i)).elementType=k,e.lanes=A,e;case B:return(e=Pl(19,n,t,i)).elementType=B,e.lanes=A,e;case I:return Nl(n,i,A,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:o=10;break e;case C:o=9;break e;case T:o=11;break e;case R:o=14;break e;case P:o=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Pl(o,n,t,i)).elementType=e,t.type=r,t.lanes=A,t}function Ul(e,t,n,r){return(e=Pl(7,e,r,t)).lanes=n,e}function Nl(e,t,n,r){return(e=Pl(22,e,r,t)).elementType=I,e.lanes=n,e.stateNode={isHidden:!1},e}function Ol(e,t,n){return(e=Pl(6,e,null,t)).lanes=n,e}function Fl(e,t,n){return(t=Pl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zl(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vt(0),this.expirationTimes=vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Gl(e,t,n,r,i,a,A,o,s){return e=new zl(e,t,n,o,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Pl(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ra(a),e}function Hl(e){if(!e)return Ci;e:{if(He(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Li(e,n,t)}return t}function Vl(e,t,n,r,i,a,A,o,s){return(e=Gl(n,r,!0,e,0,a,0,o,s)).context=Hl(null),n=e.current,(a=Ia(r=tl(),i=nl(n))).callback=void 0!==t&&null!==t?t:null,Da(n,a,i),e.current.lanes=i,mt(e,i,r),il(e,r),e}function Wl(e,t,n,r){var i=t.current,a=tl(),A=nl(i);return n=Hl(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ia(a,A)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Da(i,t,A))&&(rl(e,i,A,a),La(e,i,A)),A}function jl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Ql(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Xl(e,t){Ql(e,t),(e=e.alternate)&&Ql(e,t)}Es=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||ki.current)bo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bo=!1,function(e,t,n){switch(t.tag){case 3:Bo(t),da();break;case 5:aA(t);break;case 1:Pi(t.type)&&Ui(t);break;case 4:rA(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Si(ma,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Si(oA,1&oA.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Oo(e,t,n):(Si(oA,1&oA.current),null!==(e=jo(e,t,n))?e.sibling:null);Si(oA,1&oA.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Vo(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Si(oA,oA.current),r)break;return null;case 22:case 23:return t.lanes=0,Mo(e,t,n)}return jo(e,t,n)}(e,t,n);bo=0!==(131072&e.flags)}else bo=!1,ia&&0!==(1048576&t.flags)&&$i(t,Qi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Wo(e,t),e=t.pendingProps;var i=Ri(t,Ti.current);Ea(t,n),i=wA(null,t,r,e,i,n);var A=EA();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(A=!0,Ui(t)):A=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ra(t),i.updater=Ga,t.stateNode=i,i._reactInternals=t,ja(t,r,e,n),t=ko(null,t,r,!0,A,n)):(t.tag=0,ia&&A&&ea(t),xo(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Wo(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Il(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===R)return 14}return 2}(r),e=va(r,e),i){case 0:t=Co(null,t,r,e,n);break e;case 1:t=To(null,t,r,e,n);break e;case 11:t=_o(null,t,r,e,n);break e;case 14:t=wo(null,t,r,va(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Co(e,t,r,i=t.elementType===r?i:va(r,i),n);case 1:return r=t.type,i=t.pendingProps,To(e,t,r,i=t.elementType===r?i:va(r,i),n);case 3:e:{if(Bo(t),null===e)throw Error(a(387));r=t.pendingProps,i=(A=t.memoizedState).element,Pa(e,t),Na(t,r,null,n);var o=t.memoizedState;if(r=o.element,A.isDehydrated){if(A={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=A,t.memoizedState=A,256&t.flags){t=Ro(e,t,r,n,i=lo(Error(a(423)),t));break e}if(r!==i){t=Ro(e,t,r,n,i=lo(Error(a(424)),t));break e}for(ra=li(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=qa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=jo(e,t,n);break e}xo(e,t,r,n)}t=t.child}return t;case 5:return aA(t),null===e&&la(t),r=t.type,i=t.pendingProps,A=null!==e?e.memoizedProps:null,o=i.children,ni(r,i)?o=null:null!==A&&ni(r,A)&&(t.flags|=32),So(e,t),xo(e,t,o,n),t.child;case 6:return null===e&&la(t),null;case 13:return Oo(e,t,n);case 4:return rA(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ya(t,null,r,n):xo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_o(e,t,r,i=t.elementType===r?i:va(r,i),n);case 7:return xo(e,t,t.pendingProps,n),t.child;case 8:case 12:return xo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,A=t.memoizedProps,o=i.value,Si(ma,r._currentValue),r._currentValue=o,null!==A)if(or(A.value,o)){if(A.children===i.children&&!ki.current){t=jo(e,t,n);break e}}else for(null!==(A=t.child)&&(A.return=t);null!==A;){var s=A.dependencies;if(null!==s){o=A.child;for(var l=s.firstContext;null!==l;){if(l.context===r){if(1===A.tag){(l=Ia(-1,n&-n)).tag=2;var u=A.updateQueue;if(null!==u){var c=(u=u.shared).pending;null===c?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}A.lanes|=n,null!==(l=A.alternate)&&(l.lanes|=n),wa(A.return,n,t),s.lanes|=n;break}l=l.next}}else if(10===A.tag)o=A.type===t.type?null:A.child;else if(18===A.tag){if(null===(o=A.return))throw Error(a(341));o.lanes|=n,null!==(s=o.alternate)&&(s.lanes|=n),wa(o,n,t),o=A.sibling}else o=A.child;if(null!==o)o.return=A;else for(o=A;null!==o;){if(o===t){o=null;break}if(null!==(A=o.sibling)){A.return=o.return,o=A;break}o=o.return}A=o}xo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ea(t,n),r=r(i=Ma(i)),t.flags|=1,xo(e,t,r,n),t.child;case 14:return i=va(r=t.type,t.pendingProps),wo(e,t,r,i=va(r.type,i),n);case 15:return Eo(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:va(r,i),Wo(e,t),t.tag=1,Pi(r)?(e=!0,Ui(t)):e=!1,Ea(t,n),Va(t,r,i),ja(t,r,i,n),ko(null,t,r,!0,e,n);case 19:return Vo(e,t,n);case 22:return Mo(e,t,n)}throw Error(a(156,t.tag))};var Jl="function"===typeof reportError?reportError:function(e){console.error(e)};function Kl(e){this._internalRoot=e}function Yl(e){this._internalRoot=e}function ql(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $l(){}function eu(e,t,n,r,i){var a=n._reactRootContainer;if(a){var A=a;if("function"===typeof i){var o=i;i=function(){var e=jl(A);o.call(e)}}Wl(t,A,e,i)}else A=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=jl(A);a.call(e)}}var A=Vl(t,r,e,0,null,!1,0,"",$l);return e._reactRootContainer=A,e[hi]=A.current,Hr(8===e.nodeType?e.parentNode:e),cl(),A}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var o=r;r=function(){var e=jl(s);o.call(e)}}var s=Gl(e,0,!1,null,0,!1,0,"",$l);return e._reactRootContainer=s,e[hi]=s.current,Hr(8===e.nodeType?e.parentNode:e),cl((function(){Wl(t,s,n,r)})),s}(n,t,e,i,r);return jl(A)}Yl.prototype.render=Kl.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Wl(e,t,null,null)},Yl.prototype.unmount=Kl.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cl((function(){Wl(null,e,null,null)})),t[hi]=null}},Yl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<It.length&&0!==t&&t<It[n].priority;n++);It.splice(n,0,e),0===n&&Nt(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ct(t.pendingLanes);0!==n&&(gt(t,1|n),il(t,qe()),0===(6&ks)&&(Vs=qe()+500,Hi()))}break;case 13:cl((function(){var t=ka(e,1);if(null!==t){var n=tl();rl(t,e,1,n)}})),Xl(e,1)}},_t=function(e){if(13===e.tag){var t=ka(e,134217728);if(null!==t)rl(t,e,134217728,tl());Xl(e,134217728)}},wt=function(e){if(13===e.tag){var t=nl(e),n=ka(e,t);if(null!==n)rl(n,e,t,tl());Xl(e,t)}},Et=function(){return yt},Mt=function(e,t){var n=yt;try{return yt=e,t()}finally{yt=n}},_e=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=xi(r);if(!i)throw Error(a(90));X(r),Z(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=ul,ke=cl;var tu={usingClientEntryPoint:!1,Events:[yi,bi,xi,Se,Ce,ul]},nu={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ru={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=je(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{it=iu.inject(ru),at=iu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ql(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!ql(e))throw Error(a(299));var n=!1,r="",i=Jl;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Gl(e,1,!1,null,0,n,0,r,i),e[hi]=t.current,Hr(8===e.nodeType?e.parentNode:e),new Kl(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=je(t))?null:e.stateNode},t.flushSync=function(e){return cl(e)},t.hydrate=function(e,t,n){if(!Zl(t))throw Error(a(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!ql(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,A="",o=Jl;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(A=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Vl(t,null,e,1,null!=n?n:null,i,0,A,o),e[hi]=t.current,Hr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yl(t)},t.render=function(e,t,n){if(!Zl(t))throw Error(a(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zl(e))throw Error(a(40));return!!e._reactRootContainer&&(cl((function(){eu(null,null,e,!1,(function(){e._reactRootContainer=null,e[hi]=null}))})),!0)},t.unstable_batchedUpdates=ul,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zl(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return eu(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},372:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,A=n?Symbol.for("react.strict_mode"):60108,o=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,c=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,h=n?Symbol.for("react.suspense_list"):60120,p=n?Symbol.for("react.memo"):60115,v=n?Symbol.for("react.lazy"):60116,m=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,y=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function x(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case c:case a:case o:case A:case d:return e;default:switch(e=e&&e.$$typeof){case l:case f:case v:case p:case s:return e;default:return t}}case i:return t}}}function _(e){return x(e)===c}t.AsyncMode=u,t.ConcurrentMode=c,t.ContextConsumer=l,t.ContextProvider=s,t.Element=r,t.ForwardRef=f,t.Fragment=a,t.Lazy=v,t.Memo=p,t.Portal=i,t.Profiler=o,t.StrictMode=A,t.Suspense=d,t.isAsyncMode=function(e){return _(e)||x(e)===u},t.isConcurrentMode=_,t.isContextConsumer=function(e){return x(e)===l},t.isContextProvider=function(e){return x(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return x(e)===f},t.isFragment=function(e){return x(e)===a},t.isLazy=function(e){return x(e)===v},t.isMemo=function(e){return x(e)===p},t.isPortal=function(e){return x(e)===i},t.isProfiler=function(e){return x(e)===o},t.isStrictMode=function(e){return x(e)===A},t.isSuspense=function(e){return x(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===c||e===o||e===A||e===d||e===h||"object"===typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===p||e.$$typeof===s||e.$$typeof===l||e.$$typeof===f||e.$$typeof===g||e.$$typeof===y||e.$$typeof===b||e.$$typeof===m)},t.typeOf=x},441:function(e,t,n){"use strict";e.exports=n(372)},976:function(e,t){"use strict";t.ConcurrentRoot=1,t.ContinuousEventPriority=4,t.DefaultEventPriority=16,t.DiscreteEventPriority=1},721:function(e,t,n){e.exports=function(e){var t={},r=n(791),i=n(100),a=Object.assign;function A(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,s=Symbol.for("react.element"),l=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var b=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var x=Symbol.iterator;function _(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=x&&e[x]||e["@@iterator"])?e:null}function w(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case u:return"Fragment";case l:return"Portal";case f:return"Profiler";case c:return"StrictMode";case v:return"Suspense";case m:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case h:return(e.displayName||"Context")+".Consumer";case d:return(e._context.displayName||"Context")+".Provider";case p:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case g:return null!==(t=e.displayName||null)?t:w(e.type)||"Memo";case y:t=e._payload,e=e._init;try{return w(e(t))}catch(n){}}return null}function E(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return w(t);case 8:return t===c?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function M(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function S(e){if(M(e)!==e)throw Error(A(188))}function C(e){var t=e.alternate;if(!t){if(null===(t=M(e)))throw Error(A(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return S(i),e;if(a===r)return S(i),t;a=a.sibling}throw Error(A(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,s=i.child;s;){if(s===n){o=!0,n=i,r=a;break}if(s===r){o=!0,r=i,n=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===n){o=!0,n=a,r=i;break}if(s===r){o=!0,r=a,n=i;break}s=s.sibling}if(!o)throw Error(A(189))}}if(n.alternate!==r)throw Error(A(190))}if(3!==n.tag)throw Error(A(188));return n.stateNode.current===n?e:t}function T(e){return null!==(e=C(e))?k(e):null}function k(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=k(e);if(null!==t)return t;e=e.sibling}return null}function B(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){if(4!==e.tag){var t=B(e);if(null!==t)return t}e=e.sibling}return null}var R,P=Array.isArray,I=e.getPublicInstance,D=e.getRootHostContext,L=e.getChildHostContext,U=e.prepareForCommit,N=e.resetAfterCommit,O=e.createInstance,F=e.appendInitialChild,z=e.finalizeInitialChildren,G=e.prepareUpdate,H=e.shouldSetTextContent,V=e.createTextInstance,W=e.scheduleTimeout,j=e.cancelTimeout,Q=e.noTimeout,X=e.isPrimaryRenderer,J=e.supportsMutation,K=e.supportsPersistence,Y=e.supportsHydration,q=e.getInstanceFromNode,Z=e.preparePortalMount,$=e.getCurrentEventPriority,ee=e.detachDeletedInstance,te=e.supportsMicrotasks,ne=e.scheduleMicrotask,re=e.supportsTestSelectors,ie=e.findFiberRoot,ae=e.getBoundingRect,Ae=e.getTextContent,oe=e.isHiddenSubtree,se=e.matchAccessibilityRole,le=e.setFocusIfFocusable,ue=e.setupIntersectionObserver,ce=e.appendChild,fe=e.appendChildToContainer,de=e.commitTextUpdate,he=e.commitMount,pe=e.commitUpdate,ve=e.insertBefore,me=e.insertInContainerBefore,ge=e.removeChild,ye=e.removeChildFromContainer,be=e.resetTextContent,xe=e.hideInstance,_e=e.hideTextInstance,we=e.unhideInstance,Ee=e.unhideTextInstance,Me=e.clearContainer,Se=e.cloneInstance,Ce=e.createContainerChildSet,Te=e.appendChildToContainerChildSet,ke=e.finalizeContainerChildren,Be=e.replaceContainerChildren,Re=e.cloneHiddenInstance,Pe=e.cloneHiddenTextInstance,Ie=e.canHydrateInstance,De=e.canHydrateTextInstance,Le=e.canHydrateSuspenseInstance,Ue=e.isSuspenseInstancePending,Ne=e.isSuspenseInstanceFallback,Oe=e.registerSuspenseInstanceRetry,Fe=e.getNextHydratableSibling,ze=e.getFirstHydratableChild,Ge=e.getFirstHydratableChildWithinContainer,He=e.getFirstHydratableChildWithinSuspenseInstance,Ve=e.hydrateInstance,We=e.hydrateTextInstance,je=e.hydrateSuspenseInstance,Qe=e.getNextHydratableInstanceAfterSuspenseInstance,Xe=e.commitHydratedContainer,Je=e.commitHydratedSuspenseInstance,Ke=e.clearSuspenseBoundary,Ye=e.clearSuspenseBoundaryFromContainer,qe=e.shouldDeleteUnhydratedTailInstances,Ze=e.didNotMatchHydratedContainerTextInstance,$e=e.didNotMatchHydratedTextInstance;function et(e){if(void 0===R)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);R=t&&t[1]||""}return"\n"+R+e}var tt=!1;function nt(e,t){if(!e||tt)return"";tt=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),a=r.stack.split("\n"),A=i.length-1,o=a.length-1;1<=A&&0<=o&&i[A]!==a[o];)o--;for(;1<=A&&0<=o;A--,o--)if(i[A]!==a[o]){if(1!==A||1!==o)do{if(A--,0>--o||i[A]!==a[o]){var s="\n"+i[A].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=A&&0<=o);break}}}finally{tt=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?et(e):""}var rt=Object.prototype.hasOwnProperty,it=[],at=-1;function At(e){return{current:e}}function ot(e){0>at||(e.current=it[at],it[at]=null,at--)}function st(e,t){at++,it[at]=e.current,e.current=t}var lt={},ut=At(lt),ct=At(!1),ft=lt;function dt(e,t){var n=e.type.contextTypes;if(!n)return lt;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function ht(e){return null!==(e=e.childContextTypes)&&void 0!==e}function pt(){ot(ct),ot(ut)}function vt(e,t,n){if(ut.current!==lt)throw Error(A(168));st(ut,t),st(ct,n)}function mt(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(A(108,E(e)||"Unknown",i));return a({},n,r)}function gt(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||lt,ft=ut.current,st(ut,e),st(ct,ct.current),!0}function yt(e,t,n){var r=e.stateNode;if(!r)throw Error(A(169));n?(e=mt(e,t,ft),r.__reactInternalMemoizedMergedChildContext=e,ot(ct),ot(ut),st(ut,e)):ot(ct),st(ct,n)}var bt=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(xt(e)/_t|0)|0},xt=Math.log,_t=Math.LN2;var wt=64,Et=4194304;function Mt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function St(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,A=268435455&n;if(0!==A){var o=A&~i;0!==o?r=Mt(o):0!==(a&=A)&&(r=Mt(a))}else 0!==(A=n&~i)?r=Mt(A):0!==a&&(r=Mt(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-bt(t)),r|=e[n],t&=~i;return r}function Ct(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Tt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function kt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Bt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-bt(t)]=n}function Rt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-bt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Pt=0;function It(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var Dt=i.unstable_scheduleCallback,Lt=i.unstable_cancelCallback,Ut=i.unstable_shouldYield,Nt=i.unstable_requestPaint,Ot=i.unstable_now,Ft=i.unstable_ImmediatePriority,zt=i.unstable_UserBlockingPriority,Gt=i.unstable_NormalPriority,Ht=i.unstable_IdlePriority,Vt=null,Wt=null;var jt="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},Qt=null,Xt=!1,Jt=!1;function Kt(e){null===Qt?Qt=[e]:Qt.push(e)}function Yt(){if(!Jt&&null!==Qt){Jt=!0;var e=0,t=Pt;try{var n=Qt;for(Pt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Qt=null,Xt=!1}catch(i){throw null!==Qt&&(Qt=Qt.slice(e+1)),Dt(Ft,Yt),i}finally{Pt=t,Jt=!1}}return null}var qt=o.ReactCurrentBatchConfig;function Zt(e,t){if(jt(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!rt.call(t,i)||!jt(e[i],t[i]))return!1}return!0}function $t(e){switch(e.tag){case 5:return et(e.type);case 16:return et("Lazy");case 13:return et("Suspense");case 19:return et("SuspenseList");case 0:case 2:case 15:return e=nt(e.type,!1);case 11:return e=nt(e.type.render,!1);case 1:return e=nt(e.type,!0);default:return""}}function en(e,t){if(e&&e.defaultProps){for(var n in t=a({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var tn=At(null),nn=null,rn=null,an=null;function An(){an=rn=nn=null}function on(e,t,n){X?(st(tn,t._currentValue),t._currentValue=n):(st(tn,t._currentValue2),t._currentValue2=n)}function sn(e){var t=tn.current;ot(tn),X?e._currentValue=t:e._currentValue2=t}function ln(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function un(e,t){nn=e,an=rn=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Ui=!0),e.firstContext=null)}function cn(e){var t=X?e._currentValue:e._currentValue2;if(an!==e)if(e={context:e,memoizedValue:t,next:null},null===rn){if(null===nn)throw Error(A(308));rn=e,nn.dependencies={lanes:0,firstContext:e}}else rn=rn.next=e;return t}var fn=null,dn=!1;function hn(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pn(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function vn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function mn(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,null!==Ja&&0!==(1&e.mode)&&0===(2&Xa)?(null===(e=n.interleaved)?(t.next=t,null===fn?fn=[n]:fn.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function gn(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Rt(e,n)}}function yn(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var A={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=A:a=a.next=A,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function bn(e,t,n,r){var i=e.updateQueue;dn=!1;var A=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,u=l.next;l.next=null,null===o?A=u:o.next=u,o=l;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===s?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(null!==A){var f=i.baseState;for(o=0,c=u=l=null,s=A;;){var d=s.lane,h=s.eventTime;if((r&d)===d){null!==c&&(c=c.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(d=t,h=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(h,f,d);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=v.payload)?p.call(h,f,d):p)||void 0===d)break e;f=a({},f,d);break e;case 2:dn=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[s]:d.push(s))}else h={eventTime:h,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(u=c=h,l=f):c=c.next=h,o|=d;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(d=s).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===c&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===A&&(i.shared.lanes=0);tA|=o,e.lanes=o,e.memoizedState=f}}function xn(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(A(191,i));i.call(r)}}}var _n=(new r.Component).refs;function wn(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:a({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var En={isMounted:function(e){return!!(e=e._reactInternals)&&M(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=bA(),i=xA(e),a=vn(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),mn(e,a),null!==(t=_A(e,i,r))&&gn(t,e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=bA(),i=xA(e),a=vn(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),mn(e,a),null!==(t=_A(e,i,r))&&gn(t,e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=bA(),r=xA(e),i=vn(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),mn(e,i),null!==(t=_A(e,r,n))&&gn(t,e,r)}};function Mn(e,t,n,r,i,a,A){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,A):!t.prototype||!t.prototype.isPureReactComponent||(!Zt(n,r)||!Zt(i,a))}function Sn(e,t,n){var r=!1,i=lt,a=t.contextType;return"object"===typeof a&&null!==a?a=cn(a):(i=ht(t)?ft:ut.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?dt(e,i):lt),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=En,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Cn(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&En.enqueueReplaceState(t,t.state,null)}function Tn(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=_n,hn(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=cn(a):(a=ht(t)?ft:ut.current,i.context=dt(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(wn(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&En.enqueueReplaceState(i,i.state,null),bn(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}var kn=[],Bn=0,Rn=null,Pn=0,In=[],Dn=0,Ln=null,Un=1,Nn="";function On(e,t){kn[Bn++]=Pn,kn[Bn++]=Rn,Rn=e,Pn=t}function Fn(e,t,n){In[Dn++]=Un,In[Dn++]=Nn,In[Dn++]=Ln,Ln=e;var r=Un;e=Nn;var i=32-bt(r)-1;r&=~(1<<i),n+=1;var a=32-bt(t)+i;if(30<a){var A=i-i%5;a=(r&(1<<A)-1).toString(32),r>>=A,i-=A,Un=1<<32-bt(t)+i|n<<i|r,Nn=a+e}else Un=1<<a|n<<i|r,Nn=e}function zn(e){null!==e.return&&(On(e,1),Fn(e,1,0))}function Gn(e){for(;e===Rn;)Rn=kn[--Bn],kn[Bn]=null,Pn=kn[--Bn],kn[Bn]=null;for(;e===Ln;)Ln=In[--Dn],In[Dn]=null,Nn=In[--Dn],In[Dn]=null,Un=In[--Dn],In[Dn]=null}var Hn=null,Vn=null,Wn=!1,jn=!1,Qn=null;function Xn(e,t){var n=qA(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function Jn(e,t){switch(e.tag){case 5:return null!==(t=Ie(t,e.type,e.pendingProps))&&(e.stateNode=t,Hn=e,Vn=ze(t),!0);case 6:return null!==(t=De(t,e.pendingProps))&&(e.stateNode=t,Hn=e,Vn=null,!0);case 13:if(null!==(t=Le(t))){var n=null!==Ln?{id:Un,overflow:Nn}:null;return e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=qA(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Hn=e,Vn=null,!0}return!1;default:return!1}}function Kn(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function Yn(e){if(Wn){var t=Vn;if(t){var n=t;if(!Jn(e,t)){if(Kn(e))throw Error(A(418));t=Fe(n);var r=Hn;t&&Jn(e,t)?Xn(r,n):(e.flags=-4097&e.flags|2,Wn=!1,Hn=e)}}else{if(Kn(e))throw Error(A(418));e.flags=-4097&e.flags|2,Wn=!1,Hn=e}}}function qn(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Hn=e}function Zn(e){if(!Y||e!==Hn)return!1;if(!Wn)return qn(e),Wn=!0,!1;if(3!==e.tag&&(5!==e.tag||qe(e.type)&&!H(e.type,e.memoizedProps))){var t=Vn;if(t){if(Kn(e)){for(e=Vn;e;)e=Fe(e);throw Error(A(418))}for(;t;)Xn(e,t),t=Fe(t)}}if(qn(e),13===e.tag){if(!Y)throw Error(A(316));if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(A(317));Vn=Qe(e)}else Vn=Hn?Fe(e.stateNode):null;return!0}function $n(){Y&&(Vn=Hn=null,jn=Wn=!1)}function er(e){null===Qn?Qn=[e]:Qn.push(e)}function tr(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(A(309));var r=n.stateNode}if(!r)throw Error(A(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===_n&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(A(284));if(!n._owner)throw Error(A(290,e))}return e}function nr(e,t){throw e=Object.prototype.toString.call(t),Error(A(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function rr(e){return(0,e._init)(e._payload)}function ir(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=$A(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function c(e,t,n,r){return null===t||6!==t.tag?((t=ro(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n,r){var a=n.type;return a===u?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===y&&rr(a)===t.type)?((r=i(t,n.props)).ref=tr(e,t,n),r.return=e,r):((r=eo(n.type,n.key,n.props,null,e.mode,r)).ref=tr(e,t,n),r.return=e,r)}function d(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=io(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,a){return null===t||7!==t.tag?((t=to(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function p(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=ro(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case s:return(n=eo(t.type,t.key,t.props,null,e.mode,n)).ref=tr(e,null,t),n.return=e,n;case l:return(t=io(t,e.mode,n)).return=e,t;case y:return p(e,(0,t._init)(t._payload),n)}if(P(t)||_(t))return(t=to(t,e.mode,n,null)).return=e,t;nr(e,t)}return null}function v(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:c(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case s:return n.key===i?f(e,t,n,r):null;case l:return n.key===i?d(e,t,n,r):null;case y:return v(e,t,(i=n._init)(n._payload),r)}if(P(n)||_(n))return null!==i?null:h(e,t,n,r,null);nr(e,n)}return null}function m(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return c(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case s:return f(t,e=e.get(null===r.key?n:r.key)||null,r,i);case l:return d(t,e=e.get(null===r.key?n:r.key)||null,r,i);case y:return m(e,t,n,(0,r._init)(r._payload),i)}if(P(r)||_(r))return h(t,e=e.get(n)||null,r,i,null);nr(t,r)}return null}function g(i,A,o,s){for(var l=null,u=null,c=A,f=A=0,d=null;null!==c&&f<o.length;f++){c.index>f?(d=c,c=null):d=c.sibling;var h=v(i,c,o[f],s);if(null===h){null===c&&(c=d);break}e&&c&&null===h.alternate&&t(i,c),A=a(h,A,f),null===u?l=h:u.sibling=h,u=h,c=d}if(f===o.length)return n(i,c),Wn&&On(i,f),l;if(null===c){for(;f<o.length;f++)null!==(c=p(i,o[f],s))&&(A=a(c,A,f),null===u?l=c:u.sibling=c,u=c);return Wn&&On(i,f),l}for(c=r(i,c);f<o.length;f++)null!==(d=m(c,i,f,o[f],s))&&(e&&null!==d.alternate&&c.delete(null===d.key?f:d.key),A=a(d,A,f),null===u?l=d:u.sibling=d,u=d);return e&&c.forEach((function(e){return t(i,e)})),Wn&&On(i,f),l}function b(i,o,s,l){var u=_(s);if("function"!==typeof u)throw Error(A(150));if(null==(s=u.call(s)))throw Error(A(151));for(var c=u=null,f=o,d=o=0,h=null,g=s.next();null!==f&&!g.done;d++,g=s.next()){f.index>d?(h=f,f=null):h=f.sibling;var y=v(i,f,g.value,l);if(null===y){null===f&&(f=h);break}e&&f&&null===y.alternate&&t(i,f),o=a(y,o,d),null===c?u=y:c.sibling=y,c=y,f=h}if(g.done)return n(i,f),Wn&&On(i,d),u;if(null===f){for(;!g.done;d++,g=s.next())null!==(g=p(i,g.value,l))&&(o=a(g,o,d),null===c?u=g:c.sibling=g,c=g);return Wn&&On(i,d),u}for(f=r(i,f);!g.done;d++,g=s.next())null!==(g=m(f,i,d,g.value,l))&&(e&&null!==g.alternate&&f.delete(null===g.key?d:g.key),o=a(g,o,d),null===c?u=g:c.sibling=g,c=g);return e&&f.forEach((function(e){return t(i,e)})),Wn&&On(i,d),u}return function e(r,a,A,c){if("object"===typeof A&&null!==A&&A.type===u&&null===A.key&&(A=A.props.children),"object"===typeof A&&null!==A){switch(A.$$typeof){case s:e:{for(var f=A.key,d=a;null!==d;){if(d.key===f){if((f=A.type)===u){if(7===d.tag){n(r,d.sibling),(a=i(d,A.props.children)).return=r,r=a;break e}}else if(d.elementType===f||"object"===typeof f&&null!==f&&f.$$typeof===y&&rr(f)===d.type){n(r,d.sibling),(a=i(d,A.props)).ref=tr(r,d,A),a.return=r,r=a;break e}n(r,d);break}t(r,d),d=d.sibling}A.type===u?((a=to(A.props.children,r.mode,c,A.key)).return=r,r=a):((c=eo(A.type,A.key,A.props,null,r.mode,c)).ref=tr(r,a,A),c.return=r,r=c)}return o(r);case l:e:{for(d=A.key;null!==a;){if(a.key===d){if(4===a.tag&&a.stateNode.containerInfo===A.containerInfo&&a.stateNode.implementation===A.implementation){n(r,a.sibling),(a=i(a,A.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=io(A,r.mode,c)).return=r,r=a}return o(r);case y:return e(r,a,(d=A._init)(A._payload),c)}if(P(A))return g(r,a,A,c);if(_(A))return b(r,a,A,c);nr(r,A)}return"string"===typeof A&&""!==A||"number"===typeof A?(A=""+A,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,A)).return=r,r=a):(n(r,a),(a=ro(A,r.mode,c)).return=r,r=a),o(r)):n(r,a)}}var ar=ir(!0),Ar=ir(!1),or={},sr=At(or),lr=At(or),ur=At(or);function cr(e){if(e===or)throw Error(A(174));return e}function fr(e,t){st(ur,t),st(lr,e),st(sr,or),e=D(t),ot(sr),st(sr,e)}function dr(){ot(sr),ot(lr),ot(ur)}function hr(e){var t=cr(ur.current),n=cr(sr.current);n!==(t=L(n,e.type,t))&&(st(lr,e),st(sr,t))}function pr(e){lr.current===e&&(ot(sr),ot(lr))}var vr=At(0);function mr(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Ue(n)||Ne(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var gr=[];function yr(){for(var e=0;e<gr.length;e++){var t=gr[e];X?t._workInProgressVersionPrimary=null:t._workInProgressVersionSecondary=null}gr.length=0}var br=o.ReactCurrentDispatcher,xr=o.ReactCurrentBatchConfig,_r=0,wr=null,Er=null,Mr=null,Sr=!1,Cr=!1,Tr=0,kr=0;function Br(){throw Error(A(321))}function Rr(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!jt(e[n],t[n]))return!1;return!0}function Pr(e,t,n,r,i,a){if(_r=a,wr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,br.current=null===e||null===e.memoizedState?hi:pi,e=n(r,i),Cr){a=0;do{if(Cr=!1,Tr=0,25<=a)throw Error(A(301));a+=1,Mr=Er=null,t.updateQueue=null,br.current=vi,e=n(r,i)}while(Cr)}if(br.current=di,t=null!==Er&&null!==Er.next,_r=0,Mr=Er=wr=null,Sr=!1,t)throw Error(A(300));return e}function Ir(){var e=0!==Tr;return Tr=0,e}function Dr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Mr?wr.memoizedState=Mr=e:Mr=Mr.next=e,Mr}function Lr(){if(null===Er){var e=wr.alternate;e=null!==e?e.memoizedState:null}else e=Er.next;var t=null===Mr?wr.memoizedState:Mr.next;if(null!==t)Mr=t,Er=e;else{if(null===e)throw Error(A(310));e={memoizedState:(Er=e).memoizedState,baseState:Er.baseState,baseQueue:Er.baseQueue,queue:Er.queue,next:null},null===Mr?wr.memoizedState=Mr=e:Mr=Mr.next=e}return Mr}function Ur(e,t){return"function"===typeof t?t(e):t}function Nr(e){var t=Lr(),n=t.queue;if(null===n)throw Error(A(311));n.lastRenderedReducer=e;var r=Er,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var s=o=null,l=null,u=a;do{var c=u.lane;if((_r&c)===c)null!==l&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===l?(s=l=f,o=r):l=l.next=f,wr.lanes|=c,tA|=c}u=u.next}while(null!==u&&u!==a);null===l?o=r:l.next=s,jt(r,t.memoizedState)||(Ui=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,wr.lanes|=a,tA|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Or(e){var t=Lr(),n=t.queue;if(null===n)throw Error(A(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{a=e(a,o.action),o=o.next}while(o!==i);jt(a,t.memoizedState)||(Ui=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Fr(){}function zr(e,t){var n=wr,r=Lr(),i=t(),a=!jt(r.memoizedState,i);if(a&&(r.memoizedState=i,Ui=!0),r=r.queue,qr(Vr.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==Mr&&1&Mr.memoizedState.tag){if(n.flags|=2048,Qr(9,Hr.bind(null,n,r,i,t),void 0,null),null===Ja)throw Error(A(349));0!==(30&_r)||Gr(n,t,i)}return i}function Gr(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=wr.updateQueue)?(t={lastEffect:null,stores:null},wr.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Hr(e,t,n,r){t.value=n,t.getSnapshot=r,Wr(t)&&_A(e,1,-1)}function Vr(e,t,n){return n((function(){Wr(t)&&_A(e,1,-1)}))}function Wr(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!jt(e,n)}catch(r){return!0}}function jr(e){var t=Dr();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ur,lastRenderedState:e},t.queue=e,e=e.dispatch=si.bind(null,wr,e),[t.memoizedState,e]}function Qr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=wr.updateQueue)?(t={lastEffect:null,stores:null},wr.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Xr(){return Lr().memoizedState}function Jr(e,t,n,r){var i=Dr();wr.flags|=e,i.memoizedState=Qr(1|t,n,void 0,void 0===r?null:r)}function Kr(e,t,n,r){var i=Lr();r=void 0===r?null:r;var a=void 0;if(null!==Er){var A=Er.memoizedState;if(a=A.destroy,null!==r&&Rr(r,A.deps))return void(i.memoizedState=Qr(t,n,a,r))}wr.flags|=e,i.memoizedState=Qr(1|t,n,a,r)}function Yr(e,t){return Jr(8390656,8,e,t)}function qr(e,t){return Kr(2048,8,e,t)}function Zr(e,t){return Kr(4,2,e,t)}function $r(e,t){return Kr(4,4,e,t)}function ei(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ti(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Kr(4,4,ei.bind(null,t,e),n)}function ni(){}function ri(e,t){var n=Lr();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Rr(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ii(e,t){var n=Lr();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Rr(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ai(e,t){var n=Pt;Pt=0!==n&&4>n?n:4,e(!0);var r=xr.transition;xr.transition={};try{e(!1),t()}finally{Pt=n,xr.transition=r}}function Ai(){return Lr().memoizedState}function oi(e,t,n){var r=xA(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},li(e)?ui(t,n):(ci(e,t,n),null!==(e=_A(e,r,n=bA()))&&fi(e,t,r))}function si(e,t,n){var r=xA(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(li(e))ui(t,i);else{ci(e,t,i);var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var A=t.lastRenderedState,o=a(A,n);if(i.hasEagerState=!0,i.eagerState=o,jt(o,A))return}catch(s){}null!==(e=_A(e,r,n=bA()))&&fi(e,t,r)}}function li(e){var t=e.alternate;return e===wr||null!==t&&t===wr}function ui(e,t){Cr=Sr=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ci(e,t,n){null!==Ja&&0!==(1&e.mode)&&0===(2&Xa)?(null===(e=t.interleaved)?(n.next=n,null===fn?fn=[t]:fn.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function fi(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Rt(e,n)}}var di={readContext:cn,useCallback:Br,useContext:Br,useEffect:Br,useImperativeHandle:Br,useInsertionEffect:Br,useLayoutEffect:Br,useMemo:Br,useReducer:Br,useRef:Br,useState:Br,useDebugValue:Br,useDeferredValue:Br,useTransition:Br,useMutableSource:Br,useSyncExternalStore:Br,useId:Br,unstable_isNewReconciler:!1},hi={readContext:cn,useCallback:function(e,t){return Dr().memoizedState=[e,void 0===t?null:t],e},useContext:cn,useEffect:Yr,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Jr(4194308,4,ei.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Jr(4194308,4,e,t)},useInsertionEffect:function(e,t){return Jr(4,2,e,t)},useMemo:function(e,t){var n=Dr();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Dr();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=oi.bind(null,wr,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Dr().memoizedState=e},useState:jr,useDebugValue:ni,useDeferredValue:function(e){var t=jr(e),n=t[0],r=t[1];return Yr((function(){var t=xr.transition;xr.transition={};try{r(e)}finally{xr.transition=t}}),[e]),n},useTransition:function(){var e=jr(!1),t=e[0];return e=ai.bind(null,e[1]),Dr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=wr,i=Dr();if(Wn){if(void 0===n)throw Error(A(407));n=n()}else{if(n=t(),null===Ja)throw Error(A(349));0!==(30&_r)||Gr(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Yr(Vr.bind(null,r,a,e),[e]),r.flags|=2048,Qr(9,Hr.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Dr(),t=Ja.identifierPrefix;if(Wn){var n=Nn;t=":"+t+"R"+(n=(Un&~(1<<32-bt(Un)-1)).toString(32)+n),0<(n=Tr++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=kr++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},pi={readContext:cn,useCallback:ri,useContext:cn,useEffect:qr,useImperativeHandle:ti,useInsertionEffect:Zr,useLayoutEffect:$r,useMemo:ii,useReducer:Nr,useRef:Xr,useState:function(){return Nr(Ur)},useDebugValue:ni,useDeferredValue:function(e){var t=Nr(Ur),n=t[0],r=t[1];return qr((function(){var t=xr.transition;xr.transition={};try{r(e)}finally{xr.transition=t}}),[e]),n},useTransition:function(){return[Nr(Ur)[0],Lr().memoizedState]},useMutableSource:Fr,useSyncExternalStore:zr,useId:Ai,unstable_isNewReconciler:!1},vi={readContext:cn,useCallback:ri,useContext:cn,useEffect:qr,useImperativeHandle:ti,useInsertionEffect:Zr,useLayoutEffect:$r,useMemo:ii,useReducer:Or,useRef:Xr,useState:function(){return Or(Ur)},useDebugValue:ni,useDeferredValue:function(e){var t=Or(Ur),n=t[0],r=t[1];return qr((function(){var t=xr.transition;xr.transition={};try{r(e)}finally{xr.transition=t}}),[e]),n},useTransition:function(){return[Or(Ur)[0],Lr().memoizedState]},useMutableSource:Fr,useSyncExternalStore:zr,useId:Ai,unstable_isNewReconciler:!1};function mi(e,t){try{var n="",r=t;do{n+=$t(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function gi(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var yi,bi,xi,_i,wi="function"===typeof WeakMap?WeakMap:Map;function Ei(e,t,n){(n=vn(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){uA||(uA=!0,cA=r),gi(0,t)},n}function Mi(e,t,n){(n=vn(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){gi(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){gi(0,t),"function"!==typeof r&&(null===fA?fA=new Set([this]):fA.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function Si(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new wi;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=jA.bind(null,e,t,n),t.then(e,e))}function Ci(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function Ti(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=vn(-1,1)).tag=2,mn(n,t))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}function ki(e){e.flags|=4}function Bi(e,t){if(null!==e&&e.child===t.child)return!0;if(0!==(16&t.flags))return!1;for(e=t.child;null!==e;){if(0!==(12854&e.flags)||0!==(12854&e.subtreeFlags))return!1;e=e.sibling}return!0}if(J)yi=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)F(e,n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},bi=function(){},xi=function(e,t,n,r,i){if((e=e.memoizedProps)!==r){var a=t.stateNode,A=cr(sr.current);n=G(a,n,e,r,i,A),(t.updateQueue=n)&&ki(t)}},_i=function(e,t,n,r){n!==r&&ki(t)};else if(K){yi=function(e,t,n,r){for(var i=t.child;null!==i;){if(5===i.tag){var a=i.stateNode;n&&r&&(a=Re(a,i.type,i.memoizedProps,i)),F(e,a)}else if(6===i.tag)a=i.stateNode,n&&r&&(a=Pe(a,i.memoizedProps,i)),F(e,a);else if(4!==i.tag)if(22===i.tag&&null!==i.memoizedState)null!==(a=i.child)&&(a.return=i),yi(e,i,!0,!0);else if(null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};var Ri=function e(t,n,r,i){for(var a=n.child;null!==a;){if(5===a.tag){var A=a.stateNode;r&&i&&(A=Re(A,a.type,a.memoizedProps,a)),Te(t,A)}else if(6===a.tag)A=a.stateNode,r&&i&&(A=Pe(A,a.memoizedProps,a)),Te(t,A);else if(4!==a.tag)if(22===a.tag&&null!==a.memoizedState)null!==(A=a.child)&&(A.return=a),e(t,a,!0,!0);else if(null!==a.child){a.child.return=a,a=a.child;continue}if(a===n)break;for(;null===a.sibling;){if(null===a.return||a.return===n)return;a=a.return}a.sibling.return=a.return,a=a.sibling}};bi=function(e,t){var n=t.stateNode;if(!Bi(e,t)){e=n.containerInfo;var r=Ce(e);Ri(r,t,!1,!1),n.pendingChildren=r,ki(t),ke(e,r)}},xi=function(e,t,n,r,i){var a=e.stateNode,A=e.memoizedProps;if((e=Bi(e,t))&&A===r)t.stateNode=a;else{var o=t.stateNode,s=cr(sr.current),l=null;A!==r&&(l=G(o,n,A,r,i,s)),e&&null===l?t.stateNode=a:(a=Se(a,l,n,A,r,t,e,o),z(a,n,r,i,s)&&ki(t),t.stateNode=a,e?ki(t):yi(a,t,!1,!1))}},_i=function(e,t,n,r){n!==r?(e=cr(ur.current),n=cr(sr.current),t.stateNode=V(r,e,n,t),ki(t)):t.stateNode=e.stateNode}}else bi=function(){},xi=function(){},_i=function(){};function Pi(e,t){if(!Wn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ii(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Di(e,t,n){var r=t.pendingProps;switch(Gn(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ii(t),null;case 1:case 17:return ht(t.type)&&pt(),Ii(t),null;case 3:return r=t.stateNode,dr(),ot(ct),ot(ut),yr(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Zn(t)?ki(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Qn&&(CA(Qn),Qn=null))),bi(e,t),Ii(t),null;case 5:pr(t),n=cr(ur.current);var i=t.type;if(null!==e&&null!=t.stateNode)xi(e,t,i,r,n),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(A(166));return Ii(t),null}if(e=cr(sr.current),Zn(t)){if(!Y)throw Error(A(175));e=Ve(t.stateNode,t.type,t.memoizedProps,n,e,t,!jn),t.updateQueue=e,null!==e&&ki(t)}else{var a=O(i,r,n,e,t);yi(a,t,!1,!1),t.stateNode=a,z(a,i,r,n,e)&&ki(t)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ii(t),null;case 6:if(e&&null!=t.stateNode)_i(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(A(166));if(e=cr(ur.current),n=cr(sr.current),Zn(t)){if(!Y)throw Error(A(176));if(e=t.stateNode,r=t.memoizedProps,(n=We(e,r,t,!jn))&&null!==(i=Hn))switch(a=0!==(1&i.mode),i.tag){case 3:Ze(i.stateNode.containerInfo,e,r,a);break;case 5:$e(i.type,i.memoizedProps,i.stateNode,e,r,a)}n&&ki(t)}else t.stateNode=V(r,e,n,t)}return Ii(t),null;case 13:if(ot(vr),r=t.memoizedState,Wn&&null!==Vn&&0!==(1&t.mode)&&0===(128&t.flags)){for(e=Vn;e;)e=Fe(e);return $n(),t.flags|=98560,t}if(null!==r&&null!==r.dehydrated){if(r=Zn(t),null===e){if(!r)throw Error(A(318));if(!Y)throw Error(A(344));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(A(317));je(e,t)}else $n(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return Ii(t),null}return null!==Qn&&(CA(Qn),Qn=null),0!==(128&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?Zn(t):n=null!==e.memoizedState,r&&!n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&vr.current)?0===$a&&($a=3):LA())),null!==t.updateQueue&&(t.flags|=4),Ii(t),null);case 4:return dr(),bi(e,t),null===e&&Z(t.stateNode.containerInfo),Ii(t),null;case 10:return sn(t.type._context),Ii(t),null;case 19:if(ot(vr),null===(i=t.memoizedState))return Ii(t),null;if(r=0!==(128&t.flags),null===(a=i.rendering))if(r)Pi(i,!1);else{if(0!==$a||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(a=mr(e))){for(t.flags|=128,Pi(i,!1),null!==(e=a.updateQueue)&&(t.updateQueue=e,t.flags|=4),t.subtreeFlags=0,e=n,r=t.child;null!==r;)i=e,(n=r).flags&=14680066,null===(a=n.alternate)?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,i=a.dependencies,n.dependencies=null===i?null:{lanes:i.lanes,firstContext:i.firstContext}),r=r.sibling;return st(vr,1&vr.current|2),t.child}e=e.sibling}null!==i.tail&&Ot()>oA&&(t.flags|=128,r=!0,Pi(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=mr(a))){if(t.flags|=128,r=!0,null!==(e=e.updateQueue)&&(t.updateQueue=e,t.flags|=4),Pi(i,!0),null===i.tail&&"hidden"===i.tailMode&&!a.alternate&&!Wn)return Ii(t),null}else 2*Ot()-i.renderingStartTime>oA&&1073741824!==n&&(t.flags|=128,r=!0,Pi(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(null!==(e=i.last)?e.sibling=a:t.child=a,i.last=a)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ot(),t.sibling=null,e=vr.current,st(vr,r?1&e|2:1&e),t):(Ii(t),null);case 22:case 23:return RA(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&qa)&&(Ii(t),J&&6&t.subtreeFlags&&(t.flags|=8192)):Ii(t),null;case 24:case 25:return null}throw Error(A(156,t.tag))}var Li=o.ReactCurrentOwner,Ui=!1;function Ni(e,t,n,r){t.child=null===e?Ar(t,null,n,r):ar(t,e.child,n,r)}function Oi(e,t,n,r,i){n=n.render;var a=t.ref;return un(t,i),r=Pr(e,t,n,r,a,i),n=Ir(),null===e||Ui?(Wn&&n&&zn(t),t.flags|=1,Ni(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ia(e,t,i))}function Fi(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||ZA(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=eo(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,zi(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var A=a.memoizedProps;if((n=null!==(n=n.compare)?n:Zt)(A,r)&&e.ref===t.ref)return ia(e,t,i)}return t.flags|=1,(e=$A(a,r)).ref=t.ref,e.return=t,t.child=e}function zi(e,t,n,r,i){if(null!==e&&Zt(e.memoizedProps,r)&&e.ref===t.ref){if(Ui=!1,0===(e.lanes&i))return t.lanes=e.lanes,ia(e,t,i);0!==(131072&e.flags)&&(Ui=!0)}return Vi(e,t,n,r,i)}function Gi(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null},st(Za,qa),qa|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null},t.updateQueue=null,st(Za,qa),qa|=e,null;t.memoizedState={baseLanes:0,cachePool:null},r=null!==a?a.baseLanes:n,st(Za,qa),qa|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,st(Za,qa),qa|=r;return Ni(e,t,i,n),t.child}function Hi(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Vi(e,t,n,r,i){var a=ht(n)?ft:ut.current;return a=dt(t,a),un(t,i),n=Pr(e,t,n,r,a,i),r=Ir(),null===e||Ui?(Wn&&r&&zn(t),t.flags|=1,Ni(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ia(e,t,i))}function Wi(e,t,n,r,i){if(ht(n)){var a=!0;gt(t)}else a=!1;if(un(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),Sn(t,n,r),Tn(t,n,r,i),r=!0;else if(null===e){var A=t.stateNode,o=t.memoizedProps;A.props=o;var s=A.context,l=n.contextType;"object"===typeof l&&null!==l?l=cn(l):l=dt(t,l=ht(n)?ft:ut.current);var u=n.getDerivedStateFromProps,c="function"===typeof u||"function"===typeof A.getSnapshotBeforeUpdate;c||"function"!==typeof A.UNSAFE_componentWillReceiveProps&&"function"!==typeof A.componentWillReceiveProps||(o!==r||s!==l)&&Cn(t,A,r,l),dn=!1;var f=t.memoizedState;A.state=f,bn(t,r,A,i),s=t.memoizedState,o!==r||f!==s||ct.current||dn?("function"===typeof u&&(wn(t,n,u,r),s=t.memoizedState),(o=dn||Mn(t,n,o,r,f,s,l))?(c||"function"!==typeof A.UNSAFE_componentWillMount&&"function"!==typeof A.componentWillMount||("function"===typeof A.componentWillMount&&A.componentWillMount(),"function"===typeof A.UNSAFE_componentWillMount&&A.UNSAFE_componentWillMount()),"function"===typeof A.componentDidMount&&(t.flags|=4194308)):("function"===typeof A.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),A.props=r,A.state=s,A.context=l,r=o):("function"===typeof A.componentDidMount&&(t.flags|=4194308),r=!1)}else{A=t.stateNode,pn(e,t),o=t.memoizedProps,l=t.type===t.elementType?o:en(t.type,o),A.props=l,c=t.pendingProps,f=A.context,"object"===typeof(s=n.contextType)&&null!==s?s=cn(s):s=dt(t,s=ht(n)?ft:ut.current);var d=n.getDerivedStateFromProps;(u="function"===typeof d||"function"===typeof A.getSnapshotBeforeUpdate)||"function"!==typeof A.UNSAFE_componentWillReceiveProps&&"function"!==typeof A.componentWillReceiveProps||(o!==c||f!==s)&&Cn(t,A,r,s),dn=!1,f=t.memoizedState,A.state=f,bn(t,r,A,i);var h=t.memoizedState;o!==c||f!==h||ct.current||dn?("function"===typeof d&&(wn(t,n,d,r),h=t.memoizedState),(l=dn||Mn(t,n,l,r,f,h,s)||!1)?(u||"function"!==typeof A.UNSAFE_componentWillUpdate&&"function"!==typeof A.componentWillUpdate||("function"===typeof A.componentWillUpdate&&A.componentWillUpdate(r,h,s),"function"===typeof A.UNSAFE_componentWillUpdate&&A.UNSAFE_componentWillUpdate(r,h,s)),"function"===typeof A.componentDidUpdate&&(t.flags|=4),"function"===typeof A.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof A.componentDidUpdate||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof A.getSnapshotBeforeUpdate||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),A.props=r,A.state=h,A.context=s,r=l):("function"!==typeof A.componentDidUpdate||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof A.getSnapshotBeforeUpdate||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return ji(e,t,n,r,a,i)}function ji(e,t,n,r,i,a){Hi(e,t);var A=0!==(128&t.flags);if(!r&&!A)return i&&yt(t,n,!1),ia(e,t,a);r=t.stateNode,Li.current=t;var o=A&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&A?(t.child=ar(t,e.child,null,a),t.child=ar(t,null,o,a)):Ni(e,t,o,a),t.memoizedState=r.state,i&&yt(t,n,!0),t.child}function Qi(e){var t=e.stateNode;t.pendingContext?vt(0,t.pendingContext,t.pendingContext!==t.context):t.context&&vt(0,t.context,!1),fr(e,t.containerInfo)}function Xi(e,t,n,r,i){return $n(),er(i),t.flags|=256,Ni(e,t,n,r),t.child}var Ji={dehydrated:null,treeContext:null,retryLane:0};function Ki(e){return{baseLanes:e,cachePool:null}}function Yi(e,t,n){var r,i=t.pendingProps,a=vr.current,o=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),st(vr,1&a),null===e)return Yn(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:Ne(e)?t.lanes=8:t.lanes=1073741824,null):(a=i.children,e=i.fallback,o?(i=t.mode,o=t.child,a={mode:"hidden",children:a},0===(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=a):o=no(a,i,0,null),e=to(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Ki(n),t.memoizedState=Ji,e):qi(t,a));if(null!==(a=e.memoizedState)){if(null!==(r=a.dehydrated)){if(s)return 256&t.flags?(t.flags&=-257,ea(e,t,n,Error(A(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=i.fallback,a=t.mode,i=no({mode:"visible",children:i.children},a,0,null),(o=to(o,a,n,null)).flags|=2,i.return=t,o.return=t,i.sibling=o,t.child=i,0!==(1&t.mode)&&ar(t,e.child,null,n),t.child.memoizedState=Ki(n),t.memoizedState=Ji,o);if(0===(1&t.mode))t=ea(e,t,n,null);else if(Ne(r))t=ea(e,t,n,Error(A(419)));else if(i=0!==(n&e.childLanes),Ui||i){if(null!==(i=Ja)){switch(n&-n){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(i=0!==(o&(i.suspendedLanes|n))?0:o)&&i!==a.retryLane&&(a.retryLane=i,_A(e,i,-1))}LA(),t=ea(e,t,n,Error(A(421)))}else Ue(r)?(t.flags|=128,t.child=e.child,t=XA.bind(null,e),Oe(r,t),t=null):(n=a.treeContext,Y&&(Vn=He(r),Hn=t,Wn=!0,Qn=null,jn=!1,null!==n&&(In[Dn++]=Un,In[Dn++]=Nn,In[Dn++]=Ln,Un=n.id,Nn=n.overflow,Ln=t)),(t=qi(t,t.pendingProps.children)).flags|=4096);return t}return o?(i=$i(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?Ki(n):{baseLanes:a.baseLanes|n,cachePool:null},o.childLanes=e.childLanes&~n,t.memoizedState=Ji,i):(n=Zi(e,t,i.children,n),t.memoizedState=null,n)}return o?(i=$i(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?Ki(n):{baseLanes:a.baseLanes|n,cachePool:null},o.childLanes=e.childLanes&~n,t.memoizedState=Ji,i):(n=Zi(e,t,i.children,n),t.memoizedState=null,n)}function qi(e,t){return(t=no({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Zi(e,t,n,r){var i=e.child;return e=i.sibling,n=$A(i,{mode:"visible",children:n}),0===(1&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n}function $i(e,t,n,r,i){var a=t.mode,A=(e=e.child).sibling,o={mode:"hidden",children:n};return 0===(1&a)&&t.child!==e?((n=t.child).childLanes=0,n.pendingProps=o,t.deletions=null):(n=$A(e,o)).subtreeFlags=14680064&e.subtreeFlags,null!==A?r=$A(A,r):(r=to(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ea(e,t,n,r){return null!==r&&er(r),ar(t,e.child,null,n),(e=qi(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function ta(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ln(e.return,t,n)}function na(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function ra(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Ni(e,t,r.children,n),0!==(2&(r=vr.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ta(e,n,t);else if(19===e.tag)ta(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(st(vr,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===mr(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),na(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===mr(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}na(t,!0,n,null,a);break;case"together":na(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ia(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),tA|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(A(153));if(null!==t.child){for(n=$A(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=$A(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function aa(e,t){switch(Gn(t),t.tag){case 1:return ht(t.type)&&pt(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return dr(),ot(ct),ot(ut),yr(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return pr(t),null;case 13:if(ot(vr),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(A(340));$n()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ot(vr),null;case 4:return dr(),null;case 10:return sn(t.type._context),null;case 22:case 23:return RA(),null;default:return null}}var Aa=!1,oa=!1,sa="function"===typeof WeakSet?WeakSet:Set,la=null;function ua(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){WA(e,t,r)}else n.current=null}function ca(e,t,n){try{n()}catch(r){WA(e,t,r)}}var fa=!1;function da(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&ca(t,n,a)}i=i.next}while(i!==r)}}function ha(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function pa(e){var t=e.ref;if(null!==t){var n=e.stateNode;if(5===e.tag)e=I(n);else e=n;"function"===typeof t?t(e):t.current=e}}function va(e,t,n){if(Wt&&"function"===typeof Wt.onCommitFiberUnmount)try{Wt.onCommitFiberUnmount(Vt,t)}catch(A){}switch(t.tag){case 0:case 11:case 14:case 15:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e=e.next;do{var i=r,a=i.destroy;i=i.tag,void 0!==a&&(0!==(2&i)||0!==(4&i))&&ca(t,n,a),r=r.next}while(r!==e)}break;case 1:if(ua(t,n),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(A){WA(t,n,A)}break;case 5:ua(t,n);break;case 4:J?Ea(e,t,n):K&&K&&(t=t.stateNode.containerInfo,n=Ce(t),Be(t,n))}}function ma(e,t,n){for(var r=t;;)if(va(e,r,n),null===r.child||J&&4===r.tag){if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}else r.child.return=r,r=r.child}function ga(e){var t=e.alternate;null!==t&&(e.alternate=null,ga(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&ee(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ya(e){return 5===e.tag||3===e.tag||4===e.tag}function ba(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ya(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function xa(e){if(J){e:{for(var t=e.return;null!==t;){if(ya(t))break e;t=t.return}throw Error(A(160))}var n=t;switch(n.tag){case 5:t=n.stateNode,32&n.flags&&(be(t),n.flags&=-33),wa(e,n=ba(e),t);break;case 3:case 4:t=n.stateNode.containerInfo,_a(e,n=ba(e),t);break;default:throw Error(A(161))}}}function _a(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?me(n,e,t):fe(n,e);else if(4!==r&&null!==(e=e.child))for(_a(e,t,n),e=e.sibling;null!==e;)_a(e,t,n),e=e.sibling}function wa(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?ve(n,e,t):ce(n,e);else if(4!==r&&null!==(e=e.child))for(wa(e,t,n),e=e.sibling;null!==e;)wa(e,t,n),e=e.sibling}function Ea(e,t,n){for(var r,i,a=t,o=!1;;){if(!o){o=a.return;e:for(;;){if(null===o)throw Error(A(160));switch(r=o.stateNode,o.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}o=o.return}o=!0}if(5===a.tag||6===a.tag)ma(e,a,n),i?ye(r,a.stateNode):ge(r,a.stateNode);else if(18===a.tag)i?Ye(r,a.stateNode):Ke(r,a.stateNode);else if(4===a.tag){if(null!==a.child){r=a.stateNode.containerInfo,i=!0,a.child.return=a,a=a.child;continue}}else if(va(e,a,n),null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;4===(a=a.return).tag&&(o=!1)}a.sibling.return=a.return,a=a.sibling}}function Ma(e,t){if(J){switch(t.tag){case 0:case 11:case 14:case 15:return da(3,t,t.return),ha(3,t),void da(5,t,t.return);case 1:case 12:case 17:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps;e=null!==e?e.memoizedProps:r;var i=t.type,a=t.updateQueue;t.updateQueue=null,null!==a&&pe(n,a,i,e,r,t)}return;case 6:if(null===t.stateNode)throw Error(A(162));return n=t.memoizedProps,void de(t.stateNode,null!==e?e.memoizedProps:n,n);case 3:return void(Y&&null!==e&&e.memoizedState.isDehydrated&&Xe(t.stateNode.containerInfo));case 13:case 19:return void Sa(t)}throw Error(A(163))}switch(t.tag){case 0:case 11:case 14:case 15:return da(3,t,t.return),ha(3,t),void da(5,t,t.return);case 12:case 22:case 23:return;case 13:case 19:return void Sa(t);case 3:Y&&null!==e&&e.memoizedState.isDehydrated&&Xe(t.stateNode.containerInfo)}e:if(K){switch(t.tag){case 1:case 5:case 6:break e;case 3:case 4:t=t.stateNode,Be(t.containerInfo,t.pendingChildren);break e}throw Error(A(163))}}function Sa(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new sa),t.forEach((function(t){var r=JA.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Ca(e,t,n){la=e,Ta(e,t,n)}function Ta(e,t,n){for(var r=0!==(1&e.mode);null!==la;){var i=la,a=i.child;if(22===i.tag&&r){var A=null!==i.memoizedState||Aa;if(!A){var o=i.alternate,s=null!==o&&null!==o.memoizedState||oa;o=Aa;var l=oa;if(Aa=A,(oa=s)&&!l)for(la=i;null!==la;)s=(A=la).child,22===A.tag&&null!==A.memoizedState?Ra(i):null!==s?(s.return=A,la=s):Ra(i);for(;null!==a;)la=a,Ta(a,t,n),a=a.sibling;la=i,Aa=o,oa=l}ka(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,la=a):ka(e)}}function ka(e){for(;null!==la;){var t=la;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:oa||ha(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!oa)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:en(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&xn(t,a,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:n=I(t.child.stateNode);break;case 1:n=t.child.stateNode}xn(t,o,n)}break;case 5:var s=t.stateNode;null===n&&4&t.flags&&he(s,t.type,t.memoizedProps,t);break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(Y&&null===t.memoizedState){var l=t.alternate;if(null!==l){var u=l.memoizedState;if(null!==u){var c=u.dehydrated;null!==c&&Je(c)}}}break;default:throw Error(A(163))}oa||512&t.flags&&pa(t)}catch(f){WA(t,t.return,f)}}if(t===e){la=null;break}if(null!==(n=t.sibling)){n.return=t.return,la=n;break}la=t.return}}function Ba(e){for(;null!==la;){var t=la;if(t===e){la=null;break}var n=t.sibling;if(null!==n){n.return=t.return,la=n;break}la=t.return}}function Ra(e){for(;null!==la;){var t=la;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ha(4,t)}catch(s){WA(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){WA(t,i,s)}}var a=t.return;try{pa(t)}catch(s){WA(t,a,s)}break;case 5:var A=t.return;try{pa(t)}catch(s){WA(t,A,s)}}}catch(s){WA(t,t.return,s)}if(t===e){la=null;break}var o=t.sibling;if(null!==o){o.return=t.return,la=o;break}la=t.return}}var Pa=0,Ia=1,Da=2,La=3,Ua=4;if("function"===typeof Symbol&&Symbol.for){var Na=Symbol.for;Pa=Na("selector.component"),Ia=Na("selector.has_pseudo_class"),Da=Na("selector.role"),La=Na("selector.test_id"),Ua=Na("selector.text")}function Oa(e){var t=q(e);if(null!=t){if("string"!==typeof t.memoizedProps["data-testname"])throw Error(A(364));return t}if(null===(e=ie(e)))throw Error(A(362));return e.stateNode.current}function Fa(e,t){switch(t.$$typeof){case Pa:if(e.type===t.value)return!0;break;case Ia:e:{t=t.value,e=[e,0];for(var n=0;n<e.length;){var r=e[n++],i=e[n++],a=t[i];if(5!==r.tag||!oe(r)){for(;null!=a&&Fa(r,a);)a=t[++i];if(i===t.length){t=!0;break e}for(r=r.child;null!==r;)e.push(r,i),r=r.sibling}}t=!1}return t;case Da:if(5===e.tag&&se(e.stateNode,t.value))return!0;break;case Ua:if((5===e.tag||6===e.tag)&&(null!==(e=Ae(e))&&0<=e.indexOf(t.value)))return!0;break;case La:if(5===e.tag&&("string"===typeof(e=e.memoizedProps["data-testname"])&&e.toLowerCase()===t.value.toLowerCase()))return!0;break;default:throw Error(A(365))}return!1}function za(e){switch(e.$$typeof){case Pa:return"<"+(w(e.value)||"Unknown")+">";case Ia:return":has("+(za(e)||"")+")";case Da:return'[role="'+e.value+'"]';case Ua:return'"'+e.value+'"';case La:return'[data-testname="'+e.value+'"]';default:throw Error(A(365))}}function Ga(e,t){var n=[];e=[e,0];for(var r=0;r<e.length;){var i=e[r++],a=e[r++],A=t[a];if(5!==i.tag||!oe(i)){for(;null!=A&&Fa(i,A);)A=t[++a];if(a===t.length)n.push(i);else for(i=i.child;null!==i;)e.push(i,a),i=i.sibling}}return n}function Ha(e,t){if(!re)throw Error(A(363));e=Ga(e=Oa(e),t),t=[],e=Array.from(e);for(var n=0;n<e.length;){var r=e[n++];if(5===r.tag)oe(r)||t.push(r.stateNode);else for(r=r.child;null!==r;)e.push(r),r=r.sibling}return t}var Va=Math.ceil,Wa=o.ReactCurrentDispatcher,ja=o.ReactCurrentOwner,Qa=o.ReactCurrentBatchConfig,Xa=0,Ja=null,Ka=null,Ya=0,qa=0,Za=At(0),$a=0,eA=null,tA=0,nA=0,rA=0,iA=null,aA=null,AA=0,oA=1/0;function sA(){oA=Ot()+500}var lA,uA=!1,cA=null,fA=null,dA=!1,hA=null,pA=0,vA=0,mA=null,gA=-1,yA=0;function bA(){return 0!==(6&Xa)?Ot():-1!==gA?gA:gA=Ot()}function xA(e){return 0===(1&e.mode)?1:0!==(2&Xa)&&0!==Ya?Ya&-Ya:null!==qt.transition?(0===yA&&(e=wt,0===(4194240&(wt<<=1))&&(wt=64),yA=e),yA):0!==(e=Pt)?e:$()}function _A(e,t,n){if(50<vA)throw vA=0,mA=null,Error(A(185));var r=wA(e,t);return null===r?null:(Bt(r,t,n),0!==(2&Xa)&&r===Ja||(r===Ja&&(0===(2&Xa)&&(nA|=t),4===$a&&TA(r,Ya)),EA(r,n),1===t&&0===Xa&&0===(1&e.mode)&&(sA(),Xt&&Yt())),r)}function wA(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function EA(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var A=31-bt(a),o=1<<A,s=i[A];-1===s?0!==(o&n)&&0===(o&r)||(i[A]=Ct(o,t)):s<=t&&(e.expiredLanes|=o),a&=~o}}(e,t);var r=St(e,e===Ja?Ya:0);if(0===r)null!==n&&Lt(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Lt(n),1===t)0===e.tag?function(e){Xt=!0,Kt(e)}(kA.bind(null,e)):Kt(kA.bind(null,e)),te?ne((function(){0===Xa&&Yt()})):Dt(Ft,Yt),n=null;else{switch(It(r)){case 1:n=Ft;break;case 4:n=zt;break;case 16:default:n=Gt;break;case 536870912:n=Ht}n=KA(n,MA.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function MA(e,t){if(gA=-1,yA=0,0!==(6&Xa))throw Error(A(327));var n=e.callbackNode;if(HA()&&e.callbackNode!==n)return null;var r=St(e,e===Ja?Ya:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=UA(e,r);else{t=r;var i=Xa;Xa|=2;var a=DA();for(Ja===e&&Ya===t||(sA(),PA(e,t));;)try{OA();break}catch(s){IA(e,s)}An(),Wa.current=a,Xa=i,null!==Ka?t=0:(Ja=null,Ya=0,t=$a)}if(0!==t){if(2===t&&(0!==(i=Tt(e))&&(r=i,t=SA(e,i))),1===t)throw n=eA,PA(e,0),TA(e,r),EA(e,Ot()),n;if(6===t)TA(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!jt(a(),i))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=UA(e,r))&&(0!==(a=Tt(e))&&(r=a,t=SA(e,a))),1===t))throw n=eA,PA(e,0),TA(e,r),EA(e,Ot()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(A(345));case 2:case 5:GA(e,aA);break;case 3:if(TA(e,r),(130023424&r)===r&&10<(t=AA+500-Ot())){if(0!==St(e,0))break;if(((i=e.suspendedLanes)&r)!==r){bA(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=W(GA.bind(null,e,aA),t);break}GA(e,aA);break;case 4:if(TA(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-bt(r);a=1<<o,(o=t[o])>i&&(i=o),r&=~a}if(r=i,10<(r=(120>(r=Ot()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Va(r/1960))-r)){e.timeoutHandle=W(GA.bind(null,e,aA),r);break}GA(e,aA);break;default:throw Error(A(329))}}}return EA(e,Ot()),e.callbackNode===n?MA.bind(null,e):null}function SA(e,t){var n=iA;return e.current.memoizedState.isDehydrated&&(PA(e,t).flags|=256),2!==(e=UA(e,t))&&(t=aA,aA=n,null!==t&&CA(t)),e}function CA(e){null===aA?aA=e:aA.push.apply(aA,e)}function TA(e,t){for(t&=~rA,t&=~nA,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-bt(t),r=1<<n;e[n]=-1,t&=~r}}function kA(e){if(0!==(6&Xa))throw Error(A(327));HA();var t=St(e,0);if(0===(1&t))return EA(e,Ot()),null;var n=UA(e,t);if(0!==e.tag&&2===n){var r=Tt(e);0!==r&&(t=r,n=SA(e,r))}if(1===n)throw n=eA,PA(e,0),TA(e,t),EA(e,Ot()),n;if(6===n)throw Error(A(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,GA(e,aA),EA(e,Ot()),null}function BA(e){null!==hA&&0===hA.tag&&0===(6&Xa)&&HA();var t=Xa;Xa|=1;var n=Qa.transition,r=Pt;try{if(Qa.transition=null,Pt=1,e)return e()}finally{Pt=r,Qa.transition=n,0===(6&(Xa=t))&&Yt()}}function RA(){qa=Za.current,ot(Za)}function PA(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==Q&&(e.timeoutHandle=Q,j(n)),null!==Ka)for(n=Ka.return;null!==n;){var r=n;switch(Gn(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&pt();break;case 3:dr(),ot(ct),ot(ut),yr();break;case 5:pr(r);break;case 4:dr();break;case 13:case 19:ot(vr);break;case 10:sn(r.type._context);break;case 22:case 23:RA()}n=n.return}if(Ja=e,Ka=e=$A(e.current,null),Ya=qa=t,$a=0,eA=null,rA=nA=tA=0,aA=iA=null,null!==fn){for(t=0;t<fn.length;t++)if(null!==(r=(n=fn[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var A=a.next;a.next=i,r.next=A}n.pending=r}fn=null}return e}function IA(e,t){for(;;){var n=Ka;try{if(An(),br.current=di,Sr){for(var r=wr.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}Sr=!1}if(_r=0,Mr=Er=wr=null,Cr=!1,Tr=0,ja.current=null,null===n||null===n.return){$a=1,eA=t,Ka=null;break}e:{var a=e,o=n.return,s=n,l=t;if(t=Ya,s.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var u=l,c=s,f=c.tag;if(0===(1&c.mode)&&(0===f||11===f||15===f)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=Ci(o);if(null!==h){h.flags&=-257,Ti(h,o,s,0,t),1&h.mode&&Si(a,u,t),l=u;var p=(t=h).updateQueue;if(null===p){var v=new Set;v.add(l),t.updateQueue=v}else p.add(l);break e}if(0===(1&t)){Si(a,u,t),LA();break e}l=Error(A(426))}else if(Wn&&1&s.mode){var m=Ci(o);if(null!==m){0===(65536&m.flags)&&(m.flags|=256),Ti(m,o,s,0,t),er(l);break e}}a=l,4!==$a&&($a=2),null===iA?iA=[a]:iA.push(a),l=mi(l,s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,yn(s,Ei(0,l,t));break e;case 1:a=l;var g=s.type,y=s.stateNode;if(0===(128&s.flags)&&("function"===typeof g.getDerivedStateFromError||null!==y&&"function"===typeof y.componentDidCatch&&(null===fA||!fA.has(y)))){s.flags|=65536,t&=-t,s.lanes|=t,yn(s,Mi(s,a,t));break e}}s=s.return}while(null!==s)}zA(n)}catch(b){t=b,Ka===n&&null!==n&&(Ka=n=n.return);continue}break}}function DA(){var e=Wa.current;return Wa.current=di,null===e?di:e}function LA(){0!==$a&&3!==$a&&2!==$a||($a=4),null===Ja||0===(268435455&tA)&&0===(268435455&nA)||TA(Ja,Ya)}function UA(e,t){var n=Xa;Xa|=2;var r=DA();for(Ja===e&&Ya===t||PA(e,t);;)try{NA();break}catch(i){IA(e,i)}if(An(),Xa=n,Wa.current=r,null!==Ka)throw Error(A(261));return Ja=null,Ya=0,$a}function NA(){for(;null!==Ka;)FA(Ka)}function OA(){for(;null!==Ka&&!Ut();)FA(Ka)}function FA(e){var t=lA(e.alternate,e,qa);e.memoizedProps=e.pendingProps,null===t?zA(e):Ka=t,ja.current=null}function zA(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Di(n,t,qa)))return void(Ka=n)}else{if(null!==(n=aa(n,t)))return n.flags&=32767,void(Ka=n);if(null===e)return $a=6,void(Ka=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ka=t);Ka=t=e}while(null!==t);0===$a&&($a=5)}function GA(e,t){var n=Pt,r=Qa.transition;try{Qa.transition=null,Pt=1,function(e,t,n){do{HA()}while(null!==hA);if(0!==(6&Xa))throw Error(A(327));var r=e.finishedWork,i=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(A(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-bt(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,a),e===Ja&&(Ka=Ja=null,Ya=0),0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||dA||(dA=!0,KA(Gt,(function(){return HA(),null}))),a=0!==(15990&r.flags),0!==(15990&r.subtreeFlags)||a){a=Qa.transition,Qa.transition=null;var o=Pt;Pt=1;var s=Xa;Xa|=4,ja.current=null,function(e,t){for(U(e.containerInfo),la=t;null!==la;)if(t=(e=la).child,0!==(1028&e.subtreeFlags)&&null!==t)t.return=e,la=t;else for(;null!==la;){e=la;try{var n=e.alternate;if(0!==(1024&e.flags))switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==n){var r=n.memoizedProps,i=n.memoizedState,a=e.stateNode,o=a.getSnapshotBeforeUpdate(e.elementType===e.type?r:en(e.type,r),i);a.__reactInternalSnapshotBeforeUpdate=o}break;case 3:J&&Me(e.stateNode.containerInfo);break;default:throw Error(A(163))}}catch(s){WA(e,e.return,s)}if(null!==(t=e.sibling)){t.return=e.return,la=t;break}la=e.return}n=fa,fa=!1}(e,r),function(e,t){for(la=t;null!==la;){var n=(t=la).deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e;J?Ea(a,i,t):ma(a,i,t);var A=i.alternate;null!==A&&(A.return=null),i.return=null}catch(x){WA(i,t,x)}}if(n=t.child,0!==(12854&t.subtreeFlags)&&null!==n)n.return=t,la=n;else for(;null!==la;){t=la;try{var o=t.flags;if(32&o&&J&&be(t.stateNode),512&o){var s=t.alternate;if(null!==s){var l=s.ref;null!==l&&("function"===typeof l?l(null):l.current=null)}}if(8192&o)switch(t.tag){case 13:if(null!==t.memoizedState){var u=t.alternate;null!==u&&null!==u.memoizedState||(AA=Ot())}break;case 22:var c=null!==t.memoizedState,f=t.alternate,d=null!==f&&null!==f.memoizedState;if(n=t,J)e:if(r=n,i=c,a=null,J)for(var h=r;;){if(5===h.tag){if(null===a){a=h;var p=h.stateNode;i?xe(p):we(h.stateNode,h.memoizedProps)}}else if(6===h.tag){if(null===a){var v=h.stateNode;i?_e(v):Ee(v,h.memoizedProps)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===r)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===r)break;for(;null===h.sibling;){if(null===h.return||h.return===r)break e;a===h&&(a=null),h=h.return}a===h&&(a=null),h.sibling.return=h.return,h=h.sibling}if(c&&!d&&0!==(1&n.mode)){la=n;for(var m=n.child;null!==m;){for(n=la=m;null!==la;){var g=(r=la).child;switch(r.tag){case 0:case 11:case 14:case 15:da(4,r,r.return);break;case 1:ua(r,r.return);var y=r.stateNode;if("function"===typeof y.componentWillUnmount){var b=r.return;try{y.props=r.memoizedProps,y.state=r.memoizedState,y.componentWillUnmount()}catch(x){WA(r,b,x)}}break;case 5:ua(r,r.return);break;case 22:if(null!==r.memoizedState){Ba(n);continue}}null!==g?(g.return=r,la=g):Ba(n)}m=m.sibling}}}switch(4102&o){case 2:xa(t),t.flags&=-3;break;case 6:xa(t),t.flags&=-3,Ma(t.alternate,t);break;case 4096:t.flags&=-4097;break;case 4100:t.flags&=-4097,Ma(t.alternate,t);break;case 4:Ma(t.alternate,t)}}catch(x){WA(t,t.return,x)}if(null!==(n=t.sibling)){n.return=t.return,la=n;break}la=t.return}}}(e,r),N(e.containerInfo),e.current=r,Ca(r,e,i),Nt(),Xa=s,Pt=o,Qa.transition=a}else e.current=r;if(dA&&(dA=!1,hA=e,pA=i),a=e.pendingLanes,0===a&&(fA=null),function(e){if(Wt&&"function"===typeof Wt.onCommitFiberRoot)try{Wt.onCommitFiberRoot(Vt,e,void 0,128===(128&e.current.flags))}catch(t){}}(r.stateNode),EA(e,Ot()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)n(t[r]);if(uA)throw uA=!1,e=cA,cA=null,e;0!==(1&pA)&&0!==e.tag&&HA(),a=e.pendingLanes,0!==(1&a)?e===mA?vA++:(vA=0,mA=e):vA=0,Yt()}(e,t,n)}finally{Qa.transition=r,Pt=n}return null}function HA(){if(null!==hA){var e=It(pA),t=Qa.transition,n=Pt;try{if(Qa.transition=null,Pt=16>e?16:e,null===hA)var r=!1;else{if(e=hA,hA=null,pA=0,0!==(6&Xa))throw Error(A(331));var i=Xa;for(Xa|=4,la=e.current;null!==la;){var a=la,o=a.child;if(0!==(16&la.flags)){var s=a.deletions;if(null!==s){for(var l=0;l<s.length;l++){var u=s[l];for(la=u;null!==la;){var c=la;switch(c.tag){case 0:case 11:case 15:da(8,c,a)}var f=c.child;if(null!==f)f.return=c,la=f;else for(;null!==la;){var d=(c=la).sibling,h=c.return;if(ga(c),c===u){la=null;break}if(null!==d){d.return=h,la=d;break}la=h}}}var p=a.alternate;if(null!==p){var v=p.child;if(null!==v){p.child=null;do{var m=v.sibling;v.sibling=null,v=m}while(null!==v)}}la=a}}if(0!==(2064&a.subtreeFlags)&&null!==o)o.return=a,la=o;else e:for(;null!==la;){if(0!==(2048&(a=la).flags))switch(a.tag){case 0:case 11:case 15:da(9,a,a.return)}var g=a.sibling;if(null!==g){g.return=a.return,la=g;break e}la=a.return}}var y=e.current;for(la=y;null!==la;){var b=(o=la).child;if(0!==(2064&o.subtreeFlags)&&null!==b)b.return=o,la=b;else e:for(o=y;null!==la;){if(0!==(2048&(s=la).flags))try{switch(s.tag){case 0:case 11:case 15:ha(9,s)}}catch(_){WA(s,s.return,_)}if(s===o){la=null;break e}var x=s.sibling;if(null!==x){x.return=s.return,la=x;break e}la=s.return}}if(Xa=i,Yt(),Wt&&"function"===typeof Wt.onPostCommitFiberRoot)try{Wt.onPostCommitFiberRoot(Vt,e)}catch(_){}r=!0}return r}finally{Pt=n,Qa.transition=t}}return!1}function VA(e,t,n){mn(e,t=Ei(0,t=mi(n,t),1)),t=bA(),null!==(e=wA(e,1))&&(Bt(e,1,t),EA(e,t))}function WA(e,t,n){if(3===e.tag)VA(e,e,n);else for(;null!==t;){if(3===t.tag){VA(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===fA||!fA.has(r))){mn(t,e=Mi(t,e=mi(n,e),1)),e=bA(),null!==(t=wA(t,1))&&(Bt(t,1,e),EA(t,e));break}}t=t.return}}function jA(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=bA(),e.pingedLanes|=e.suspendedLanes&n,Ja===e&&(Ya&n)===n&&(4===$a||3===$a&&(130023424&Ya)===Ya&&500>Ot()-AA?PA(e,0):rA|=n),EA(e,t)}function QA(e,t){0===t&&(0===(1&e.mode)?t=1:(t=Et,0===(130023424&(Et<<=1))&&(Et=4194304)));var n=bA();null!==(e=wA(e,t))&&(Bt(e,t,n),EA(e,n))}function XA(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),QA(e,n)}function JA(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(A(314))}null!==r&&r.delete(t),QA(e,n)}function KA(e,t){return Dt(e,t)}function YA(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qA(e,t,n,r){return new YA(e,t,n,r)}function ZA(e){return!(!(e=e.prototype)||!e.isReactComponent)}function $A(e,t){var n=e.alternate;return null===n?((n=qA(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function eo(e,t,n,r,i,a){var o=2;if(r=e,"function"===typeof e)ZA(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case u:return to(n.children,i,a,t);case c:o=8,i|=8;break;case f:return(e=qA(12,n,t,2|i)).elementType=f,e.lanes=a,e;case v:return(e=qA(13,n,t,i)).elementType=v,e.lanes=a,e;case m:return(e=qA(19,n,t,i)).elementType=m,e.lanes=a,e;case b:return no(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case d:o=10;break e;case h:o=9;break e;case p:o=11;break e;case g:o=14;break e;case y:o=16,r=null;break e}throw Error(A(130,null==e?e:typeof e,""))}return(t=qA(o,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function to(e,t,n,r){return(e=qA(7,e,r,t)).lanes=n,e}function no(e,t,n,r){return(e=qA(22,e,r,t)).elementType=b,e.lanes=n,e.stateNode={},e}function ro(e,t,n){return(e=qA(6,e,null,t)).lanes=n,e}function io(e,t,n){return(t=qA(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ao(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Q,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kt(0),this.expirationTimes=kt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kt(0),this.identifierPrefix=r,this.onRecoverableError=i,Y&&(this.mutableSourceEagerHydrationData=null)}function Ao(e,t,n,r,i,a,A,o,s){return e=new ao(e,t,n,o,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=qA(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null},hn(a),e}function oo(e){if(!e)return lt;e:{if(M(e=e._reactInternals)!==e||1!==e.tag)throw Error(A(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ht(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(A(171))}if(1===e.tag){var n=e.type;if(ht(n))return mt(e,n,t)}return t}function so(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(A(188));throw e=Object.keys(e).join(","),Error(A(268,e))}return null===(e=T(t))?null:e.stateNode}function lo(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function uo(e,t){lo(e,t),(e=e.alternate)&&lo(e,t)}function co(e){return null===(e=T(e))?null:e.stateNode}function fo(){return null}return lA=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||ct.current)Ui=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return Ui=!1,function(e,t,n){switch(t.tag){case 3:Qi(t),$n();break;case 5:hr(t);break;case 1:ht(t.type)&&gt(t);break;case 4:fr(t,t.stateNode.containerInfo);break;case 10:on(0,t.type._context,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(st(vr,1&vr.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Yi(e,t,n):(st(vr,1&vr.current),null!==(e=ia(e,t,n))?e.sibling:null);st(vr,1&vr.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return ra(e,t,n);t.flags|=128}var i=t.memoizedState;if(null!==i&&(i.rendering=null,i.tail=null,i.lastEffect=null),st(vr,vr.current),r)break;return null;case 22:case 23:return t.lanes=0,Gi(e,t,n)}return ia(e,t,n)}(e,t,n);Ui=0!==(131072&e.flags)}else Ui=!1,Wn&&0!==(1048576&t.flags)&&Fn(t,Pn,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var i=dt(t,ut.current);un(t,n),i=Pr(null,t,r,e,i,n);var a=Ir();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ht(r)?(a=!0,gt(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,hn(t),i.updater=En,t.stateNode=i,i._reactInternals=t,Tn(t,r,e,n),t=ji(null,t,r,!0,a,n)):(t.tag=0,Wn&&a&&zn(t),Ni(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return ZA(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===p)return 11;if(e===g)return 14}return 2}(r),e=en(r,e),i){case 0:t=Vi(null,t,r,e,n);break e;case 1:t=Wi(null,t,r,e,n);break e;case 11:t=Oi(null,t,r,e,n);break e;case 14:t=Fi(null,t,r,en(r.type,e),n);break e}throw Error(A(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Vi(e,t,r,i=t.elementType===r?i:en(r,i),n);case 1:return r=t.type,i=t.pendingProps,Wi(e,t,r,i=t.elementType===r?i:en(r,i),n);case 3:e:{if(Qi(t),null===e)throw Error(A(387));r=t.pendingProps,i=(a=t.memoizedState).element,pn(e,t),bn(t,r,null,n);var o=t.memoizedState;if(r=o.element,Y&&a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Xi(e,t,r,n,i=Error(A(423)));break e}if(r!==i){t=Xi(e,t,r,n,i=Error(A(424)));break e}for(Y&&(Vn=Ge(t.stateNode.containerInfo),Hn=t,Wn=!0,Qn=null,jn=!1),n=Ar(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if($n(),r===i){t=ia(e,t,n);break e}Ni(e,t,r,n)}t=t.child}return t;case 5:return hr(t),null===e&&Yn(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,o=i.children,H(r,i)?o=null:null!==a&&H(r,a)&&(t.flags|=32),Hi(e,t),Ni(e,t,o,n),t.child;case 6:return null===e&&Yn(t),null;case 13:return Yi(e,t,n);case 4:return fr(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ar(t,null,r,n):Ni(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Oi(e,t,r,i=t.elementType===r?i:en(r,i),n);case 7:return Ni(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ni(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,on(0,r,o=i.value),null!==a)if(jt(a.value,o)){if(a.children===i.children&&!ct.current){t=ia(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var s=a.dependencies;if(null!==s){o=a.child;for(var l=s.firstContext;null!==l;){if(l.context===r){if(1===a.tag){(l=vn(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var c=(u=u.shared).pending;null===c?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),ln(a.return,n,t),s.lanes|=n;break}l=l.next}}else if(10===a.tag)o=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(A(341));o.lanes|=n,null!==(s=o.alternate)&&(s.lanes|=n),ln(o,n,t),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}Ni(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,un(t,n),r=r(i=cn(i)),t.flags|=1,Ni(e,t,r,n),t.child;case 14:return i=en(r=t.type,t.pendingProps),Fi(e,t,r,i=en(r.type,i),n);case 15:return zi(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:en(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,ht(r)?(e=!0,gt(t)):e=!1,un(t,n),Sn(t,r,i),Tn(t,r,i,n),ji(null,t,r,!0,e,n);case 19:return ra(e,t,n);case 22:return Gi(e,t,n)}throw Error(A(156,t.tag))},t.attemptContinuousHydration=function(e){13===e.tag&&(_A(e,134217728,bA()),uo(e,134217728))},t.attemptHydrationAtCurrentPriority=function(e){if(13===e.tag){var t=bA(),n=xA(e);_A(e,n,t),uo(e,n)}},t.attemptSynchronousHydration=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Mt(t.pendingLanes);0!==n&&(Rt(t,1|n),EA(t,Ot()),0===(6&Xa)&&(sA(),Yt()))}break;case 13:var r=bA();BA((function(){return _A(e,1,r)})),uo(e,1)}},t.batchedUpdates=function(e,t){var n=Xa;Xa|=1;try{return e(t)}finally{0===(Xa=n)&&(sA(),Xt&&Yt())}},t.createComponentSelector=function(e){return{$$typeof:Pa,value:e}},t.createContainer=function(e,t,n,r,i,a,A){return Ao(e,t,!1,null,0,r,0,a,A)},t.createHasPseudoClassSelector=function(e){return{$$typeof:Ia,value:e}},t.createHydrationContainer=function(e,t,n,r,i,a,A,o,s){return(e=Ao(n,r,!0,e,0,a,0,o,s)).context=oo(null),n=e.current,(a=vn(r=bA(),i=xA(n))).callback=void 0!==t&&null!==t?t:null,mn(n,a),e.current.lanes=i,Bt(e,i,r),EA(e,r),e},t.createPortal=function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:l,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}},t.createRoleSelector=function(e){return{$$typeof:Da,value:e}},t.createTestNameSelector=function(e){return{$$typeof:La,value:e}},t.createTextSelector=function(e){return{$$typeof:Ua,value:e}},t.deferredUpdates=function(e){var t=Pt,n=Qa.transition;try{return Qa.transition=null,Pt=16,e()}finally{Pt=t,Qa.transition=n}},t.discreteUpdates=function(e,t,n,r,i){var a=Pt,A=Qa.transition;try{return Qa.transition=null,Pt=1,e(t,n,r,i)}finally{Pt=a,Qa.transition=A,0===Xa&&sA()}},t.findAllNodes=Ha,t.findBoundingRects=function(e,t){if(!re)throw Error(A(363));t=Ha(e,t),e=[];for(var n=0;n<t.length;n++)e.push(ae(t[n]));for(t=e.length-1;0<t;t--)for(var r=(n=e[t]).x,i=r+n.width,a=n.y,o=a+n.height,s=t-1;0<=s;s--)if(t!==s){var l=e[s],u=l.x,c=u+l.width,f=l.y,d=f+l.height;if(r>=u&&a>=f&&i<=c&&o<=d){e.splice(t,1);break}if(!(r!==u||n.width!==l.width||d<a||f>o)){f>a&&(l.height+=f-a,l.y=a),d<o&&(l.height=o-f),e.splice(t,1);break}if(!(a!==f||n.height!==l.height||c<r||u>i)){u>r&&(l.width+=u-r,l.x=r),c<i&&(l.width=i-u),e.splice(t,1);break}}return e},t.findHostInstance=so,t.findHostInstanceWithNoPortals=function(e){return null===(e=null!==(e=C(e))?B(e):null)?null:e.stateNode},t.findHostInstanceWithWarning=function(e){return so(e)},t.flushControlled=function(e){var t=Xa;Xa|=1;var n=Qa.transition,r=Pt;try{Qa.transition=null,Pt=1,e()}finally{Pt=r,Qa.transition=n,0===(Xa=t)&&(sA(),Yt())}},t.flushPassiveEffects=HA,t.flushSync=BA,t.focusWithin=function(e,t){if(!re)throw Error(A(363));for(t=Ga(e=Oa(e),t),t=Array.from(t),e=0;e<t.length;){var n=t[e++];if(!oe(n)){if(5===n.tag&&le(n.stateNode))return!0;for(n=n.child;null!==n;)t.push(n),n=n.sibling}}return!1},t.getCurrentUpdatePriority=function(){return Pt},t.getFindAllNodesFailureDescription=function(e,t){if(!re)throw Error(A(363));var n=0,r=[];e=[Oa(e),0];for(var i=0;i<e.length;){var a=e[i++],o=e[i++],s=t[o];if((5!==a.tag||!oe(a))&&(Fa(a,s)&&(r.push(za(s)),++o>n&&(n=o)),o<t.length))for(a=a.child;null!==a;)e.push(a,o),a=a.sibling}if(n<t.length){for(e=[];n<t.length;n++)e.push(za(t[n]));return"findAllNodes was able to match part of the selector:\n  "+r.join(" > ")+"\n\nNo matching component was found for:\n  "+e.join(" > ")}return null},t.getPublicRootInstance=function(e){return(e=e.current).child?5===e.child.tag?I(e.child.stateNode):e.child.stateNode:null},t.injectIntoDevTools=function(e){if(e={bundleType:e.bundleType,version:e.version,rendererPackageName:e.rendererPackageName,rendererConfig:e.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:o.ReactCurrentDispatcher,findHostInstanceByFiber:co,findFiberByHostInstance:e.findFiberByHostInstance||fo,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},"undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)e=!1;else{var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)e=!0;else{try{Vt=t.inject(e),Wt=t}catch(n){}e=!!t.checkDCE}}return e},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(e,t,n,r){if(!re)throw Error(A(363));e=Ha(e,t);var i=ue(e,n,r).disconnect;return{disconnect:function(){i()}}},t.registerMutableSourceForHydration=function(e,t){var n=t._getVersion;n=n(t._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[t,n]:e.mutableSourceEagerHydrationData.push(t,n)},t.runWithPriority=function(e,t){var n=Pt;try{return Pt=e,t()}finally{Pt=n}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(e,t,n,r){var i=t.current,a=bA(),A=xA(i);return n=oo(n),null===t.context?t.context=n:t.pendingContext=n,(t=vn(a,A)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),mn(i,t),null!==(e=_A(i,A,a))&&gn(e,i,A),A},t}},585:function(e,t,n){"use strict";e.exports=n(976)},258:function(e,t,n){"use strict";e.exports=n(721)},783:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,A=i>>>1;r<A;){var o=2*(r+1)-1,s=e[o],l=o+1,u=e[l];if(0>a(s,n))l<i&&0>a(u,s)?(e[r]=u,e[l]=n,r=l):(e[r]=s,e[o]=n,r=o);else{if(!(l<i&&0>a(u,n)))break e;e[r]=u,e[l]=n,r=l}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var A=performance;t.unstable_now=function(){return A.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}var l=[],u=[],c=1,f=null,d=3,h=!1,p=!1,v=!1,m="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,y="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(l,t)}t=r(u)}}function x(e){if(v=!1,b(e),!p)if(null!==r(l))p=!0,I(_);else{var t=r(u);null!==t&&D(x,t.startTime-e)}}function _(e,n){p=!1,v&&(v=!1,g(S),S=-1),h=!0;var a=d;try{for(b(n),f=r(l);null!==f&&(!(f.expirationTime>n)||e&&!k());){var A=f.callback;if("function"===typeof A){f.callback=null,d=f.priorityLevel;var o=A(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?f.callback=o:f===r(l)&&i(l),b(n)}else i(l);f=r(l)}if(null!==f)var s=!0;else{var c=r(u);null!==c&&D(x,c.startTime-n),s=!1}return s}finally{f=null,d=a,h=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var w,E=!1,M=null,S=-1,C=5,T=-1;function k(){return!(t.unstable_now()-T<C)}function B(){if(null!==M){var e=t.unstable_now();T=e;var n=!0;try{n=M(!0,e)}finally{n?w():(E=!1,M=null)}}else E=!1}if("function"===typeof y)w=function(){y(B)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,P=R.port2;R.port1.onmessage=B,w=function(){P.postMessage(null)}}else w=function(){m(B,0)};function I(e){M=e,E||(E=!0,w())}function D(e,n){S=m((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){p||h||(p=!0,I(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var A=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?A+a:A:a=A,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:c++,callback:i,priorityLevel:e,startTime:a,expirationTime:o=a+o,sortIndex:-1},a>A?(e.sortIndex=a,n(u,e),null===r(l)&&e===r(u)&&(v?(g(S),S=-1):v=!0,D(x,a-A))):(e.sortIndex=o,n(l,e),p||h||(p=!0,I(_))),e},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},100:function(e,t,n){"use strict";e.exports=n(783)},459:function(e,t){"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.for("react.offscreen");function m(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case o:case A:case f:case d:return e;default:switch(e=e&&e.$$typeof){case u:case l:case c:case p:case h:case s:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference"),t.isContextConsumer=function(e){return m(e)===l}},900:function(e,t,n){"use strict";e.exports=n(459)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),A=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,a={},l=null,u=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(u=t.ref),t)A.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:u,props:a,_owner:o.current}}t.jsx=l,t.jsxs=l},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),d=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,v={};function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||h}function g(){}function y(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||h}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=m.prototype;var b=y.prototype=new g;b.constructor=y,p(b,m.prototype),b.isPureReactComponent=!0;var x=Array.isArray,_=Object.prototype.hasOwnProperty,w={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function M(e,t,r){var i,a={},A=null,o=null;if(null!=t)for(i in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(A=""+t.key),t)_.call(t,i)&&!E.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];a.children=l}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:A,ref:o,props:a,_owner:w.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function k(e,t,i,a,A){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var s=!1;if(null===e)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return A=A(s=e),e=""===a?"."+T(s,0):a,x(A)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),k(A,t,i,"",(function(e){return e}))):null!=A&&(S(A)&&(A=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(A,i+(!A.key||s&&s.key===A.key?"":(""+A.key).replace(C,"$&/")+"/")+e)),t.push(A)),1;if(s=0,a=""===a?".":a+":",x(e))for(var l=0;l<e.length;l++){var u=a+T(o=e[l],l);s+=k(o,t,i,u,A)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),l=0;!(o=e.next()).done;)s+=k(o=o.value,t,i,u=a+T(o,l++),A);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function B(e,t,n){if(null==e)return e;var r=[],i=0;return k(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},I={transition:null},D={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:I,ReactCurrentOwner:w};t.Children={map:B,forEach:function(e,t,n){B(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return B(e,(function(){t++})),t},toArray:function(e){return B(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=m,t.Fragment=i,t.Profiler=A,t.PureComponent=y,t.StrictMode=a,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=p({},e.props),a=e.key,A=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(A=t.ref,o=w.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)_.call(t,l)&&!E.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==s?s[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:A,props:i,_owner:o}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=M,t.createFactory=function(e){var t=M.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=I.transition;I.transition={};try{e()}finally{I.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,A=i>>>1;r<A;){var o=2*(r+1)-1,s=e[o],l=o+1,u=e[l];if(0>a(s,n))l<i&&0>a(u,s)?(e[r]=u,e[l]=n,r=l):(e[r]=s,e[o]=n,r=o);else{if(!(l<i&&0>a(u,n)))break e;e[r]=u,e[l]=n,r=l}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var A=performance;t.unstable_now=function(){return A.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}var l=[],u=[],c=1,f=null,d=3,h=!1,p=!1,v=!1,m="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,y="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(l,t)}t=r(u)}}function x(e){if(v=!1,b(e),!p)if(null!==r(l))p=!0,I(_);else{var t=r(u);null!==t&&D(x,t.startTime-e)}}function _(e,n){p=!1,v&&(v=!1,g(S),S=-1),h=!0;var a=d;try{for(b(n),f=r(l);null!==f&&(!(f.expirationTime>n)||e&&!k());){var A=f.callback;if("function"===typeof A){f.callback=null,d=f.priorityLevel;var o=A(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?f.callback=o:f===r(l)&&i(l),b(n)}else i(l);f=r(l)}if(null!==f)var s=!0;else{var c=r(u);null!==c&&D(x,c.startTime-n),s=!1}return s}finally{f=null,d=a,h=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var w,E=!1,M=null,S=-1,C=5,T=-1;function k(){return!(t.unstable_now()-T<C)}function B(){if(null!==M){var e=t.unstable_now();T=e;var n=!0;try{n=M(!0,e)}finally{n?w():(E=!1,M=null)}}else E=!1}if("function"===typeof y)w=function(){y(B)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,P=R.port2;R.port1.onmessage=B,w=function(){P.postMessage(null)}}else w=function(){m(B,0)};function I(e){M=e,E||(E=!0,w())}function D(e,n){S=m((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){p||h||(p=!0,I(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var A=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?A+a:A:a=A,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:c++,callback:i,priorityLevel:e,startTime:a,expirationTime:o=a+o,sortIndex:-1},a>A?(e.sortIndex=a,n(u,e),null===r(l)&&e===r(u)&&(v?(g(S),S=-1):v=!0,D(x,a-A))):(e.sortIndex=o,n(l,e),p||h||(p=!0,I(_))),e},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},613:function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var a=Object.keys(e),A=Object.keys(t);if(a.length!==A.length)return!1;for(var o=Object.prototype.hasOwnProperty.bind(t),s=0;s<a.length;s++){var l=a[s];if(!o(l))return!1;var u=e[l],c=t[l];if(!1===(i=n?n.call(r,u,c,l):void 0)||void 0===i&&u!==c)return!1}return!0}},151:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}}),e=n.hmd(e);var r=function(e){var t,n=e.Symbol;return"function"===typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}("undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:e)},561:function(e,t,n){"use strict";var r=n(791);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useState,A=r.useEffect,o=r.useLayoutEffect,s=r.useDebugValue;function l(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var u="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),i=r[0].inst,u=r[1];return o((function(){i.value=n,i.getSnapshot=t,l(i)&&u({inst:i})}),[e,n,t]),A((function(){return l(i)&&u({inst:i}),e((function(){l(i)&&u({inst:i})}))}),[e]),s(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:u},595:function(e,t,n){"use strict";var r=n(791),i=n(248);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},A=i.useSyncExternalStore,o=r.useRef,s=r.useEffect,l=r.useMemo,u=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var c=o(null);if(null===c.current){var f={hasValue:!1,value:null};c.current=f}else f=c.current;c=l((function(){function e(e){if(!s){if(s=!0,A=e,e=r(e),void 0!==i&&f.hasValue){var t=f.value;if(i(t,e))return o=t}return o=e}if(t=o,a(A,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(A=e,o=n)}var A,o,s=!1,l=void 0===n?null:n;return[function(){return e(t())},null===l?void 0:function(){return e(l())}]}),[t,n,r,i]);var d=A(e,c[0],c[1]);return s((function(){f.hasValue=!0,f.value=d}),[d]),u(d),d}},248:function(e,t,n){"use strict";e.exports=n(561)},327:function(e,t,n){"use strict";e.exports=n(595)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={id:r,loaded:!1,exports:{}};return e[r](a,a.exports,n),a.loaded=!0,a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.hmd=function(e){return(e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/vinastalgia/",n.nc=void 0,function(){"use strict";var e={};n.r(e),n.d(e,{ACESFilmicToneMapping:function(){return Bi},AddEquation:function(){return $r},AddOperation:function(){return Mi},AdditiveAnimationBlendMode:function(){return aA},AdditiveBlending:function(){return Kr},AlphaFormat:function(){return sa},AlwaysDepth:function(){return vi},AlwaysStencilFunc:function(){return DA},AmbientLight:function(){return Hv},AmbientLightProbe:function(){return im},AnimationAction:function(){return Im},AnimationClip:function(){return cv},AnimationLoader:function(){return xv},AnimationMixer:function(){return Lm},AnimationObjectGroup:function(){return Pm},AnimationUtils:function(){return Zp},ArcCurve:function(){return ph},ArrayCamera:function(){return Hf},ArrowHelper:function(){return Sg},Audio:function(){return vm},AudioAnalyser:function(){return _m},AudioContext:function(){return tm},AudioListener:function(){return pm},AudioLoader:function(){return nm},AxesHelper:function(){return Cg},BackSide:function(){return Wr},BasicDepthPacking:function(){return cA},BasicShadowMap:function(){return Fr},Bone:function(){return Bd},BooleanKeyframeTrack:function(){return iv},Box2:function(){return Xm},Box3:function(){return Ho},Box3Helper:function(){return wg},BoxBufferGeometry:function(){return kg},BoxGeometry:function(){return $l},BoxHelper:function(){return _g},BufferAttribute:function(){return pl},BufferGeometry:function(){return Il},BufferGeometryLoader:function(){return Kv},ByteType:function(){return Zi},Cache:function(){return hv},Camera:function(){return au},CameraHelper:function(){return mg},CanvasTexture:function(){return fh},CapsuleBufferGeometry:function(){return Bg},CapsuleGeometry:function(){return Uh},CatmullRomCurve3:function(){return xh},CineonToneMapping:function(){return ki},CircleBufferGeometry:function(){return Rg},CircleGeometry:function(){return Nh},ClampToEdgeWrapping:function(){return Fi},Clock:function(){return lm},Color:function(){return al},ColorKeyframeTrack:function(){return av},ColorManagement:function(){return Mo},CompressedArrayTexture:function(){return ch},CompressedTexture:function(){return uh},CompressedTextureLoader:function(){return _v},ConeBufferGeometry:function(){return Pg},ConeGeometry:function(){return Fh},CubeCamera:function(){return su},CubeReflectionMapping:function(){return Ii},CubeRefractionMapping:function(){return Di},CubeTexture:function(){return lu},CubeTextureLoader:function(){return Ev},CubeUVReflectionMapping:function(){return Ni},CubicBezierCurve:function(){return Mh},CubicBezierCurve3:function(){return Sh},CubicInterpolant:function(){return ev},CullFaceBack:function(){return Ur},CullFaceFront:function(){return Nr},CullFaceFrontBack:function(){return Or},CullFaceNone:function(){return Lr},Curve:function(){return dh},CurvePath:function(){return Ih},CustomBlending:function(){return Zr},CustomToneMapping:function(){return Ri},CylinderBufferGeometry:function(){return Ig},CylinderGeometry:function(){return Oh},Cylindrical:function(){return jm},Data3DTexture:function(){return Lo},DataArrayTexture:function(){return Io},DataTexture:function(){return Rd},DataTextureLoader:function(){return Mv},DataUtils:function(){return fl},DecrementStencilOp:function(){return wA},DecrementWrapStencilOp:function(){return MA},DefaultLoadingManager:function(){return vv},DepthFormat:function(){return fa},DepthStencilFormat:function(){return da},DepthTexture:function(){return Qf},DirectionalLight:function(){return Gv},DirectionalLightHelper:function(){return hg},DiscreteInterpolant:function(){return nv},DisplayP3ColorSpace:function(){return gA},DodecahedronBufferGeometry:function(){return Dg},DodecahedronGeometry:function(){return Gh},DoubleSide:function(){return jr},DstAlphaFactor:function(){return ui},DstColorFactor:function(){return fi},DynamicCopyUsage:function(){return HA},DynamicDrawUsage:function(){return UA},DynamicReadUsage:function(){return FA},EdgesGeometry:function(){return Qh},EllipseCurve:function(){return hh},EqualDepth:function(){return yi},EqualStencilFunc:function(){return kA},EquirectangularReflectionMapping:function(){return Li},EquirectangularRefractionMapping:function(){return Ui},Euler:function(){return Ms},EventDispatcher:function(){return XA},ExtrudeBufferGeometry:function(){return Lg},ExtrudeGeometry:function(){return _p},FileLoader:function(){return bv},Float16BufferAttribute:function(){return wl},Float32BufferAttribute:function(){return El},Float64BufferAttribute:function(){return Ml},FloatType:function(){return ra},Fog:function(){return ed},FogExp2:function(){return $f},FramebufferTexture:function(){return lh},FrontSide:function(){return Vr},Frustum:function(){return mu},GLBufferAttribute:function(){return zm},GLSL1:function(){return WA},GLSL3:function(){return jA},GreaterDepth:function(){return xi},GreaterEqualDepth:function(){return bi},GreaterEqualStencilFunc:function(){return IA},GreaterStencilFunc:function(){return RA},GridHelper:function(){return lg},Group:function(){return Vf},HalfFloatType:function(){return ia},HemisphereLight:function(){return Tv},HemisphereLightHelper:function(){return sg},HemisphereLightProbe:function(){return rm},IcosahedronBufferGeometry:function(){return Ug},IcosahedronGeometry:function(){return Ep},ImageBitmapLoader:function(){return em},ImageLoader:function(){return wv},ImageUtils:function(){return So},IncrementStencilOp:function(){return _A},IncrementWrapStencilOp:function(){return EA},InstancedBufferAttribute:function(){return Ld},InstancedBufferGeometry:function(){return Jv},InstancedInterleavedBuffer:function(){return Fm},InstancedMesh:function(){return Vd},Int16BufferAttribute:function(){return yl},Int32BufferAttribute:function(){return xl},Int8BufferAttribute:function(){return vl},IntType:function(){return ta},InterleavedBuffer:function(){return nd},InterleavedBufferAttribute:function(){return id},Interpolant:function(){return $p},InterpolateDiscrete:function(){return Za},InterpolateLinear:function(){return $a},InterpolateSmooth:function(){return eA},InvertStencilOp:function(){return SA},KeepStencilOp:function(){return bA},KeyframeTrack:function(){return rv},LOD:function(){return _d},LatheBufferGeometry:function(){return Ng},LatheGeometry:function(){return Lh},Layers:function(){return Ss},LessDepth:function(){return mi},LessEqualDepth:function(){return gi},LessEqualStencilFunc:function(){return BA},LessStencilFunc:function(){return TA},Light:function(){return Cv},LightProbe:function(){return jv},Line:function(){return Yd},Line3:function(){return Ym},LineBasicMaterial:function(){return Wd},LineCurve:function(){return Ch},LineCurve3:function(){return Th},LineDashedMaterial:function(){return jp},LineLoop:function(){return eh},LineSegments:function(){return $d},LinearEncoding:function(){return lA},LinearFilter:function(){return Qi},LinearInterpolant:function(){return tv},LinearMipMapLinearFilter:function(){return Yi},LinearMipMapNearestFilter:function(){return Ji},LinearMipmapLinearFilter:function(){return Ki},LinearMipmapNearestFilter:function(){return Xi},LinearSRGBColorSpace:function(){return mA},LinearToneMapping:function(){return Ci},Loader:function(){return mv},LoaderUtils:function(){return Xv},LoadingManager:function(){return pv},LoopOnce:function(){return Ka},LoopPingPong:function(){return qa},LoopRepeat:function(){return Ya},LuminanceAlphaFormat:function(){return ca},LuminanceFormat:function(){return ua},MOUSE:function(){return Ir},Material:function(){return el},MaterialLoader:function(){return Qv},MathUtils:function(){return oo},Matrix3:function(){return lo},Matrix4:function(){return ps},MaxEquation:function(){return ri},Mesh:function(){return ql},MeshBasicMaterial:function(){return ol},MeshDepthMaterial:function(){return Uf},MeshDistanceMaterial:function(){return Nf},MeshLambertMaterial:function(){return Vp},MeshMatcapMaterial:function(){return Wp},MeshNormalMaterial:function(){return Hp},MeshPhongMaterial:function(){return zp},MeshPhysicalMaterial:function(){return Fp},MeshStandardMaterial:function(){return Op},MeshToonMaterial:function(){return Gp},MinEquation:function(){return ni},MirroredRepeatWrapping:function(){return zi},MixOperation:function(){return Ei},MultiplyBlending:function(){return qr},MultiplyOperation:function(){return wi},NearestFilter:function(){return Gi},NearestMipMapLinearFilter:function(){return ji},NearestMipMapNearestFilter:function(){return Vi},NearestMipmapLinearFilter:function(){return Wi},NearestMipmapNearestFilter:function(){return Hi},NeverDepth:function(){return pi},NeverStencilFunc:function(){return CA},NoBlending:function(){return Xr},NoColorSpace:function(){return pA},NoToneMapping:function(){return Si},NormalAnimationBlendMode:function(){return iA},NormalBlending:function(){return Jr},NotEqualDepth:function(){return _i},NotEqualStencilFunc:function(){return PA},NumberKeyframeTrack:function(){return Av},Object3D:function(){return zs},ObjectLoader:function(){return Yv},ObjectSpaceNormalMap:function(){return hA},OctahedronBufferGeometry:function(){return Og},OctahedronGeometry:function(){return Mp},OneFactor:function(){return ai},OneMinusDstAlphaFactor:function(){return ci},OneMinusDstColorFactor:function(){return di},OneMinusSrcAlphaFactor:function(){return li},OneMinusSrcColorFactor:function(){return oi},OrthographicCamera:function(){return Ru},PCFShadowMap:function(){return zr},PCFSoftShadowMap:function(){return Gr},PMREMGenerator:function(){return zu},Path:function(){return Dh},PerspectiveCamera:function(){return Au},Plane:function(){return hu},PlaneBufferGeometry:function(){return Fg},PlaneGeometry:function(){return bu},PlaneHelper:function(){return Eg},PointLight:function(){return Fv},PointLightHelper:function(){return ig},Points:function(){return Ah},PointsMaterial:function(){return th},PolarGridHelper:function(){return ug},PolyhedronBufferGeometry:function(){return zg},PolyhedronGeometry:function(){return zh},PositionalAudio:function(){return xm},PropertyBinding:function(){return Rm},PropertyMixer:function(){return wm},QuadraticBezierCurve:function(){return kh},QuadraticBezierCurve3:function(){return Bh},Quaternion:function(){return Oo},QuaternionKeyframeTrack:function(){return sv},QuaternionLinearInterpolant:function(){return ov},RED_GREEN_RGTC2_Format:function(){return Xa},RED_RGTC1_Format:function(){return ja},REVISION:function(){return Pr},RGBADepthPacking:function(){return fA},RGBAFormat:function(){return la},RGBAIntegerFormat:function(){return ga},RGBA_ASTC_10x10_Format:function(){return Ga},RGBA_ASTC_10x5_Format:function(){return Oa},RGBA_ASTC_10x6_Format:function(){return Fa},RGBA_ASTC_10x8_Format:function(){return za},RGBA_ASTC_12x10_Format:function(){return Ha},RGBA_ASTC_12x12_Format:function(){return Va},RGBA_ASTC_4x4_Format:function(){return Ba},RGBA_ASTC_5x4_Format:function(){return Ra},RGBA_ASTC_5x5_Format:function(){return Pa},RGBA_ASTC_6x5_Format:function(){return Ia},RGBA_ASTC_6x6_Format:function(){return Da},RGBA_ASTC_8x5_Format:function(){return La},RGBA_ASTC_8x6_Format:function(){return Ua},RGBA_ASTC_8x8_Format:function(){return Na},RGBA_BPTC_Format:function(){return Wa},RGBA_ETC2_EAC_Format:function(){return ka},RGBA_PVRTC_2BPPV1_Format:function(){return Sa},RGBA_PVRTC_4BPPV1_Format:function(){return Ma},RGBA_S3TC_DXT1_Format:function(){return ba},RGBA_S3TC_DXT3_Format:function(){return xa},RGBA_S3TC_DXT5_Format:function(){return _a},RGB_ETC1_Format:function(){return Ca},RGB_ETC2_Format:function(){return Ta},RGB_PVRTC_2BPPV1_Format:function(){return Ea},RGB_PVRTC_4BPPV1_Format:function(){return wa},RGB_S3TC_DXT1_Format:function(){return ya},RGFormat:function(){return va},RGIntegerFormat:function(){return ma},RawShaderMaterial:function(){return Np},Ray:function(){return hs},Raycaster:function(){return Gm},RectAreaLight:function(){return Vv},RedFormat:function(){return ha},RedIntegerFormat:function(){return pa},ReinhardToneMapping:function(){return Ti},RepeatWrapping:function(){return Oi},ReplaceStencilOp:function(){return xA},ReverseSubtractEquation:function(){return ti},RingBufferGeometry:function(){return Gg},RingGeometry:function(){return Sp},SIGNED_RED_GREEN_RGTC2_Format:function(){return Ja},SIGNED_RED_RGTC1_Format:function(){return Qa},SRGBColorSpace:function(){return vA},Scene:function(){return td},ShaderChunk:function(){return xu},ShaderLib:function(){return wu},ShaderMaterial:function(){return iu},ShadowMaterial:function(){return Up},Shape:function(){return Xh},ShapeBufferGeometry:function(){return Hg},ShapeGeometry:function(){return Cp},ShapePath:function(){return Tg},ShapeUtils:function(){return yp},ShortType:function(){return $i},Skeleton:function(){return Dd},SkeletonHelper:function(){return ng},SkinnedMesh:function(){return kd},Source:function(){return Co},Sphere:function(){return As},SphereBufferGeometry:function(){return Vg},SphereGeometry:function(){return Tp},Spherical:function(){return Wm},SphericalHarmonics3:function(){return Wv},SplineCurve:function(){return Rh},SpotLight:function(){return Dv},SpotLightHelper:function(){return Zm},Sprite:function(){return gd},SpriteMaterial:function(){return ad},SrcAlphaFactor:function(){return si},SrcAlphaSaturateFactor:function(){return hi},SrcColorFactor:function(){return Ai},StaticCopyUsage:function(){return GA},StaticDrawUsage:function(){return LA},StaticReadUsage:function(){return OA},StereoCamera:function(){return sm},StreamCopyUsage:function(){return VA},StreamDrawUsage:function(){return NA},StreamReadUsage:function(){return zA},StringKeyframeTrack:function(){return lv},SubtractEquation:function(){return ei},SubtractiveBlending:function(){return Yr},TOUCH:function(){return Dr},TangentSpaceNormalMap:function(){return dA},TetrahedronBufferGeometry:function(){return Wg},TetrahedronGeometry:function(){return kp},Texture:function(){return Bo},TextureLoader:function(){return Sv},TorusBufferGeometry:function(){return jg},TorusGeometry:function(){return Bp},TorusKnotBufferGeometry:function(){return Qg},TorusKnotGeometry:function(){return Rp},Triangle:function(){return Zs},TriangleFanDrawMode:function(){return sA},TriangleStripDrawMode:function(){return oA},TrianglesDrawMode:function(){return AA},TubeBufferGeometry:function(){return Xg},TubeGeometry:function(){return Pp},TwoPassDoubleSide:function(){return Qr},UVMapping:function(){return Pi},Uint16BufferAttribute:function(){return bl},Uint32BufferAttribute:function(){return _l},Uint8BufferAttribute:function(){return ml},Uint8ClampedBufferAttribute:function(){return gl},Uniform:function(){return Um},UniformsGroup:function(){return Om},UniformsLib:function(){return _u},UniformsUtils:function(){return ru},UnsignedByteType:function(){return qi},UnsignedInt248Type:function(){return oa},UnsignedIntType:function(){return na},UnsignedShort4444Type:function(){return aa},UnsignedShort5551Type:function(){return Aa},UnsignedShortType:function(){return ea},VSMShadowMap:function(){return Hr},Vector2:function(){return so},Vector3:function(){return Fo},Vector4:function(){return Ro},VectorKeyframeTrack:function(){return uv},VideoTexture:function(){return sh},WebGL1Renderer:function(){return qf},WebGL3DRenderTarget:function(){return Uo},WebGLArrayRenderTarget:function(){return Do},WebGLCubeRenderTarget:function(){return uu},WebGLMultipleRenderTargets:function(){return No},WebGLRenderTarget:function(){return Po},WebGLRenderer:function(){return Yf},WebGLUtils:function(){return Gf},WireframeGeometry:function(){return Ip},WrapAroundEnding:function(){return rA},ZeroCurvatureEnding:function(){return tA},ZeroFactor:function(){return ii},ZeroSlopeEnding:function(){return nA},ZeroStencilOp:function(){return yA},_SRGBAFormat:function(){return QA},sRGBEncoding:function(){return uA}});var t=n(791),r=n(164),i=n(151),a=function(){return Math.random().toString(36).substring(7).split("").join(".")},A={INIT:"@@redux/INIT"+a(),REPLACE:"@@redux/REPLACE"+a(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+a()}};function o(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}var s=n(248),l=n(327);var u=function(e){e()},c=function(){return u},f=(0,t.createContext)(null);function d(e){if(Array.isArray(e))return e}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t){if(e){if("string"===typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}function v(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function m(e,t){return d(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,A,o=[],s=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(o.push(r.value),o.length!==t);s=!0);}catch(u){l=!0,i=u}finally{try{if(!s&&null!=n.return&&(A=n.return(),Object(A)!==A))return}finally{if(l)throw i}}return o}}(e,t)||p(e,t)||v()}function g(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function y(e){return function(e){if(Array.isArray(e))return h(e)}(e)||g(e)||p(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(){return b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},b.apply(this,arguments)}function x(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var _=n(110),w=n.n(_),E=n(900),M=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function S(e,t,n,r,i){var a,A,o,s,l,u=i.areStatesEqual,c=i.areOwnPropsEqual,f=i.areStatePropsEqual,d=!1;function h(i,d){var h=!c(d,A),p=!u(i,a,d,A);return a=i,A=d,h&&p?(o=e(a,A),t.dependsOnOwnProps&&(s=t(r,A)),l=n(o,s,A)):h?(e.dependsOnOwnProps&&(o=e(a,A)),t.dependsOnOwnProps&&(s=t(r,A)),l=n(o,s,A)):p?function(){var t=e(a,A),r=!f(t,o);return o=t,r&&(l=n(o,s,A)),l}():l}return function(i,u){return d?h(i,u):(o=e(a=i,A=u),s=t(r,A),l=n(o,s,A),d=!0,l)}}function C(e){return function(t){var n=e(t);function r(){return n}return r.dependsOnOwnProps=!1,r}}function T(e){return e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function k(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e,void 0)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=T(e);var i=r(t,n);return"function"===typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=T(i),i=r(t,n)),i},r}}function B(e,t){return function(n,r){throw new Error("Invalid value of type ".concat(typeof e," for ").concat(t," argument when connecting component ").concat(r.wrappedComponentName,"."))}}function R(e,t,n){return b({},n,e,t)}var P={notify:function(){},get:function(){return[]}};function I(e,t){var n,r=P;function i(){A.onStateChange&&A.onStateChange()}function a(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=c(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var A={addNestedSub:function(e){return a(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:a,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=P)},getListeners:function(){return r}};return A}var D=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?t.useLayoutEffect:t.useEffect;function L(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function U(e,t){if(L(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!L(e[n[i]],t[n[i]]))return!1;return!0}var N=["reactReduxForwardedRef"],O=function(){throw new Error("uSES not initialized!")},F=[null,null];function z(e,t,n,r,i,a){e.current=r,n.current=!1,i.current&&(i.current=null,a())}function G(e,t){return e===t}var H=function(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(i.pure,i.areStatesEqual),A=void 0===a?G:a,o=i.areOwnPropsEqual,s=void 0===o?U:o,l=i.areStatePropsEqual,u=void 0===l?U:l,c=i.areMergedPropsEqual,d=void 0===c?U:c,h=i.forwardRef,p=void 0!==h&&h,v=i.context,g=void 0===v?f:v,_=function(e){return e?"function"===typeof e?k(e):B(e,"mapStateToProps"):C((function(){return{}}))}(e),T=function(e){return e&&"object"===typeof e?C((function(t){return function(e,t){var n={},r=function(){var r=e[i];"function"===typeof r&&(n[i]=function(){return t(r.apply(void 0,arguments))})};for(var i in e)r();return n}(e,t)})):e?"function"===typeof e?k(e):B(e,"mapDispatchToProps"):C((function(e){return{dispatch:e}}))}(n),P=function(e){return e?"function"===typeof e?function(e){return function(t,n){n.displayName;var r,i=n.areMergedPropsEqual,a=!1;return function(t,n,A){var o=e(t,n,A);return a?i(o,r)||(r=o):(a=!0,r=o),r}}}(e):B(e,"mergeProps"):function(){return R}}(r),L=Boolean(e);return function(e){var n=e.displayName||e.name||"Component",r="Connect(".concat(n,")"),i={shouldHandleStateChanges:L,displayName:r,wrappedComponentName:n,WrappedComponent:e,initMapStateToProps:_,initMapDispatchToProps:T,initMergeProps:P,areStatesEqual:A,areStatePropsEqual:u,areOwnPropsEqual:s,areMergedPropsEqual:d};function a(n){var r=(0,t.useMemo)((function(){var e=n.reactReduxForwardedRef,t=x(n,N);return[n.context,e,t]}),[n]),a=m(r,3),A=a[0],o=a[1],s=a[2],l=(0,t.useMemo)((function(){return A&&A.Consumer&&(0,E.isContextConsumer)(t.createElement(A.Consumer,null))?A:g}),[A,g]),u=(0,t.useContext)(l),c=Boolean(n.store)&&Boolean(n.store.getState)&&Boolean(n.store.dispatch),f=Boolean(u)&&Boolean(u.store);var d=c?n.store:u.store,h=f?u.getServerState:d.getState,p=(0,t.useMemo)((function(){return function(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,i=t.initMergeProps,a=x(t,M);return S(n(e,a),r(e,a),i(e,a),e,a)}(d.dispatch,i)}),[d]),v=(0,t.useMemo)((function(){if(!L)return F;var e=I(d,c?void 0:u.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[d,c,u]),_=m(v,2),w=_[0],C=_[1],T=(0,t.useMemo)((function(){return c?u:b({},u,{subscription:w})}),[c,u,w]),k=(0,t.useRef)(),B=(0,t.useRef)(s),R=(0,t.useRef)(),P=(0,t.useRef)(!1),U=((0,t.useRef)(!1),(0,t.useRef)(!1)),G=(0,t.useRef)();D((function(){return U.current=!0,function(){U.current=!1}}),[]);var H,V,W,j,Q=(0,t.useMemo)((function(){return function(){return R.current&&s===B.current?R.current:p(d.getState(),s)}}),[d,s]),X=(0,t.useMemo)((function(){return function(e){return w?function(e,t,n,r,i,a,A,o,s,l,u){if(!e)return function(){};var c=!1,f=null,d=function(){if(!c&&o.current){var e,n,d=t.getState();try{e=r(d,i.current)}catch(h){n=h,f=h}n||(f=null),e===a.current?A.current||l():(a.current=e,s.current=e,A.current=!0,u())}};return n.onStateChange=d,n.trySubscribe(),d(),function(){if(c=!0,n.tryUnsubscribe(),n.onStateChange=null,f)throw f}}(L,d,w,p,B,k,P,U,R,C,e):function(){}}}),[w]);H=z,V=[B,k,P,s,R,C],D((function(){return H.apply(void 0,y(V))}),W);try{j=O(X,Q,h?function(){return p(h(),s)}:Q)}catch(K){throw G.current&&(K.message+="\nThe error may be correlated with this previous error:\n".concat(G.current.stack,"\n\n")),K}D((function(){G.current=void 0,R.current=void 0,k.current=j}));var J=(0,t.useMemo)((function(){return t.createElement(e,b({},j,{ref:o}))}),[o,e,j]);return(0,t.useMemo)((function(){return L?t.createElement(l.Provider,{value:T},J):J}),[l,J,T])}var o=t.memo(a);if(o.WrappedComponent=e,o.displayName=a.displayName=r,p){var l=t.forwardRef((function(e,n){return t.createElement(o,b({},e,{reactReduxForwardedRef:n}))}));return l.displayName=r,l.WrappedComponent=e,w()(l,e)}return w()(o,e)}};var V=function(e){var n=e.store,r=e.context,i=e.children,a=e.serverState,A=(0,t.useMemo)((function(){var e=I(n);return{store:n,subscription:e,getServerState:a?function(){return a}:void 0}}),[n,a]),o=(0,t.useMemo)((function(){return n.getState()}),[n]);D((function(){var e=A.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),o!==n.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=void 0}}),[A,o]);var s=r||f;return t.createElement(s.Provider,{value:A},i)};var W,j;function Q(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}W=l.useSyncExternalStoreWithSelector,function(e){O=e}(s.useSyncExternalStore),j=r.unstable_batchedUpdates,u=j;var X=n(441),J=n(613),K=n.n(J);var Y=function(e){function t(e,r,s,l,f){for(var d,h,p,v,b,_=0,w=0,E=0,M=0,S=0,P=0,D=p=d=0,U=0,N=0,O=0,F=0,z=s.length,G=z-1,H="",V="",W="",j="";U<z;){if(h=s.charCodeAt(U),U===G&&0!==w+M+E+_&&(0!==w&&(h=47===w?10:47),M=E=_=0,z++,G++),0===w+M+E+_){if(U===G&&(0<N&&(H=H.replace(c,"")),0<H.trim().length)){switch(h){case 32:case 9:case 59:case 13:case 10:break;default:H+=s.charAt(U)}h=59}switch(h){case 123:for(d=(H=H.trim()).charCodeAt(0),p=1,F=++U;U<z;){switch(h=s.charCodeAt(U)){case 123:p++;break;case 125:p--;break;case 47:switch(h=s.charCodeAt(U+1)){case 42:case 47:e:{for(D=U+1;D<G;++D)switch(s.charCodeAt(D)){case 47:if(42===h&&42===s.charCodeAt(D-1)&&U+2!==D){U=D+1;break e}break;case 10:if(47===h){U=D+1;break e}}U=D}}break;case 91:h++;case 40:h++;case 34:case 39:for(;U++<G&&s.charCodeAt(U)!==h;);}if(0===p)break;U++}if(p=s.substring(F,U),0===d&&(d=(H=H.replace(u,"").trim()).charCodeAt(0)),64===d){switch(0<N&&(H=H.replace(c,"")),h=H.charCodeAt(1)){case 100:case 109:case 115:case 45:N=r;break;default:N=R}if(F=(p=t(r,N,p,h,f+1)).length,0<I&&(b=o(3,p,N=n(R,H,O),r,T,C,F,h,f,l),H=N.join(""),void 0!==b&&0===(F=(p=b.trim()).length)&&(h=0,p="")),0<F)switch(h){case 115:H=H.replace(x,A);case 100:case 109:case 45:p=H+"{"+p+"}";break;case 107:p=(H=H.replace(m,"$1 $2"))+"{"+p+"}",p=1===B||2===B&&a("@"+p,3)?"@-webkit-"+p+"@"+p:"@"+p;break;default:p=H+p,112===l&&(V+=p,p="")}else p=""}else p=t(r,n(r,H,O),p,l,f+1);W+=p,p=O=N=D=d=0,H="",h=s.charCodeAt(++U);break;case 125:case 59:if(1<(F=(H=(0<N?H.replace(c,""):H).trim()).length))switch(0===D&&(d=H.charCodeAt(0),45===d||96<d&&123>d)&&(F=(H=H.replace(" ",":")).length),0<I&&void 0!==(b=o(1,H,r,e,T,C,V.length,l,f,l))&&0===(F=(H=b.trim()).length)&&(H="\0\0"),d=H.charCodeAt(0),h=H.charCodeAt(1),d){case 0:break;case 64:if(105===h||99===h){j+=H+s.charAt(U);break}default:58!==H.charCodeAt(F-1)&&(V+=i(H,d,h,H.charCodeAt(2)))}O=N=D=d=0,H="",h=s.charCodeAt(++U)}}switch(h){case 13:case 10:47===w?w=0:0===1+d&&107!==l&&0<H.length&&(N=1,H+="\0"),0<I*L&&o(0,H,r,e,T,C,V.length,l,f,l),C=1,T++;break;case 59:case 125:if(0===w+M+E+_){C++;break}default:switch(C++,v=s.charAt(U),h){case 9:case 32:if(0===M+_+w)switch(S){case 44:case 58:case 9:case 32:v="";break;default:32!==h&&(v=" ")}break;case 0:v="\\0";break;case 12:v="\\f";break;case 11:v="\\v";break;case 38:0===M+w+_&&(N=O=1,v="\f"+v);break;case 108:if(0===M+w+_+k&&0<D)switch(U-D){case 2:112===S&&58===s.charCodeAt(U-3)&&(k=S);case 8:111===P&&(k=P)}break;case 58:0===M+w+_&&(D=U);break;case 44:0===w+E+M+_&&(N=1,v+="\r");break;case 34:case 39:0===w&&(M=M===h?0:0===M?h:M);break;case 91:0===M+w+E&&_++;break;case 93:0===M+w+E&&_--;break;case 41:0===M+w+_&&E--;break;case 40:if(0===M+w+_){if(0===d)if(2*S+3*P===533);else d=1;E++}break;case 64:0===w+E+M+_+D+p&&(p=1);break;case 42:case 47:if(!(0<M+_+E))switch(w){case 0:switch(2*h+3*s.charCodeAt(U+1)){case 235:w=47;break;case 220:F=U,w=42}break;case 42:47===h&&42===S&&F+2!==U&&(33===s.charCodeAt(F+2)&&(V+=s.substring(F,U+1)),v="",w=0)}}0===w&&(H+=v)}P=S,S=h,U++}if(0<(F=V.length)){if(N=r,0<I&&(void 0!==(b=o(2,V,N,e,T,C,F,l,f,l))&&0===(V=b).length))return j+V+W;if(V=N.join(",")+"{"+V+"}",0!==B*k){switch(2!==B||a(V,2)||(k=0),k){case 111:V=V.replace(y,":-moz-$1")+V;break;case 112:V=V.replace(g,"::-webkit-input-$1")+V.replace(g,"::-moz-$1")+V.replace(g,":-ms-input-$1")+V}k=0}}return j+V+W}function n(e,t,n){var i=t.trim().split(p);t=i;var a=i.length,A=e.length;switch(A){case 0:case 1:var o=0;for(e=0===A?"":e[0]+" ";o<a;++o)t[o]=r(e,t[o],n).trim();break;default:var s=o=0;for(t=[];o<a;++o)for(var l=0;l<A;++l)t[s++]=r(e[l]+" ",i[o],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(v,"$1"+e.trim());case 58:return e.trim()+t.replace(v,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(v,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,r){var A=e+";",o=2*t+3*n+4*r;if(944===o){e=A.indexOf(":",9)+1;var s=A.substring(e,A.length-1).trim();return s=A.substring(0,e).trim()+s+";",1===B||2===B&&a(s,1)?"-webkit-"+s+s:s}if(0===B||2===B&&!a(A,1))return A;switch(o){case 1015:return 97===A.charCodeAt(10)?"-webkit-"+A+A:A;case 951:return 116===A.charCodeAt(3)?"-webkit-"+A+A:A;case 963:return 110===A.charCodeAt(5)?"-webkit-"+A+A:A;case 1009:if(100!==A.charCodeAt(4))break;case 969:case 942:return"-webkit-"+A+A;case 978:return"-webkit-"+A+"-moz-"+A+A;case 1019:case 983:return"-webkit-"+A+"-moz-"+A+"-ms-"+A+A;case 883:if(45===A.charCodeAt(8))return"-webkit-"+A+A;if(0<A.indexOf("image-set(",11))return A.replace(S,"$1-webkit-$2")+A;break;case 932:if(45===A.charCodeAt(4))switch(A.charCodeAt(5)){case 103:return"-webkit-box-"+A.replace("-grow","")+"-webkit-"+A+"-ms-"+A.replace("grow","positive")+A;case 115:return"-webkit-"+A+"-ms-"+A.replace("shrink","negative")+A;case 98:return"-webkit-"+A+"-ms-"+A.replace("basis","preferred-size")+A}return"-webkit-"+A+"-ms-"+A+A;case 964:return"-webkit-"+A+"-ms-flex-"+A+A;case 1023:if(99!==A.charCodeAt(8))break;return"-webkit-box-pack"+(s=A.substring(A.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+A+"-ms-flex-pack"+s+A;case 1005:return d.test(A)?A.replace(f,":-webkit-")+A.replace(f,":-moz-")+A:A;case 1e3:switch(t=(s=A.substring(13).trim()).indexOf("-")+1,s.charCodeAt(0)+s.charCodeAt(t)){case 226:s=A.replace(b,"tb");break;case 232:s=A.replace(b,"tb-rl");break;case 220:s=A.replace(b,"lr");break;default:return A}return"-webkit-"+A+"-ms-"+s+A;case 1017:if(-1===A.indexOf("sticky",9))break;case 975:switch(t=(A=e).length-10,o=(s=(33===A.charCodeAt(t)?A.substring(0,t):A).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|s.charCodeAt(7))){case 203:if(111>s.charCodeAt(8))break;case 115:A=A.replace(s,"-webkit-"+s)+";"+A;break;case 207:case 102:A=A.replace(s,"-webkit-"+(102<o?"inline-":"")+"box")+";"+A.replace(s,"-webkit-"+s)+";"+A.replace(s,"-ms-"+s+"box")+";"+A}return A+";";case 938:if(45===A.charCodeAt(5))switch(A.charCodeAt(6)){case 105:return s=A.replace("-items",""),"-webkit-"+A+"-webkit-box-"+s+"-ms-flex-"+s+A;case 115:return"-webkit-"+A+"-ms-flex-item-"+A.replace(w,"")+A;default:return"-webkit-"+A+"-ms-flex-line-pack"+A.replace("align-content","").replace(w,"")+A}break;case 973:case 989:if(45!==A.charCodeAt(3)||122===A.charCodeAt(4))break;case 931:case 953:if(!0===M.test(e))return 115===(s=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):A.replace(s,"-webkit-"+s)+A.replace(s,"-moz-"+s.replace("fill-",""))+A;break;case 962:if(A="-webkit-"+A+(102===A.charCodeAt(5)?"-ms-"+A:"")+A,211===n+r&&105===A.charCodeAt(13)&&0<A.indexOf("transform",10))return A.substring(0,A.indexOf(";",27)+1).replace(h,"$1-webkit-$2")+A}return A}function a(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),D(2!==t?r:r.replace(E,"$1"),n,t)}function A(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(_," or ($1)").substring(4):"("+t+")"}function o(e,t,n,r,i,a,A,o,s,u){for(var c,f=0,d=t;f<I;++f)switch(c=P[f].call(l,e,d,n,r,i,a,A,o,s,u)){case void 0:case!1:case!0:case null:break;default:d=c}if(d!==t)return d}function s(e){return void 0!==(e=e.prefix)&&(D=null,e?"function"!==typeof e?B=1:(B=2,D=e):B=0),s}function l(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<I){var i=o(-1,n,r,r,T,C,0,0,0,0);void 0!==i&&"string"===typeof i&&(n=i)}var a=t(R,r,n,0,0);return 0<I&&(void 0!==(i=o(-2,a,r,r,T,C,a.length,0,0,0))&&(a=i)),"",k=0,C=T=1,a}var u=/^\0+/g,c=/[\0\r\f]/g,f=/: */g,d=/zoo|gra/,h=/([,: ])(transform)/g,p=/,\r+?/g,v=/([\t\r\n ])*\f?&/g,m=/@(k\w+)\s*(\S*)\s*/,g=/::(place)/g,y=/:(read-only)/g,b=/[svh]\w+-[tblr]{2}/,x=/\(\s*(.*)\s*\)/g,_=/([\s\S]*?);/g,w=/-self|flex-/g,E=/[^]*?(:[rp][el]a[\w-]+)[^]*/,M=/stretch|:\s*\w+\-(?:conte|avail)/,S=/([^-])(image-set\()/,C=1,T=1,k=0,B=1,R=[],P=[],I=0,D=null,L=0;return l.use=function e(t){switch(t){case void 0:case null:I=P.length=0;break;default:if("function"===typeof t)P[I++]=t;else if("object"===typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else L=0|!!t}return e},l.set=s,void 0!==e&&s(e),l},q={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function Z(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var $=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,ee=Z((function(e){return $.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));function te(){return(te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var ne=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},re=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!(0,X.typeOf)(e)},ie=Object.freeze([]),ae=Object.freeze({});function Ae(e){return"function"==typeof e}function oe(e){return e.displayName||e.name||"Component"}function se(e){return e&&"string"==typeof e.styledComponentId}var le="undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/vinastalgia",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&({NODE_ENV:"production",PUBLIC_URL:"/vinastalgia",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"/vinastalgia",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_ATTR)||"data-styled",ue="undefined"!=typeof window&&"HTMLElement"in window,ce=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/vinastalgia",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&(void 0!=={NODE_ENV:"production",PUBLIC_URL:"/vinastalgia",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/vinastalgia",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"/vinastalgia",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/vinastalgia",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY:void 0!=={NODE_ENV:"production",PUBLIC_URL:"/vinastalgia",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/vinastalgia",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:"/vinastalgia",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/vinastalgia",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY)));function fe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var de=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)(i<<=1)<0&&fe(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var a=r;a<i;a++)this.groupSizes[a]=0}for(var A=this.indexOfGroup(e+1),o=0,s=t.length;o<s;o++)this.tag.insertRule(A,t[o])&&(this.groupSizes[e]++,A++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,a=r;a<i;a++)t+=this.tag.getRule(a)+"/*!sc*/\n";return t},e}(),he=new Map,pe=new Map,ve=1,me=function(e){if(he.has(e))return he.get(e);for(;pe.has(ve);)ve++;var t=ve++;return he.set(e,t),pe.set(t,e),t},ge=function(e){return pe.get(e)},ye=function(e,t){t>=ve&&(ve=t+1),he.set(e,t),pe.set(t,e)},be="style["+le+'][data-styled-version="5.3.11"]',xe=new RegExp("^"+le+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),_e=function(e,t,n){for(var r,i=n.split(","),a=0,A=i.length;a<A;a++)(r=i[a])&&e.registerName(t,r)},we=function(e,t){for(var n=(t.textContent||"").split("/*!sc*/\n"),r=[],i=0,a=n.length;i<a;i++){var A=n[i].trim();if(A){var o=A.match(xe);if(o){var s=0|parseInt(o[1],10),l=o[2];0!==s&&(ye(l,s),_e(e,l,o[3]),e.getTag().insertRules(s,r)),r.length=0}else r.push(A)}}},Ee=function(){return n.nc},Me=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(le))return r}}(n),a=void 0!==i?i.nextSibling:null;r.setAttribute(le,"active"),r.setAttribute("data-styled-version","5.3.11");var A=Ee();return A&&r.setAttribute("nonce",A),n.insertBefore(r,a),r},Se=function(){function e(e){var t=this.element=Me(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}fe(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),Ce=function(){function e(e){var t=this.element=Me(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),Te=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),ke=ue,Be={isServer:!ue,useCSSOMInjection:!ce},Re=function(){function e(e,t,n){void 0===e&&(e=ae),void 0===t&&(t={}),this.options=te({},Be,{},e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&ue&&ke&&(ke=!1,function(e){for(var t=document.querySelectorAll(be),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(le)&&(we(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return me(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(te({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,i=t.target,e=n?new Te(i):r?new Se(i):new Ce(i),new de(e)));var e,t,n,r,i},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(me(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(me(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(me(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=0;i<n;i++){var a=ge(i);if(void 0!==a){var A=e.names.get(a),o=t.getGroup(i);if(A&&o&&A.size){var s=le+".g"+i+'[id="'+a+'"]',l="";void 0!==A&&A.forEach((function(e){e.length>0&&(l+=e+",")})),r+=""+o+s+'{content:"'+l+'"}/*!sc*/\n'}}}return r}(this)},e}(),Pe=/(a)(d)/gi,Ie=function(e){return String.fromCharCode(e+(e>25?39:97))};function De(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=Ie(t%52)+n;return(Ie(t%52)+n).replace(Pe,"$1-$2")}var Le=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},Ue=function(e){return Le(5381,e)};function Ne(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(Ae(n)&&!se(n))return!1}return!0}var Oe=Ue("5.3.11"),Fe=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&Ne(e),this.componentId=t,this.baseHash=Le(Oe,t),this.baseStyle=n,Re.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))i.push(this.staticRulesId);else{var a=rt(this.rules,e,t,n).join(""),A=De(Le(this.baseHash,a)>>>0);if(!t.hasNameForId(r,A)){var o=n(a,"."+A,void 0,r);t.insertRules(r,A,o)}i.push(A),this.staticRulesId=A}else{for(var s=this.rules.length,l=Le(this.baseHash,n.hash),u="",c=0;c<s;c++){var f=this.rules[c];if("string"==typeof f)u+=f;else if(f){var d=rt(f,e,t,n),h=Array.isArray(d)?d.join(""):d;l=Le(l,h+c),u+=h}}if(u){var p=De(l>>>0);if(!t.hasNameForId(r,p)){var v=n(u,"."+p,void 0,r);t.insertRules(r,p,v)}i.push(p)}}return i.join(" ")},e}(),ze=/^\s*\/\/.*$/gm,Ge=[":","[",".","#"];function He(e){var t,n,r,i,a=void 0===e?ae:e,A=a.options,o=void 0===A?ae:A,s=a.plugins,l=void 0===s?ie:s,u=new Y(o),c=[],f=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,i,a,A,o,s,l,u,c){switch(n){case 1:if(0===u&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===l)return r+"/*|*/";break;case 3:switch(l){case 102:case 112:return e(i[0]+r),"";default:return r+(0===c?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}((function(e){c.push(e)})),d=function(e,r,a){return 0===r&&-1!==Ge.indexOf(a[n.length])||a.match(i)?e:"."+t};function h(e,a,A,o){void 0===o&&(o="&");var s=e.replace(ze,""),l=a&&A?A+" "+a+" { "+s+" }":s;return t=o,n=a,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),u(A||!a?"":a,l)}return u.use([].concat(l,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,d))},f,function(e){if(-2===e){var t=c;return c=[],t}}])),h.hash=l.length?l.reduce((function(e,t){return t.name||fe(15),Le(e,t.name)}),5381).toString():"",h}var Ve=t.createContext(),We=(Ve.Consumer,t.createContext()),je=(We.Consumer,new Re),Qe=He();function Xe(){return(0,t.useContext)(Ve)||je}function Je(){return(0,t.useContext)(We)||Qe}function Ke(e){var n=(0,t.useState)(e.stylisPlugins),r=n[0],i=n[1],a=Xe(),A=(0,t.useMemo)((function(){var t=a;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target]),o=(0,t.useMemo)((function(){return He({options:{prefix:!e.disableVendorPrefixes},plugins:r})}),[e.disableVendorPrefixes,r]);return(0,t.useEffect)((function(){K()(r,e.stylisPlugins)||i(e.stylisPlugins)}),[e.stylisPlugins]),t.createElement(Ve.Provider,{value:A},t.createElement(We.Provider,{value:o},e.children))}var Ye=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=Qe);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return fe(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=Qe),this.name+e.hash},e}(),qe=/([A-Z])/,Ze=/([A-Z])/g,$e=/^ms-/,et=function(e){return"-"+e.toLowerCase()};function tt(e){return qe.test(e)?e.replace(Ze,et).replace($e,"-ms-"):e}var nt=function(e){return null==e||!1===e||""===e};function rt(e,t,n,r){if(Array.isArray(e)){for(var i,a=[],A=0,o=e.length;A<o;A+=1)""!==(i=rt(e[A],t,n,r))&&(Array.isArray(i)?a.push.apply(a,i):a.push(i));return a}return nt(e)?"":se(e)?"."+e.styledComponentId:Ae(e)?"function"!=typeof(s=e)||s.prototype&&s.prototype.isReactComponent||!t?e:rt(e(t),t,n,r):e instanceof Ye?n?(e.inject(n,r),e.getName(r)):e:re(e)?function e(t,n){var r,i,a=[];for(var A in t)t.hasOwnProperty(A)&&!nt(t[A])&&(Array.isArray(t[A])&&t[A].isCss||Ae(t[A])?a.push(tt(A)+":",t[A],";"):re(t[A])?a.push.apply(a,e(t[A],A)):a.push(tt(A)+": "+(r=A,(null==(i=t[A])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in q||r.startsWith("--")?String(i).trim():i+"px")+";")));return n?[n+" {"].concat(a,["}"]):a}(e):e.toString();var s}var it=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function at(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Ae(e)||re(e)?it(rt(ne(ie,[e].concat(n)))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:it(rt(ne(e,n)))}new Set;var At=function(e,t,n){return void 0===n&&(n=ae),e.theme!==n.theme&&e.theme||t||n.theme},ot=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,st=/(^-|-$)/g;function lt(e){return e.replace(ot,"-").replace(st,"")}var ut=function(e){return De(Ue(e)>>>0)};function ct(e){return"string"==typeof e&&!0}var ft=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},dt=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function ht(e,t,n){var r=e[n];ft(t)&&ft(r)?pt(r,t):e[n]=t}function pt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var A=a[i];if(ft(A))for(var o in A)dt(o)&&ht(e,A[o],o)}return e}var vt=t.createContext();vt.Consumer;var mt={};function gt(e,n,r){var i=se(e),a=!ct(e),A=n.attrs,o=void 0===A?ie:A,s=n.componentId,l=void 0===s?function(e,t){var n="string"!=typeof e?"sc":lt(e);mt[n]=(mt[n]||0)+1;var r=n+"-"+ut("5.3.11"+n+mt[n]);return t?t+"-"+r:r}(n.displayName,n.parentComponentId):s,u=n.displayName,c=void 0===u?function(e){return ct(e)?"styled."+e:"Styled("+oe(e)+")"}(e):u,f=n.displayName&&n.componentId?lt(n.displayName)+"-"+n.componentId:n.componentId||l,d=i&&e.attrs?Array.prototype.concat(e.attrs,o).filter(Boolean):o,h=n.shouldForwardProp;i&&e.shouldForwardProp&&(h=n.shouldForwardProp?function(t,r,i){return e.shouldForwardProp(t,r,i)&&n.shouldForwardProp(t,r,i)}:e.shouldForwardProp);var p,v=new Fe(r,f,i?e.componentStyle:void 0),m=v.isStatic&&0===o.length,g=function(e,n){return function(e,n,r,i){var a=e.attrs,A=e.componentStyle,o=e.defaultProps,s=e.foldedComponentIds,l=e.shouldForwardProp,u=e.styledComponentId,c=e.target,f=function(e,t,n){void 0===e&&(e=ae);var r=te({},t,{theme:e}),i={};return n.forEach((function(e){var t,n,a,A=e;for(t in Ae(A)&&(A=A(r)),A)r[t]=i[t]="className"===t?(n=i[t],a=A[t],n&&a?n+" "+a:n||a):A[t]})),[r,i]}(At(n,(0,t.useContext)(vt),o)||ae,n,a),d=f[0],h=f[1],p=function(e,t,n,r){var i=Xe(),a=Je();return t?e.generateAndInjectStyles(ae,i,a):e.generateAndInjectStyles(n,i,a)}(A,i,d),v=r,m=h.$as||n.$as||h.as||n.as||c,g=ct(m),y=h!==n?te({},n,{},h):n,b={};for(var x in y)"$"!==x[0]&&"as"!==x&&("forwardedAs"===x?b.as=y[x]:(l?l(x,ee,m):!g||ee(x))&&(b[x]=y[x]));return n.style&&h.style!==n.style&&(b.style=te({},n.style,{},h.style)),b.className=Array.prototype.concat(s,u,p!==u?p:null,n.className,h.className).filter(Boolean).join(" "),b.ref=v,(0,t.createElement)(m,b)}(p,e,n,m)};return g.displayName=c,(p=t.forwardRef(g)).attrs=d,p.componentStyle=v,p.displayName=c,p.shouldForwardProp=h,p.foldedComponentIds=i?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):ie,p.styledComponentId=f,p.target=i?e.target:e,p.withComponent=function(e){var t=n.componentId,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(n,["componentId"]),a=t&&t+"-"+(ct(e)?e:lt(oe(e)));return gt(e,te({},i,{attrs:d,componentId:a}),r)},Object.defineProperty(p,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=i?pt({},e.defaultProps,t):t}}),Object.defineProperty(p,"toString",{value:function(){return"."+p.styledComponentId}}),a&&w()(p,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),p}var yt=function(e){return function e(t,n,r){if(void 0===r&&(r=ae),!(0,X.isValidElementType)(n))return fe(1,String(n));var i=function(){return t(n,r,at.apply(void 0,arguments))};return i.withConfig=function(i){return e(t,n,te({},r,{},i))},i.attrs=function(i){return e(t,n,te({},r,{attrs:Array.prototype.concat(r.attrs,i).filter(Boolean)}))},i}(gt,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(e){yt[e]=yt(e)}));!function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=Ne(e),Re.registerId(this.componentId+1)}var t=e.prototype;t.createStyles=function(e,t,n,r){var i=r(rt(this.rules,t,n,r).join(""),""),a=this.componentId+e;n.insertRules(a,a,i)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,n,r){e>2&&Re.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)}}();!function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var n=Ee();return"<style "+[n&&'nonce="'+n+'"',le+'="true"','data-styled-version="5.3.11"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?fe(2):e._emitSheetCSS()},this.getStyleElement=function(){var n;if(e.sealed)return fe(2);var r=((n={})[le]="",n["data-styled-version"]="5.3.11",n.dangerouslySetInnerHTML={__html:e.instance.toString()},n),i=Ee();return i&&(r.nonce=i),[t.createElement("style",te({},r,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new Re({isServer:!0}),this.sealed=!1}var n=e.prototype;n.collectStyles=function(e){return this.sealed?fe(2):t.createElement(Ke,{sheet:this.instance},e)},n.interleaveWithNodeStream=function(e){return fe(3)}}();var bt,xt=yt,_t="SHUT_DOWN",wt="START_BUTTON_CLICKED",Et="START_MENU_BLUR",Mt="OPEN_NOTEPAD",St="OPEN_ABOUT",Ct="OPEN_MODAL",Tt="FOCUS_NOTEPAD",kt="FOCUS_ABOUT",Bt="BLUR_NOTEPAD",Rt="BLUR_ABOUT",Pt="MINIMIZE_NOTEPAD",It="MINIMIZE_ABOUT",Dt="EXIT_NOTEPAD",Lt="EXIT_ABOUT",Ut="EXIT_MODAL";function Nt(){return{type:Mt}}function Ot(){return{type:St}}function Ft(){return{type:Ct}}function zt(){return{type:Tt}}function Gt(){return{type:Bt}}function Ht(){return{type:Pt}}function Vt(){return{type:Dt}}function Wt(e){var t=document.querySelector("html");t.classList.add("wait"),setTimeout((function(){t.classList.remove("wait"),t.classList.add("progress")}),300),setTimeout((function(){t.classList.remove("progress")}),e)}var jt="transparent";var Qt,Xt,Jt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:jt,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;return"number"===typeof t&&(n=t,t=jt),at(bt||(bt=Q(["\n    background-image: linear-gradient(\n        45deg,\n        "," 26%,\n        transparent 25%,\n        transparent 75%,\n        "," 75%\n      ),\n      linear-gradient(45deg, "," 26%, "," 25%, "," 75%, "," 75%);\n    background-position: 0 0, ","px ","px;\n    background-size: ","px ","px;\n  "])),e,e,e,t,t,e,n/2,n/2,n,n)},Kt=n(184),Yt=xt.div(Qt||(Qt=Q(["\n  height: 36px;\n  width: 36px;\n  background-image: url(",");\n  background-size: 36px auto;\n  \n  &::after {\n    content: undefined;\n    display: block;\n    width: 36px;\n    height: 36px;\n    mask-image: ",";\n    mask-size: 36px 36px;\n    ",";\n  }\n"])),(function(e){return e.background}),(function(e){return"url(".concat(e.background,")")}),(function(){return Jt("rgb(0, 0, 127)")})),qt=xt.div(Xt||(Xt=Q(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding-bottom: 25px;  \n  img {\n    width: 36px;\n    height: 36px;\n  }  \n  span {\n    color: rgb(255, 255, 255);\n    font-size: 11px;\n    padding: 1px 2px;\n    margin-top: 7px;\n    border: 1px solid transparent;\n  }\n  ","\n"])),(function(e){return e.clicked&&"\n      span {\n        background-color: rgb(0, 0, 127);\n        border: 1px dotted rgba(200, 200, 200);\n      }\n      \n      ".concat(Yt,'::after {\n        content: "";\n      }\n  ')}));var Zt,$t=function(e){var t=e.handleClick,n=e.label,r=e.img,i=e.clicked,a=e.doubleClicked;return(0,Kt.jsxs)(qt,{onMouseDown:function(){return t(n)},clicked:i,onDoubleClick:function(){return a(n)},children:[(0,Kt.jsx)(Yt,{background:r}),(0,Kt.jsx)("span",{children:n})]})},en=xt.div(Zt||(Zt=Q(["\n  display: flex;\n  flex-direction: column;\n  float: left;\n  padding: 8px;\n"])));var tn,nn=H(null,(function(e){return{onOpenAbout:function(){return e(Ot())},onOpenNotepad:function(){return e(Nt())},onOpenModal:function(){return e(Ft())}}}))((function(e){var n=e.onOpenAbout,r=e.onOpenNotepad,i=e.onOpenModal,a=m((0,t.useState)([{label:"My Computer",img:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAHlBMVEUAAAB/f3/AwMD///8AAAAAgIAAAIAAAP8A/wAAgABTa5L5AAAAAXRSTlMAQObYZgAAAAFiS0dEAxEMTPIAAAAHdElNRQfiBBMBJCt84jxJAAAA8ElEQVQ4y62U0Q2CMBBAS+ICBzeAqB/6WTD6SwUGMJENjBOYsIIruK2FK9iWq8HoSz9IX6537bUI0ROBgxiJVzayGOYjZ34No0hyGzmKKHMi0lniXVHiimrEE3Uz8AfRrV9z4qZhRbd7Xhx0yJUTx7Zt75yQeq09V5UKiOb8tbh0W5x/JMF+WC3XQsGSbS1CXLBCQVpw91AHmCxYOegAEuATQy+i3Eca4abub9yvIjW5J2JjyrXE9hFYavecmxxFQBR0hCVKGif6UEgvc5guMaUPpADpB0AowKSWCsEZVKv39jsyZP4ifbHU1kU1QXzkBXbdlY4knE+xAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE4LTA0LTE5VDAxOjM2OjQzLTA0OjAw1XweXgAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxOC0wNC0xOVQwMTozNjo0My0wNDowMKQhpuIAAAAASUVORK5CYII=",clicked:!1},{label:"Recycle Bin",img:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAElBMVEUAAAB/f3////8AAADAwMAAgADr1htoAAAAAXRSTlMAQObYZgAAAAFiS0dEAmYLfGQAAAAHdElNRQfiBhoAMBmckcxBAAABE0lEQVQ4y3XS7c2EMAgA4Da3wIv2BtBbQOMEXugAb1L2X+Wg2E8rvwwPpZRozBUWzDBgWkdiYV32gUg57NiLlAOD68RKuUIr0wIKgK1MUEEt5YRrxX6XGopYVNkh9ipiUSVDEoYoDK4Vp1IBrn8JWBhSL8RPBr0n5b8VRLk+12WuQES78u62NFaSWA49sMTyFk4i6XItrgIiCh5PqEBvD54ow6zbcpwL8UwP6AX8AOIJvIF9asUQgr7krIcSwEeI4Xs4H8A4ASowpz/IvQN6mesGnCIq41bgveT/e7Bx60RuAPgO5R1bBqdT3cDs6Yfo4ZWkhyw3SHI2Q10CYzCvA8ZgDIvAsZm7MBxmEAfMwzxLbvMDNeCFZkgsWwgAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDYtMjZUMDA6NDg6MjUtMDQ6MDAzY+QZAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTA2LTI2VDAwOjQ4OjI1LTA0OjAwQj5cpQAAAABJRU5ErkJggg==",clicked:!1},{label:"Notepad",img:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAFVBMVEUAAACAgIAAgID///8AAAAA///AwMBhN33UAAAAAXRSTlMAQObYZgAAAAFiS0dEAxEMTPIAAAAHdElNRQfiBhoALTAhTzgxAAAA+klEQVQ4y52UQQ7CIBBFW+MBStJeAIsHkMS1i6YHMNa9xXL/I1hgBgaGbvwLFrx8HsOCpvk7ohOixaVL+yctLzeJi3hEoOTyVAsu4zeBjcSOH6yc3jTrbHoEC20QoLLGaBPIFVb3dUUCyzZBvCKCXSEhQRFBrhDD1qPiBSeBAhq7YoWTQAGgnCIBpggONoWBRvlQEVQUAAqF2IKDKbDBFAiYwiAoFUNwcAU0uAIAUzi3B6XCjbE7uAIaXAGAKwwAphiCQzFFrUHB1ZI4hXe7W0kSp/BjuLeaSGbSgLTpvCNgCiAw4eKVhi4aOs8RuEfQiDzpazhPWY4/nR+uX/1xhzjAvQAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxOC0wNi0yNlQwMDo0NTo0OC0wNDowMGElB+4AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTgtMDYtMjZUMDA6NDU6NDgtMDQ6MDAQeL9SAAAAAElFTkSuQmCC",clicked:!1},{label:"Internet Explorer",img:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAHlBMVEUAAAAAAP8AAIAAgIDAwMD//wCAgIAAAACAgAD////p/+kwAAAAAXRSTlMAQObYZgAAAAFiS0dECfHZpewAAAAHdElNRQfiBhoAKjEZCZ5gAAABbElEQVQ4y3WTsW6DQAyGyS3cGMPQFbtDs0bKG1Qg9iZSO+YNGpbMKETisWufj7uDXL0A/vT/PhtfUbwEAOxfs8UOiAj3ubw88J98YfZrb45mC3aaB1ISvAiWqJoUEEIkCTAiqD8XtwhEUH8FTbMAEdSXa2qmgAjqtotVoNHjGnY6na8JqBTwbE6XVOCBIapbJ6BwalQnUgEV5YAJIDo4gTRWUjIxoumnWz7uGLtnQesFLInA0HT+hix4tmMWHJwAKnKBobp5tj28BAPbn8c8eM6QBXPf5cE0jVlgey5d8evbPY3fwk4PHl/oI4btxzyY5yP3hgGU2qcAziGG5bwtI5mlBFULKMOezKP7pai7Wd5if6OMr/JjxNgf1/5QRbolcioQoJItaIatpPFAzg64FjDgx7A2cwe3AsqVmd5P6xctavxs7NG93J1GRP528hXxezO4HSEK433XWqA/KJm7caaQptIrnslz4bWFxh/rT2FyA92gQgAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxOC0wNi0yNlQwMDo0Mjo0OS0wNDowMCWOFyMAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTgtMDYtMjZUMDA6NDI6NDktMDQ6MDBU06+fAAAAAElFTkSuQmCC",clicked:!1}]),2),A=a[0],o=a[1];function s(e){var t=A.findIndex((function(t){return t.label===e})),n=y(A);n.map((function(e){return e.clicked=!1})),n[t].clicked=!0,o(n)}function l(e){document.querySelector("#Icons").contains(e.target)||u()}function u(){var e=y(A);e.map((function(e){return e.clicked=!1})),o(e)}function c(e){u(),Wt(600),"About Vinastalgia"===e?n():"Notepad"===e?r():"GitHub Repo"===e?window.open("https://github.com/Arish-Shah/win95"):i()}return(0,t.useEffect)((function(){return window.addEventListener("click",l),function(){window.removeEventListener("click",l)}}),[]),(0,Kt.jsx)(en,{id:"Icons",children:A.map((function(e,t){var n=e.label,r=e.img,i=e.clicked;return(0,Kt.jsx)($t,{label:n,img:r,clicked:i,handleClick:s,doubleClicked:c},t)}))})})),rn=xt.div(tn||(tn=Q(["\n  float: right;\n  height: 25px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  border-width: 1px 1.5px 1.5px 1px;\n  border-color: rgba(0, 0, 0, 0.5) rgba(255, 255, 255) rgb(255, 255, 255) rgba(0, 0, 0, 0.5);\n  border-style: solid;\n  width: 63px;\n"])));var an,An,on,sn,ln,un=function(){var e=m((0,t.useState)({hour:"",min:"",AMPM:""}),2),n=e[0],r=e[1];function i(){var e=new Date,t=e.getHours(),n=e.getMinutes()>9?e.getMinutes():"0"+e.getMinutes(),i=e.getHours()>=12?"PM":"AM";r({hour:t,min:n,AMPM:i})}return(0,t.useEffect)((function(){i(),setInterval(i,3e4)}),[]),(0,Kt.jsx)(rn,{children:"".concat(n.hour,":").concat(n.min," ").concat(n.AMPM)})},cn=xt.div(an||(an=Q(["\n  z-index: 1000;\n  left: 2px;\n  bottom: 28px;\n  height: auto;\n  position: absolute;\n  background-color: rgb(195, 199, 203);\n  border-top: 2px solid rgba(255, 255, 255, 1);\n  border-left: 2px solid rgba(255, 255, 255, 1);\n  box-shadow: rgba(0, 0, 0, 0.7) -2px -2px 1px inset;\n"]))),fn=xt.div(An||(An=Q(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n"]))),dn=xt.div(on||(on=Q(["\n  background: rgba(0, 0, 0, 0.3);\n  color: rgba(255, 255, 255);\n  font-size: 20px;\n  width: 35px;\n  \n  span {\n    display: inline-block;\n    transform-origin: 0 0;\n    transform: rotate(270deg) !important;\n    color: rgb(220, 220, 220);\n    font-size: 25px;\n    font-family: Arial, Helvetica, sans-serif;\n    position: absolute;\n    bottom: -25px;\n  }\n  \n  span strong {\n    font-size: 25px;\n    font-family: Arial Black, Arial Bold, Gadget, sans-serif;\n    font-weight: 700;\n  }\n"]))),hn=xt.div(sn||(sn=Q(["\n  display: flex;\n  flex-direction: column;  \n"]))),pn=xt.div(ln||(ln=Q(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  width: 180px;\n  padding: 5px 0 5px 5px;\n  \n  &:last-child {\n    border-top: 1px solid gray;\n    padding: 8px 0 8px 5px;\n  }\n\n  &:hover {\n    background: rgb(0, 0, 127);\n    color: rgba(255, 255, 255);\n  }\n\n  img {\n    margin-right: 10px;\n  }\n\n  span {\n    flex: 2;\n    padding-right: 10px;\n    display: block;\n    text-align: right;\n    font-size: 9px;\n  }\n\n  em {\n    font-style: normal;\n  }\n\n  em::first-letter {\n    text-decoration: underline;\n  }\n"])));var vn,mn,gn=H(null,(function(e){return{onStartMenuBlur:function(){return e({type:Et})},onShutDown:function(){return e({type:_t})},onOpenModal:function(){return e(Ft())}}}))((function(e){var n=e.onStartMenuBlur,r=e.onShutDown,i=e.onOpenModal,a=[{text:"Programs",img:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAAEEfUpiAAAACXBIWXMAAAsSAAALEgHS3X78AAAQR0lEQVRYCQE8EMPvAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP//AP///wD/AAAAAAEAAAAA//8A/wAA/wAAAAAAAgAAAAABAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAgID///8A////AP8AAAAAAgAAAAAAAP8AAAD/AAAAAAAAAAAAAP//////////AAAAAAAAAAAAAAAAAICAgP+AgID/AAAAAAAAAAAAAAAAAAAAAAEAAAAAgICA/39/gADBwcAAAAAAAAAAAAAAAAAAQEBAAQAAAAAAAAAAAAAAAP+AAAD///////////8AAP//AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgICA/4CAgP8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//8A////AP///wD///8A/4CAAP8AAAAAAAAAAAEAAAAA//8A/8HBwAAAAAAAAAAAAAAAAAAAAAAAQEBAAQQAAAAAAAAAAAAAAAA/Pz8AAAAAAAAAAADBwcEAAAAAAAIAAAAAAQEAAAAAAACBAQEAAQEAAAGBAQAAAAAAAAAAAAIAAAAAAAAAAQAAAAB///8A//8AAP9//wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAgICA/0BAQAAAAAAAAAAAAAAAAAAAAAAAwMDAAAAAAAAAAAAAgICAAQAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAPz9AAAAAAAAAAAAAAAAAAAAAAAA/PwAAAAAAAAAAAAAAAAD/gIAAAQAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAMHBwABAQMAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAD/wMDAAEBAQAEAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP//fwCAAIAA//9/AP//fwD///8A////AP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAwMD//////////////////////////////////////8DAwP8AAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADBwcEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAICAgP8AAAAAAAAAAAAAAACAgIABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAADAwMD/AAAAAAAAAAAAAAAAAAAAAMDAwAAAAAAAAAAAAAAAAACAgIABAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAP/////BwcEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEBAQAAAAAABAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAMDAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAwMAAwMDA/wAAAP8AAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAEBAwAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAA//9/AAAAAAAAAAAAAAAAAAAAAAAAAH8AAAAAAAAAAAABAQEAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEBAAAAAAABAQAAAAAAAAAAAAABgQEAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAEBAQBAQEAAAAAAAAAAAAAAAAAAAAAAAAAAAADBwcEAAAAAAAB/AAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAQAAAAAAAAD/AAAAAAD//wAAAAAA//8AAAAAPwAAAAAA/wD/AAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAMHBwQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAICAgP////////8A////AP///wD///8A////AP///wD///8A/4CAgP8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgICA////////////////////////////////////////////////////////////////////////////////////////////AAAA/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADBwcEAAAABAMHBwQAAAAEAwcHBAAAAAQDBwcEAAAABAMHBwQAAAAEAwcHBAAAAAQDBwcEAAAABAMHBwQAAAAEAgIAAAAAAAP8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAgICA/39/fwDBwcEAPz9AAMHBwADAwMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAgIAAAAAAAQAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQEBAAEBAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP//fwABAQEA////AAEBAQD///8AAQEBAMDAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMDAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMHBwQDAwMAAwcHBAMDAwADBwcEAwMDAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD8/PwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMHBwQAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAACAAIGBgAAAAAAAwMAAAAAAQAAAAIAAAAAAAAAAAAAAAQEAAP8AAIEBAAB///8AAAAAAAEAAAAAAQAAAAAAAP//AAAAAAAAAAAAAAGBAQAAAAAA/3//AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAgIAAAQAAAAAAAAAAAAAAAAAAAACAgAD/AAAAAAAAAADBwMAAwAFAAH///wAAAAAAgQGBAMDAQADAAMAAAAAAAAAAfwAAAAAAAYEBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAwMAAAICAAIGBgQB/f38Af/9/AIGBgQAAgAAAAAAAAAAAAAAAAAAAgACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAgID/wMDA/////////////////////////////////////////////////////////////////////////////////8DAwP8AAAD/AAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMQ54RgORV82AAAAAElFTkSuQmCC",showArrow:!0},{text:"Documents",img:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAAEEfUpiAAAACXBIWXMAAAsSAAALEgHS3X78AAAQR0lEQVRYCQE8EMPvAAAAAAAAAAAAAAAAAAAAAAAAAAAAAICAgP8AAP//AAAAAAEAAAAA//8A/wAAAAAAAP8ABAAAAACBgQAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgICA/wAAAP8AAAAAAAAAAAD//wD///8A/wAAAAAEAAAAAIGBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgICA/wAAAAAAAAAAAAAAAAEAAAAAAAAAAMDAwP8AAAAAAAAAAAAAAABAQEAAAAAAAQAAAAAAAAAAAP//AP///wD///8A////AP+AgID/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAP////8AAAAAAAAAAAEBAQEAAAAAAAAAAAQAAAAAgICA/8HBwQAAAAAAAAAAAP////8BAQEAAAAAAQEAAAAA//8A/wAAAAAAAAAAAAAAAAAAAAABAQAAAAAAAQIAAAAAgYGAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAgICAAQAAAP8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAgID//////wAAAP8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////+AgID//////wAA//8AAP//AAD///////8AAAD///8A/wAAAAAAAAAAAAAAAAAAAAAAAAAAAICAgP///wD///8A////AP///wD///8A////AP///wD///8A/wAAAP//////AAAA/wAAAAAAAAAAAQAAAAAAAAAAAAAAAP//AP8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEBAAAAAAAAAAAAAQAAAAACAAAAAAAAAAAAAAAAAQEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP/////AwMD/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA///////////////////////////AwMD/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAICAgP///wD////////////////////////////AwMD///8A/4CAAP8AAAAAAAAAAAAAAAABAAAAAAAAAACAgID/QEBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwMBAAICAAAEAAAAAAAAAAAQAAAAAAAAAAEBAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD8/PwAAAMAAAABAAAAAAAAAAAAAAgAAAAAAAAAAwMDAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQEBAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAwMAAwMBAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAADAwMD/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAQEAAAAAAAQAAAAAAAAAAAgAAAAAAAAAAAAAAAMDAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAMDAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgIAAAICAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAgID/wMDA/wAAAP8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAgID/AAAAAAAAAAAAAAAAAAAAAH9/fwAAAAAAAAAAAAAAAADBwcEAQEBAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgICA///////AwMD///8A/4CAgP////////////////8AAP///////wAA/////////////8DAwP8AAAD/gICA/4CAgP+AgID/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgICA//////+AgID/////////////////AAD///////8AAP///////wAA////////AAD/////////////wMDA/wAAAP///wD/gIAA/wAAAP8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgICA////////////////////////////////////////////////////////////////////////////////////////////AAAA///////AwMD/AAAA/wAAAP8AAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQDBwcEAAAABAMHBwQAAAAEAwcHBAAAAAQDBwcEAAAABAMHBwQAAAAEAwcHBAAAAAQDBwcEAAAABAMHBwQAAAAEAgICAAAEBAQA/Pz8A////AMDAwAAAAAD/AAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAgICAAYGBgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQEBAAICAgACBgYEAAQEBAEBAQAAAAAABAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAICAgAHAwMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAH9/gACAgIAAgIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAwMAAQEBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAgIABgYGAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgICAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJr43XqjOzMuAAAAAElFTkSuQmCC",showArrow:!0},{text:"Settings",img:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAAEEfUpiAAAACXBIWXMAAAsSAAALEgHS3X78AAAQR0lEQVRYCQE8EMPvAAAAAAAAAAAAAAAAAAAAAAAAAAAAAICAgP/AwMD/AAAAAAIAAAAAAAAAAAAAAAAAAAD/AAAAAAAAAAAAgIAA/wAAAP8AAAAAAAAAAAAAAAAAAAAAAACAgID//////wAAAP8AAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAICAAP8AAAD/AAAAAAEAAAAAgICA/wAAAAAAAAAAAAAAAICAgAAAAAABAAAAAAIAAAAAAAAAAAAAAABAQEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgICA/4CAAP////////////////+AgAD/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAgICA/wAAAAAAAAAAAAAAAICAgAEAAAAAAAAAAAQAAAAAQEBAAD8/PwDBwcEAAAAAAAAAAAAAAAAAAAAAAAEAAAAAwMDA/8DAQAAAAIAAAAAAAAAAAACAgIABAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAH9/fwAAAAAAAAAAAAEAAAAAAAAA/wAAAAD///8AAAAAAIGBAQAAAAAAgIAAAQAAAAAAAAAAAP//AP8AAAD/AAAA/4CAAP8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAgICA/0BAQADAwMAAAAAAAAAAAAAAAAAAQEBAAAAAAABAQEAAAAAAAQAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAACAgIAAAAAAAMDAwADAwMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAQEBAAP///wD///8AwMDAAEBAQAAAAAAAgIAAAP////8AAAD/AAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAMDAQAA/Pz8AAAAAAAAAAAAAAAAAAAAAAAAAAACAgAAAAAAAAP///wD/////AAAAAAAAAAAAAAAAAAAAAACAgID/wMDA/wAAAP+AgAD/AAAA/4CAAP//////AAAA/4CAAP//////AAAA/wAAAP8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP8AAAAAAAAAAICAAP8AAAD/AAAAAAAAAP8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAgICA/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAgIABAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAABAQEAAQEBAAAAAAAAAAAAAAAAAAH9/fwBAQEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAgICAAP///wDBwcEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAwcHBAD8/PwCBgYEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAADAwEAAwcHBAAAAAAAAAAAAgICAAAAAAACAgID/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMDAwP/AwMD/gIAA////AP+AgAD//////4CAgP8AAAD///8A////AP8AAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAACAgAAAAAD/AICAAAAAAAAAAAAAAAAAAAAAAAAAgYEAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAPz9AAP//AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAB/fwAA//8A/wAAAP8AAAAAAAAAAAQAAAAAAAAAAAAAAACBgQAAAAAAAAAAAAD//wAAAAABAH9/AAB/fwAAAAAAAAEBAACAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwMDA/wAAAP+AgAD///8A/4CAAP+AgAD///8A/4CAAP+AgAD/gIAA/wAAAP8AAAAAAAAAAAAAAAACAAAAAAAAAABAQEABAAAAAQAAAAABAQAAgIAAAAAAAACBgQAAgIAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP8AAAAAAAAA/4CAAP8AAAAAAAAAAAAAAP8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAgICA/0BAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwMDAAICAgAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMDAwACAgIAAAAAAAAAAAAAAAAAAAAAAAMDAwAA/Pz8AwcHBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////AP///wDAwMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEBAQA/Pz8A////AMDAwAAAAAAAPz8/AD8/PwAAAAAAgICAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAH9/fwAAAIAAAAABAP///wABAQEAAAAAAICAgAAAAAAAwcHBAMDAwAAAAAAAAAAAAAAAAAAAAAD///8AAAAA/wABAQEAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMHBwQCAgAAAgYEAAAAAAAD//wAA////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP//AAD///8AAAAAAIGBAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAwEAAAAAAAAAAAACAgAAAf38AAAAAAAABAQAA//8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/wABAQEA//8AAH9//wCAgAEAAAAA/wAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAgICA/0BAQABAQEAAgIAAAAAAAAAAAAAAAAAAAH9//wAAAAEAAAD/AAEBAQAAAAAAAAAAAAAAAAAAAAAAAAAAAP//AAAAAP8AAAABAAEBAACAgAAAAAAAAAAAAACAgAAAAAAAAQAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAgAAAf38AAAAAAAAAAAAAAQEBAAAAAACAgAAA//8AAP///wCAgAAAAAAAAAEBAAAAAAAAAAAAAP///wCAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAA/wAAAAAAAAAAAAAAAAAAAACAgAAAf38AAAEBAACAgAAAAAAAAAAAAAAAAAAAf38AAAAA/wABAQEAgIAAAAAAAAAAAAAAAAAAAAAAAACAgAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAD/AAAAAAAAAACAgAAAAAAAAQAAAACAgAD/gYEAAAAAAQAAAAAAgIAAAQAAAAAAAAD/gIAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/AAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJkKbJGxDyB2AAAAAElFTkSuQmCC",showArrow:!0},{text:"Find",img:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAAEEfUpiAAAACXBIWXMAAAsSAAALEgHS3X78AAAQR0lEQVRYCQE8EMPvAAAAAACAgID/gICA/wAAAAAAAAAAAAD////AwMD//////wIAAAAAAAAAAAAAAADBwcEAAgAAAAD/AAAAQEA/AAAAAAAAAAAAAICAgP+AgID/AAAAAAAA////AICA////////////AAD///8A////wMDA//////8AAAAAAMDAwP8AAP///////wEAAAAAAAAAAP////8AAAAAAAAAAAAAAAAAAAAAAQEBAQKAgID//////wEAAAABAAAAgYGBAMHBwQDBwcEA/////wAAAAAAAAAAAAAAAP/AwMD/AAD//8DAwP/AwMD//////wEAAAAAAAAAAMDAwP8AAAAAAAAAAEBAPwAAAAAAwMDBAAEAAAAAgICA/wAAAAAAAAAAAAAAAAAAAACAgIABAAAAAAQAAAAAAAAAAH9/fwAAAAAAAAAAAAAAAAAAAAD/gICAAQCAgID/AP///wD///+AgID/wMDA////////////AAAA/wEA////AAAAAAAAAAAAgYEAwEBAAAAAAAA/Pz8AAQEBAAIAAAAAAAAAAAAAAAAAgIAAAAAAAAAAAAAAAAAAAAAAAAIAAQEBAAEBAAABAQDAwMAAwMDAAAAAAAAAAAAAAAAAAAIAAAAAgICAAMDAwAAAAAAAgH9/AMDAwAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAwMHBAEB/fwBAwcEAAAAAAAAAAAAAAAAAAAAAAACAgID///////////////////////////////////////////+AgID/AAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAACBgYEAAQEBAMHBwQAAAAAAAAAAAAAAAAAAAAAAAAAAAH9/fwD/////gICA/wAAAAAAAAAAAAD/////////AP///wD///8A////AP///wAAAP/AwMD/////////////////////////////////AAAA/wSAgID/gAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAICAAMDAwAAAAAAAAAAAAAAAAAAAAAAAPz8/AAAAAAAAAAAAAoCAgAGAgYEAAAAAAAAAAAAAAAAAAAAAAACBgQCAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgICA///////AwMD/wMDA/wAA//8A////AAD//4CAgP/AwMD/wMDA////////////AAAA/wAAAAAAAAAAAAAAAACAgID///////////////////////////8AAP//AP///wAA//+AgID///////////8AAAD/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD//wAA//8AAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAgICA/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgICAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD//////////////////////////////////////////4CAgP8AAAD/AAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMDAwAAAAAD/AAAAAAAAAAAEAAAAAAAAAACAgID/gYGBAAAAAAAAAAAAf39/AAAAAAAAAAAAAAAAAAAAAAAAAAAAPz8/AMDAwABAQED/AAAAAQAAAAAA/////8DAwP//////wMDA/8DAwP8AAAD/wMDA/8DAwP/AwMD//////////////////////8DAwP8AAAAAAoCAgP8AAAAAAAAAAMHBwQAAAAAAAAAAAMDAwADAwMAAPz8/AD8/PwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEf39/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAICAgABAQEAAAAAAAAAAAAAAAAAAPz8/AAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoGBgQAAAAAAAAAAAAAAAAAAAAAAAAAAAEDAwACAgIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEgICAAUBAQP8AAAAAAAAAAAAAAABAwMAAAICAAIAAAADAwMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAQEBAAQAAAP8AAAAAAAAAAICAgAB///8AgYGBAEBAQADAwMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAf///wD///8AQEBAAIGBgQCAf38AAAD/AEBAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQEBAAAABgQAA/wAAAAD/AEBAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD//////////////////////////wAAgP8A////AAD//wAAAP///////////8DAwP8AAAAABAAAAAAAAAAAAAAAAMHBwQAAAAAAAAAAAAAAAAAAAAAAwMBAAEABgQAA/38AAAH/AAEBAQDAwMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgP8A////AAAA/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAgID//////////////////////////////////////////////////////////////////////////////////////4CAgP8AAAD/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAwMAAgICA/wAAAP8AAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/Pz8Af39/AMDAwACAgID/AAAA/wAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAACAgID/AAAAAEBAQAA/Pz8AAQAAAP8AAAABAAAA/wAAAAEBAQAAAAAAgICAAH9/fwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAQEAAAAAAAAAAAAAAAAAAAAAAAAAAP8AAAAAAAAAAQAAAAAAgICA//////8A/////////8DAwP//////AP///8DAwP8A////wMDA/wD////AwMD/AICA/wAAAP+AgID//////////////////////////////////////////////////////////////////////8DAwP8AAAD/AAAAAASAgID/gH9/AH8AAAAAAAAAAAAAAAAAAADBwcEAAD8/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAH9/AAAAAACAgIAAAAAAAH9/fwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAgYEAwAAAAIDAwADAAAAAgMDAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAASAgIABgAAA/8FAQAAAPz8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAACAgACAgIAAf39/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAgICAAQAAAAAAAAD/AQAAAACAgAAAAAAAAMDAAEAAAAAAAAAAAAAAAACAgAAAAAAAwMDAAMCAgAAAAAAAAQEBAICAgAB/f38AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAgID///////////////////////////+AgID/wMDA//////8A////AAD//wAA//8AAAD/gICA/////////////////////////////////////////////////8DAwP8AAAD/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAgID//////////////////////////////////////wAAgP8AAP//AP///wD///8AAP//AAD//wAAAP+AgID//////////////////////////////////////8DAwP8AAAD/AAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP//fwD//wAAAAGBAAABAAAA/wAAAP8AAAAA/wCAgH8AAQEBAIGBgQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//9/AP//AAAAAYEAAAEAAAD/AAAA/wAAAAD/AICAfwABAQEAgYGBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAgP8AAP//AP///wD///8AAP//AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/wAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAW8qZjTc+5AAAAAElFTkSuQmCC",showArrow:!0},{text:"Help",img:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAAEEfUpiAAAACXBIWXMAAAsSAAALEgHS3X78AAAQR0lEQVRYCQE8EMPvAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAID/AAAA/wIAAAAAAAAA/wAAAADAwMAAAgAAAAAAAAABAIAAAEBAQAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgICA/4CAAP8AAAAAAYAAgP8AAAAAAAAAAIAAgAEAAAAAAAAAAP8AAAD/AAAAAAAAAAAAAAAAAAAAAAAAAAAAgACA/wAAAAAAAAAAAAAAAAIAAAAAAAAAAICAgP+AAID/AICAAP//AP+AAID/AAAAAAAAAAAAgACA/4CAgP//////AAAA/8DAwP8AAAD/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAID///8A/4AAgP8AAAAAAAAAAAIAAAAAAAAAAIAAgP8AAAAAAAAAAAAAAAAAAAD/AAAAAAIAAAAAgICA/wAAAAB//4AAgQGAAACAAAAAAAAAAAAAAAQAAAAAAIAAAH//fwCBgQAAAIAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAACAAID/gICA/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAgID/AIAAAAAAAACAAIAAAAAAAQAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAACAgID/AIAAAACAAAAAAAAAAAAAAP//AACBgQD/AICAAAAAAACAAIABAAAAAAEAAAAAAAAAAAAAAACAgID/AIAAAAAAAAAAAAAAAAAAAACAgAAAgIAAAAAAAAAAAAAAgAAAgICAAAAAAAEAAAAAAgAAAAAAAAAAgACA/0BAQAB//38AAIAAAIAAgAAAAAAAAICAAAAAAAAAgAAAQMBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP+AAID/gICA////////////wMDA/4CAgP8AAAD/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP8AAAD/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAID/AAAA/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgACA/wAAAAAAAAAAAAAAAIAAgAAAAAABAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAIAAgP8AAAAAAAAAAACAgAB/fwAAAAGAAAAAAP+AAIAAAAAAAQAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAACAAID/AAAAAAAAAAAAAAAAAAAAAIEBgAB//4AAAAAAAIAAgAAAAAD/AAAAAAAAAAAEAAAAAAAAAAAAAAAAgACA/wAAAAAAAAAAAAAAAAAAAAB/fwAAAH+AAIGBAAAAAAAAgACAAAAAAAEAAAAAAAAAAAQAAAAAAAAAAIAAgP8AAAAAAAAAAAAAAAAAAAAAAAAAAIGBAAAAgIAAAAAAAIAAgADAwMAAQEBAAAAAAAAAAAAAAgAAAAAAAAAAgACAAACAAACAAIAAAAAAAACAgAAAgIAAAICAAAAAAACAAIAAwMDAAAAAAAAAAAD/AAAAAAAAAAAAAAAAAAAAAAAAAAD///////////+AgID/AAAA/4AAgP+AAID/AAAA/8DAwP/AwMD/gACA/wAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAgP+AgID/////////////////gICA/wAAAP/AwMD/wMDA/4AAgP8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP+AAID/gICA/////////////////8DAwP+AAID/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/gACA/4CAgP//////gACA/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/4AAgP8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAgP8AgAAAAIAAAAAAAACAAIAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAID/AIAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgACAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgACA/wCAAAAAgAAAAAAAAAAAAAAAAAAAf/+AAAAAAAAAAAAAAAAAAAAAAAAAAAAAgQGAAAAAAAAAAAAAAAAAAIAAgAAAAAAAAAAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAgP8AgAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAICAAH9/AAAAAAAAgYEAAACAgAAAAAAAAAAAAIAAgAAAAAABAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAID/AIAAAACAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgIAAf38AAAAAAACBgQAAAAAAAIEBgAAAAAAAAAAAAAAAAACAAIAAgICAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAgACA/4AAgAAAAAAAAAAAAIAAgAAAAAAAAAAAAAAAAAAAAAAAAICAAH9/AACBgQAAAICAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgACAAICAgABAQEAAAAAAAEBAQAAAAAABAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAgACA/4AAgADAwMAAAAAAAMDAwAAAAAAAgICAAAAAAACAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAgACAgIAAQEBAAAAAAAAAAAAAwMDAAACAAACAAIAAAAAAAQAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPz8/AD8/PwAAAAAAf39/AAAAAACBgYEAAAAAAICAgAAAAAAAgACAAAAAAACAAIAAgICAAMBAwAAAAAAAAAAAAMDAwAAAgAAAgACAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP8AAAAAgACAAAAAAAAAgAAAAAAAAH9/fwAAAAAAAAAAAAAAAAAAAAAAgYGBAAAAAABAQEAAAAAAAAAAAADAwMAAAIAAAIAAgAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/AAAAAIAAgAAAAAAAAIAAAAAAAAB/f38AAAAAAAAAAADBwcEAwMDAAACAAACAAIAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/wAAAACAAIAAAAAAAACAAAAAgAAAgACAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOohZMrBgjdjAAAAAElFTkSuQmCC",showArrow:!1},{text:"Run...",img:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAAEEfUpiAAAACXBIWXMAAAsSAAALEgHS3X78AAAQR0lEQVRYCQE8EMPvAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAID/AAAA/wAAAAAAwMDA////////////AAAAAAAAAAD/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACA/wAAAP8AAAAAAAAAAAAAAAD//////wAAAAAAAAAAAAAAAP8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAA//8AAP//AAD/AAD/////////////AAAAAAEAAAAAAAAAAICAgP9AQEAAAAAAAAAAAAAAAAAAQEBAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMDAwP8AAID/AACA/wAAAP/AwMD/AAAAAAAAAAAAwMDA//8AAP///////////wCAAP/AwMD/AAAAAAIAAAAAAAAAAMHAwAAAAAAAAAAAAP9//wAAAAAAAAAAAAQAAAAAwMDAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/wAAAP8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAwMDA/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQEBAAQAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPz8/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMHBwQAAAAAAAAAAAAIAAAAAAAAAAAAAAAD/////wMDA/wAAAAABAQEAAAAAAAEBAADBwcEAAAAAAAEAAQAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAEBAQH/////AQEBAP///wAAAAAA//8AAAAAPwAAAAAA/wD/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP/AwMD/AAAA/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAP8AAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAICAgP9AQEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEBAQAAAAAABAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAEBAwAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAA//9/AAAAAAAAAAAAAAAAAAAAAAAAAH8AAAAAAAAAAAABAQEAAAAAAAAAAAAAAAAAAAAAAAD/AAD/wMDA//8AAP//AAD/AAAA/////////////////////////////////wAAAP8AAAAAAAAAAAAAAAAAAAAAAICAgP//////wMDA/4CAgP///////////wAA////////AIAA/wAA////////AAAA/wAAAAAAAAAAAgAAAAAAAAAAAAAAAIGBgQBAQEAAAAAAAAAAAAAAAAAA//8AAAAAAAD/f/8A//8AAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAgICA/wAAAAB/f38AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEBAQAAAAABAAAAAAQAAAAAAAAAAAAAAABAQEAAAAAAAAEBAQDAwMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgICA///////AwMD/gICA/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAD/AAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAgID/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAgIAAAAAAAQAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQEBAAEBAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP//fwABAQEA////AAEBAQD///8AAQEBAMDAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAgID/QEBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAQEAAAAAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAgAAA/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMHBwQBAQEAAAAAAAQAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAgAAAAQAAAP8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////AAAAAAAAAAAAAQAAAAABAAAAAAAA//8AAAAAAAAAAAAAAYEBAAAAAAD/f/8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAICAgAB/f38AAAAAAMHBwQAAAAAAAAAAAMDAwACAgIAAAAAAAAAAAACBAYEAwMBAAMAAwAAAAAAAAAB/AAAAAAABgQEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAICAgAEAAAD/QEBAAEBAQADAwMAAwMDAAICAgAD///8AAAAAAAAAAAB//38AgYGBAACAAAAAAAAAAAAAAAAAAACAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgICA//////+AgID/AAAA/////////////////////////////////////////////////////////////////////////////////8DAwP8AAAD/AAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAICAgP9AQEAAPz8/AMHBwQAAAAAAAAAAAMDAwACAgIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/Pz8AAQEBAAAAAABAQEAAAAAAAAAAAAAAAAAAAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAA//8AAP/AwMD/wMDA//8AAP//AAD//wAA//8AAP//AAD/AAAA/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADbk7112pSvAAAAAElFTkSuQmCC",showArrow:!1},{text:"Shut Down...",img:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAAEEfUpiAAAACXBIWXMAAAsSAAALEgHS3X78AAAQR0lEQVRYCQE8EMPvAAAAAACAgID/AAAAAAAAAAABAAAAAAAA///AwMEAwMDAAAIAAAAAgICBAEBAwAAAAAAAAgAAAABAQEAA//9/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AACA/4CAgP8AAAAAAgEBAQAAAH8AAAAAAAAAAAAEAAAAAcDAwf8AAEAAAAAA/wEAAAAA/////8HBwQAAAAAAAAAAAAAAAADAwMAAgICAAQQAAAAAAAAAAEA/PwAAAQAAAACBAICAAAAAAAAAAAAAAAIAAAAAwcHBAP8AAAAAAAEAgIAAAAAAAAAAAAAAAAAA/wAAAAAAAAAAAAAAAAAAAAAAwMDA/4CAgP8AAAAAAAAAAAAAAAAAAAAAAICAgP8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwMDA///////AwMD/gICA/8DAwP8AAAAAAAAAAAIAAAAAQEBAAAEBAADAwMAAAAAAAEBAQACAgID/AAAAAAIAAAAAAAAAAP//AQCAgH8AAAAAAAAAAAAAAAAAAAAAAAQAAAAAwMDAAAEBwAAAAAAAAAAAAAAAAACAgIAAAAAAAAKAgID/AAAAAMDAQADAwMEAAAAAAAAAAACAgIAAAAAAAAEAAAAAAAAA/8DAwAAAAAAAwMDAAAAAAAAAAAAAgICAAQAAAAAAAAAAAAAAAAAAAAD/gICA/wAAAP8AAAAAAAAAAAEAAAAAAAAAAICAgP9AQEAAAAAAAAAAAAAAAAAAwMDAAAAAAAAAAAAAAAAAAICAgAEAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAA/////wEBAQAAAIAAgIAAAEBAQAA/Pz8AwcHBAAAAAAAAAAAAQEBAAICAgAAAAAAAgICAAQAAAAAEAAAAAAAAAAAAAAAAAAAAAAD/fwCAAAAAAAEAAAAAAAAAAMAAgIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAA/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAACAgID/AAAAAMDAwABAQAEAwMHAAMDAwACAAAAAAAAAAAAAAAAAAAAAAAAAAICAgAAAAAABAAAAAAAAAAACAAAAAAAAAADBwcEAQMBAAMDAwAAAAAAAf39/AMDAQAAAAIAAAAAAAICAgACAgIAAwMDAAICAgP8AAAD/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP/AwMAAAAAAAAAAAADAwMAAAAAAAAAAAAAAAAAAgICAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAICAgP+AgID/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAICAgP9AQEAAAAAAAAAAAAAAAAAAwMDAAAAAAAAAAAAAAAAAAICAgAEAAAAAAAAAAAAAAAAAAAAAAQAAAACAgID/QEBAAAAAAAA/Pz8AwcHBAAAAAAAAAAAAAAAAAMDAwABAQEAAAAAAAMDAwACAgIABAAAAAAAAAAACAAAAAAAAAAAAAAAAQEDAAIGBgQAAAAAAPz8/AAAAAAAAAAAAQEBAAAAAAAAAAAAAAAAAAAAAAP8AAAAAAAAAAAQAAAAAAAAAAAAAAAAAAH8AgIAAAAAAgQCAgMAAQEBAAAAAAADAwMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAB/AIB/fwBAQMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAA/wAAAAEAAAAAfwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAIEAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAMDAQACAgIEAAACBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAABAAAAAP/////BwcEAQEBAAMDAwAAAAAAAwMDAAICAAADAwEAAwMDAAAAAAAAAAAAAgICAAAAAAAEAAAAAAAAAAAIAAAAAAAAAAAAAAAD///8AAAAAAEBAQABAQEAAwMBAAAAAAAAAAAAAAAAAAAAAAACAgIAAgICA/wAAAAAAAAAAAgAAAAAAAAAAQMBAAMHBwQAAAAAA////AAAAAABAQEAAAAAAAAAAAACAgIAAAAAAAEBAQAAAAAAAAAAAAAAAAAACAAAAAAEBAQEAgAAAAAAAAAAAAADBwcEAAAAAAP///wAAAAAAAAAAAMDAwAAAAAAAwMDAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAA/8DAwAAAAAAAAAAAAAAAAADAwMAAAAAAAAAAAAAAAAAAgICAAAAAAAEAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP/AwMAAAAAAAMDAwAAAAAAAgICAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/AAAA/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAgID/AAAAAEBAQAAAAAAAAAAAAAAAAADAwMAAAAAAAICAgAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAACAgID/f39/AAAAAAAAAAAAAAAAAAAAAADBwcEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwMDAAAAAAABAQEAAAAAAAAAAAAAAAAAAwMDAAAAAAACAgIABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAMHBwQBAQEAAgICAAAAAAABAQEAAAAAAAD8/PwAAAAAAwcHBAAAAAAAAAAAAQEBAAAAAAAAAAAAAAAAAAMDAwAAAAAAAQEBAAAAAAADAwMD/AAAAAMDAwACAgIABAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgIB/AAAAAAAAAIEAAAAAAICAwAAAAAAAQEBAAAAAAAA/Pz8AAAAAAMHBwQAAAAAAAAAAAAAAAAAAAAAAQEBAAICAgAAAAAAAAAAAAAAAAAAAAAD/AAAAAQAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAH8AAP8AAIABAAAAAAAAAACBAAAAAACAgMAAAAAAAEBAQADAwMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/wAA/wAAAAEAAAAA/wAAAAF/AAAAAACAgAAAAACBAMDAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAQAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAwcHBAMDAwACAgIAAAACBAICAAAAAAAAAAAF/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAICAgP9AQEAAAAAAAICAgAAAAAAAwMDAAMDAAAAAAAAAwMCBAAAAAACAgAAAAAAAAAAAfwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgICAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAA/Pz8AAAAAAP///wD///8AAAAAAAAAAABAQEAAgICAAEBAQADAwEAAwMBAAICAgQCAgIEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAICAgAAAAAAAgICAAAAAAP8AAAD/AAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQAAAAAAwADAAAAAAAD///8AAAAAAMHBwQAAAAAAQEBAAAAAAADAwMAAwMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAICAgAAAAAAAAAAAAMDAwAAAAAAAQEBA/wAAAAEAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAD/AAAAAMDAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPz8/AAAAAADBwcEAAAAAAEBAQAAAAAAAAAAAAICAgAAAAAAAQEBAAAAAAADAwMAAAAAAAAAAAAAAAAAAgICAAAAAAAEAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/wAAAADAwMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD8/PwDBwcEAAAAAAMDAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgICAAAAAAAEAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP8AAAAAwMDAAAAAAAAAAAAAAAAAAAAAAADAwMAAAAAAAAAAAAAAAAAAAAAAAAAAAACAgIAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/AAAAAMDAwADAwMAAAAAAAICAgAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP5EtOSN/kFBAAAAAElFTkSuQmCC",showArrow:!1}];function A(e){document.querySelector("#Start").contains(e.target)||document.querySelector("#StartButton").contains(e.target)||n()}return(0,t.useEffect)((function(){return window.addEventListener("click",A),function(){window.removeEventListener("click",A)}}),[]),(0,Kt.jsx)(cn,{id:"Start",children:(0,Kt.jsxs)(fn,{children:[(0,Kt.jsx)(dn,{children:(0,Kt.jsxs)("span",{children:[(0,Kt.jsx)("strong",{children:"Windows"}),"95"]})}),(0,Kt.jsx)(hn,{children:a.map((function(e,t){var a=e.text,A=e.img,o=e.showArrow;return(0,Kt.jsxs)(pn,{onClick:function(){return function(e){"Shut Down..."===e?(Wt(3e3),setTimeout((function(){r()}),3e3)):(n(),i())}(a)},children:[(0,Kt.jsx)("img",{src:A,alt:a}),(0,Kt.jsx)("em",{children:a}),o?(0,Kt.jsx)("span",{children:"\u25b6"}):null]},t)}))})]})})})),yn=xt.div(vn||(vn=Q(["\n  border: 1px dotted transparent;\n  padding: 0 ",";\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  width: ",";\n\n  div {\n    display: flex;\n\n    span,\n    b {\n      display: flex;\n      flex-direction: column;\n      justify-content: center;\n      padding-left: 3px;\n    }\n  }\n"])),(function(e){return e.pad?e.pad+"px":"10px"}),(function(e){return e.pad?"auto":"160px"})),bn=xt.button(mn||(mn=Q(["\n  box-shadow: rgb(255, 255, 255) 1px 1px 0px 1px inset,\n    rgb(134, 138, 142) 0px 0px 0px 1px inset, rgb(0, 0, 0) 1px 1px 0px 0px;\n  border: none;\n  padding: 3px;\n  background: ",";\n  margin-right: 4px;\n  height: ",";\n  color: ",";\n\n  ",";\n\n  &:focus {\n    box-shadow: rgb(255, 255, 255) 1px 1px 0px 1px inset,\n      rgba(0, 0, 0, 0.4) 0px 0px 0 1.5px inset, rgb(0, 0, 0) 1px 1px 0px 1px;\n  }\n\n  &:active {\n    box-shadow: rgb(255, 255, 255) 1px 1px 0 1px,\n      rgb(0, 0, 0) 1px 1px 0px 1px inset !important;\n    padding: 4px 2px 2px 4px;\n  }\n\n  &:focus "," {\n    border-color: black;\n  }\n"])),(function(e){return e.background?e.background:"rgb(195, 199, 203)"}),(function(e){return e.height?e.height+"px":"100%"}),(function(e){return e.background?"rgb(255, 255, 255)":"rgb(0, 0, 0)"}),(function(e){return e.pressed?"\n    box-shadow: rgb(255, 255, 255) 1px 1px 0 1px, rgb(0, 0, 0) 1px 1px 0px 1px inset !important;\n    font-weight: bold;\n    background-color: #e6e6e6 !important;\n    padding: 4px 2px 2px 4px;\n  ":""}),yn);var xn,_n,wn=function(e){var t=e.id,n=e.children,r=e.pressed,i=e.clicked,a=e.pad,A=e.height,o=e.background;return(0,Kt.jsx)(bn,{onClick:i,pressed:r,id:t,height:A,background:o,children:(0,Kt.jsx)(yn,{pad:a,children:n})})},En="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAHdElNRQfiBhoALTAhTzgxAAAAUklEQVQoz82QSwoAMQhDX4sH79V6ssyiHfpzpMsRgqAxkQCAHPTKgETZMFGKJFwMBcehLhZhWWup/5rWDwfhHSpW8Ej2dfknhZugakg4o5s3wAMbuTcD0Mw4/QAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxOC0wNi0yNlQwMDo0NTo0OC0wNDowMGElB+4AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTgtMDYtMjZUMDA6NDU6NDgtMDQ6MDAQeL9SAAAAAElFTkSuQmCC",Mn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAElBMVEUAAACAgID///8AAAAAAP/AwMBf5JN4AAAAAXRSTlMAQObYZgAAAAFiS0dEAmYLfGQAAAAHdElNRQfiBhoAKi6UAZOVAAAAX0lEQVQI11XNwQ3AIAgF0G9cQBo7QD/1rjEuYNzA/Xcp2vTQf+EFAgAQkQCLkNQMOHJ0zo3YqQEHV1I2XDZiWZ34x7mRim3dY3DaybaWisE3pirrh2+6q0nDC9QPzvAAK9gNFiZoqz4AAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDYtMjZUMDA6NDI6NDYtMDQ6MDDTxmfKAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTA2LTI2VDAwOjQyOjQ2LTA0OjAwopvfdgAAAABJRU5ErkJggg==",Sn=xt.div(xn||(xn=Q(["\n  height: 100%;\n  display: inline-block;\n"]))),Cn=xt.div(_n||(_n=Q(["\n  height: 100%;\n  display: flex;\n"])));var Tn,kn=H((function(e){return{showStart:e.showStart,about:e.about,notepad:e.notepad,showModal:e.showModal}}),(function(e){return{onStartClick:function(){return e({type:wt})},onAboutClick:function(){return e(Ot())},onNotepadClick:function(){return e(Nt())}}}))((function(e){var t=e.showStart,n=e.about,r=e.notepad,i=e.showModal,a=e.onStartClick,A=e.onNotepadClick,o=e.onAboutClick,s=r.show?(0,Kt.jsx)(wn,{pressed:!r.minimized&&!r.blurred,clicked:function(){return A()},id:"notepad-button",children:(0,Kt.jsxs)("div",{children:[(0,Kt.jsx)("img",{src:En,alt:"notepad"}),(0,Kt.jsx)("span",{children:"Untitled - NotePad"})]})}):null,l=n.show?(0,Kt.jsx)(wn,{pressed:!n.minimized&&!n.blurred,clicked:function(){return o()},id:"about-button",children:(0,Kt.jsxs)("div",{children:[(0,Kt.jsx)("img",{src:Mn,alt:"about"}),(0,Kt.jsx)("span",{children:"About Windows"})]})}):null,u=i?(0,Kt.jsx)(wn,{pressed:i,children:(0,Kt.jsxs)("div",{children:[(0,Kt.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAElBMVEUAAACAgAD//wAAAACAgID///9DTNBXAAAAAXRSTlMAQObYZgAAAAFiS0dEBfhv6ccAAAAHdElNRQfiBhoAKi/jBqMDAAAAUUlEQVQI1z2MwQ2AMAwDnQ2gbOAsgNoMEEH3n4kkRb3XST4ZAM4DhVC3eEkj7yVKW8vousUrGb2ixqtlJKQyn0KCiOLlffLpF0tJDDKKCczCP9tqDg+12hjAAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE4LTA2LTI2VDAwOjQyOjQ3LTA0OjAwdbFsfgAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxOC0wNi0yNlQwMDo0Mjo0Ny0wNDowMATs1MIAAAAASUVORK5CYII=",alt:"error"}),(0,Kt.jsx)("span",{children:"Unspecified Error"})]})}):null;return(0,Kt.jsx)(Sn,{children:(0,Kt.jsxs)(Cn,{children:[(0,Kt.jsx)(wn,{id:"StartButton",clicked:function(){return a()},pressed:t,pad:"0",children:(0,Kt.jsxs)("div",{children:[(0,Kt.jsx)("img",{src:"data:image/png;base64,AAABAAEAEBAQAAEABAAoAQAAFgAAACgAAAAQAAAAIAAAAAEABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/wAAAAAA/wAA/wAAAP//AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEREAEAAEABAQEQARAEQAEAAAABEARAAAIiIAAQBAACAgIgAAAAAAIAAAACAAAwAAAAAAIgAzAAAAAAAiADMAAAAAAAIAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD//wAAwf4AAFB4AAB8AAAAwAAAAFAAAAB8AAAAwAAAAFAAAAB8AAAAwAAAAFAAAAB8AAAA/gEAAP+HAAD//wAA",alt:"start"}),(0,Kt.jsx)("b",{children:"Start"})]})}),s,l,u]})})})),Bn=xt.div(Tn||(Tn=Q(["\n  background-color: rgb(195, 199, 203);\n  position: fixed;\n  width: 100vw;\n  bottom: 0;\n  padding: 3px;\n  height:  30px;\n  box-shadow: 0 0 0 2px rgba(255, 255, 255);\n"])));var Rn,Pn,In,Dn,Ln=H((function(e){return{showStart:e.showStart}}))((function(e){var t=e.showStart;return(0,Kt.jsxs)(Bn,{children:[(0,Kt.jsx)(kn,{}),t?(0,Kt.jsx)(gn,{}):null,(0,Kt.jsx)(un,{})]})})),Un=xt.div.attrs((function(e){return{style:{top:e.top,left:e.left}}}))(Rn||(Rn=Q(["\n  background-color: rgb(195, 199, 203);\n  width: ",";\n  position: absolute;\n  box-shadow: rgb(0, 0, 0) -1.5px -1.5px 0.5px inset,\n    rgba(255, 255, 255, 0.8) 2px 2px 1px inset;\n  z-index: ",";\n  padding: 3px 4px 4px 4px;\n  display: ",";\n\n  div.Notepad {\n    height: 300px;\n    background-color: rgb(255, 255, 255);\n    overflow: scroll;\n    box-shadow: rgba(0, 0, 0, 0.8) 1.5px 1.5px 0 inset;\n    border-right: 2px solid rgb(240, 240, 240);\n    border-bottom: 2px solid rgb(240, 240, 240);\n    box-sizing: border-box;\n    padding: 3px 0 0 4px;\n    font-size: 13px;\n  }\n\n  div.MediaPlayer {\n    height: 200px;\n    background-color: rgb(255, 255, 255);\n    overflow: scroll;\n    box-shadow: rgba(0, 0, 0, 0.8) 1.5px 1.5px 0 inset;\n    border-right: 2px solid rgb(240, 240, 240);\n    border-bottom: 2px solid rgb(240, 240, 240);\n    box-sizing: border-box;\n    padding: 3px 0 0 4px;\n    font-size: 13px;\n  }\n"])),(function(e){return e.width+"px"}),(function(e){return e.blurred?"-1":"8"}),(function(e){return e.isMinimized?"none":"initial"})),Nn=xt.div(Pn||(Pn=Q(["\n  background-color: ",";\n  color: ",";\n  font-weight: bold;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  padding: 1px 2px;\n  span {\n    padding-left: 4px;\n    font-size: 11px;\n    flex: 5;\n  }\n"])),(function(e){return e.blurred?"rgb(0, 0, 0, 0.4)":"rgb(0, 0, 127)"}),(function(e){return e.blurred?"rgb(200, 200, 200)":"rgb(255, 255, 255)"})),On=xt.div(In||(In=Q(["\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  width: 60px;\n  button {\n    text-align: center;\n    margin-left: 2px;\n    background-color: rgb(195, 199, 203);\n    border: none;\n    box-shadow: rgb(0, 0, 0) -1px -1px 1px inset,\n      rgba(255, 255, 255, 0.8) 2px 2px 0 inset;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    padding: 2px;\n  }\n  .clickable:active {\n    box-shadow: rgb(0, 0, 0) 1px 1px 1px inset,\n      rgba(255, 255, 255, 0.8) -1px -1px 0 inset;\n    padding: 2.5px 1.5px 1.5px 2.5px;\n  }\n  button img {\n    width: 13px;\n  }\n"]))),Fn=xt.div(Dn||(Dn=Q(["\n  display: flex;\n  flex-direction: row;\n  width: 25%;\n  justify-content: space-between;\n  span {\n    padding: 5px 8px;\n    margin: 2px 0;\n  }\n  span:hover {\n    background-color: rgb(0, 0, 127);\n    color: rgb(255, 255, 255);\n  }\n"])));var zn,Gn=function(e){var n=e.children,r=e.id,i=e.img,a=e.title,A=e.blurred,o=e.showMenu,s=e.width,l=e.onMinimize,u=e.onExit,c=e.isMinimized,f=e.initialX,d=e.initialY,h=m((0,t.useState)({x:f,y:Math.round(100*Math.random())+d}),2),p=h[0],v=h[1],g=m((0,t.useState)({x:p.x,y:p.y}),2),y=g[0],b=g[1];function x(e){window.onmousemove=function(t){return function(e,t){var n=t.x-e.clientX,r=t.y-e.clientY;b({x:e.clientX,y:e.clientY}),v({x:p.x-n,y:p.y-r})}(t,{x:e.clientX,y:e.clientY})},window.onmouseup=_}function _(){window.onmousemove=null,window.onmouseup=null}(0,t.useEffect)((function(){var e=document.querySelector("#"+r+" .title");return e.addEventListener("mousedown",x),function(){return e.removeEventListener("mousedown",x)}}),[y]);var w=o?(0,Kt.jsxs)(Fn,{children:[(0,Kt.jsxs)("span",{children:[(0,Kt.jsx)("u",{children:"F"}),"ile"]}),(0,Kt.jsxs)("span",{children:[(0,Kt.jsx)("u",{children:"E"}),"dit"]}),(0,Kt.jsxs)("span",{children:[(0,Kt.jsx)("u",{children:"S"}),"earch"]}),(0,Kt.jsxs)("span",{children:[(0,Kt.jsx)("u",{children:"H"}),"elp"]})]}):null;return(0,Kt.jsxs)(Un,{left:p.x,top:p.y,id:r,width:s,isMinimized:c,blurred:A,children:[(0,Kt.jsxs)(Nn,{blurred:A,children:[(0,Kt.jsx)("img",{src:i,alt:"Window",draggable:"false"}),(0,Kt.jsx)("span",{className:"title",children:a}),(0,Kt.jsxs)(On,{children:[(0,Kt.jsx)("button",{className:"clickable",onClick:function(){return l()},children:(0,Kt.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAWCAYAAADeiIy1AAABS2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDAgNzkuMTYwNDUxLCAyMDE3LzA1LzA2LTAxOjA4OjIxICAgICAgICAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+LUNEtwAAAChJREFUSIljYBgFo2AUjIJRMAoGHjDikftPRbMYmEg0jGww/CwafgAAb0IBCHzNXHUAAAAASUVORK5CYII=",draggable:"false",alt:"Minimize"})}),(0,Kt.jsx)("button",{children:(0,Kt.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAWCAYAAADeiIy1AAAAcUlEQVRIiWNgGG6AEV2gravvPzUMriwtZGRgYGBgZIRYwUQNQ4kBtLToPxTT3CIUwIJLorK0kCwD27v7sYoPvI+QAEbKJACwptphkepGLRq1aKRYhLNkQCqzqFI/0c1HGOXY//9wD1DFJ4zQKpZuPgIATsQQy3tD6vAAAAAASUVORK5CYII=",draggable:"false",alt:"Maximize"})}),(0,Kt.jsx)("button",{className:"clickable",onClick:function(){return u()},children:(0,Kt.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAWCAYAAADeiIy1AAAAb0lEQVRIie2UzQ6AMAiDqfH9X7kezMzAsB8PWpP1BjQL3xgzW1IXGjW6gGx5DQBjqg62ub6eK+2SPBuMnUayrA74o3WILuN9BtEfSV39NaJ91Fjd/dRrLNIjymZU8j0yHaLRPeqRfb9H9te/bklfB0wsMSFZkH5UAAAAAElFTkSuQmCC",draggable:"false",alt:"Close"})})]})]}),w,n]})},Hn=xt.div(zn||(zn=Q(["\n  padding: 15px;\n  .images img {\n    width: 80px;\n    height: 90px;\n  }\n  .container {\n    display: flex;\n    .text {\n      padding-left: 15px;\n      flex: 2;\n      line-height: 18px;\n      a {\n        text-decoration: underline;\n        color: rgb(0, 0, 127);\n      }\n      h1 {\n        font-size: 15px;\n        margin: 0;\n      }\n    }\n  }\n  .button-container {\n    padding-top: 15px;\n    text-align: right;\n  }\n"])));var Vn=H((function(e){return{about:e.about}}),(function(e){return{onAboutBlur:function(){return e({type:Rt})},onAboutFocus:function(){return e({type:kt})},onAboutMinimize:function(){return e({type:It})},onAboutExit:function(){return e({type:Lt})}}}))((function(e){var n=e.about,r=e.onAboutFocus,i=e.onAboutBlur,a=e.onAboutMinimize,A=e.onAboutExit;function o(e){document.querySelector("#About").contains(e.target)||document.querySelector("#about-button").contains(e.target)?r():i()}return(0,t.useEffect)((function(){return window.addEventListener("click",o),function(){return window.removeEventListener("click",o)}}),[]),n.show?(0,Kt.jsx)(Gn,{id:"About",x:"140",y:"100",width:"400",height:"285",img:Mn,title:"About Windows",blurred:n.blurred,showMenu:!1,onMinimize:a,onExit:A,isMinimized:n.minimized,initialX:500,initialY:120,children:(0,Kt.jsxs)(Hn,{children:[(0,Kt.jsx)("div",{className:"container",children:(0,Kt.jsx)("div",{className:"images",children:(0,Kt.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAgAElEQVR4nO2deZQkRbX/v9U9+zAz3U13V3VmxF0isuBBo6KNiAviirKIIJsLD1R2d1xQ9LmBK08FAXF7/lxZ9agsggwgT1lk1aMiyKI8QRZZZ2G2rqqM3x+Z1V1dXVXd0zMDMs49J0+dUxEZGXk/GRH3RtyMBLZINxE5sfZNYugLjugiT3qzZ7nbi/7TE6/0xBVHnDqW1BNXPOlKL/JPz3K3Z75ZiS4Uos+LtQdTkRyArqf7pp4p0m2M6dM4PlAtXeZZ1pZFQyIaPMtGORLRUFYXPPNasfYSiuh1SZIsxhZImRSLxYVi7euV+McJy2MJbzzlTxtS9vuwI/4REb0SwOynWy9PtRQ4jvcS4lsT0XVPNYBptKI1avkaGhoamfYdlUqlASLq3YRK2+jCzNsBgCO+eGN2Q5sQTPAsq5ylzw0PD89peVPWWq9EF5ZZK1EUvbjD/f/L9IlKdKhnvSsRXQMAaunCp1vZ63mskYGBUsub8yzX1em1AiIi89Taz24j+n+bVs2dxTm3RKz9RiKaNnYFwDMSyOr2QCz/1hPf6iy/HUBjMyqIoU94lrV5IfdsqFKjKFqgcfycTnmstTt4S9+Xnp4eAF1seE/Pcl0jiI0BRFkCiQbXJn3RwVtVF7x1fm3+4fOq8w+fV11w2PzaVm/cqtq795Lq4EsGanaHqOaU08RoSGgjAomiaAGAQouk7qZ+uSMQHhraTg0d2Spt2223jZyhK8vq1jmiU1vloYhe7Vnu8Sw1z7Jcenp6NKYDOo0N0wWioiESDYml2r7FUu3Li5dULp83r3rPrO7qrnE8CbRjCfgoUnwSoe3xKYTCpxC6PtaVLjhsfjUaKVWTeNrjWHsgHWQMSMLyqCN6X3MGEemROD7asTyYiAa1fHo9LenrWyzWvtUz/6NRqUJ0yhgEol6x9jjPsqypwsulp6eHjdm/0421A6L58YLYpMf3bV377dy51XWFQhqAUD/S/PdlUTQzIC0A4USk84+YW0nslGBmBsSzrJaYDksSzG1OdETf8CyrJyhiHMisRPSJVpWpA1Gir3qWNW0qvN5AHEuwLOFVpah27sKFtYe6u9M0V3y7Y6MCqR//hVpiNg2QjuJYb5rUNYwDmd0MqwlIwVm+vkOFpwSSsFaU6DIAeHZsL/j6okXVCpCGKSA8o4AETG4J0wGSecP6iJI5ZCogau3pGwhklRB9gZYs6bXWRgEopPO6fzNdCM8IIDXguAA8UQE6+SGTgCSiwRFfq8Y8G0B3Q/IkIGV1wbGc3ZNZT22B5FMddxeLxYV1IPkYtFasPXhkZGT20NDQdp7otkR0VQAK1fmbEZAUuKE+0LUCEoCuCvCyKnB1w98FjenAYrG4sA2v2Z5ldT6nc4+zcmxT+iQgieg6T/JLKpWG65kojg/wxH9Sa3fv7+9fpGyOcMSPjRkboms2OyBV4LoUSGvAjwLQ05hWAV6cAnfmwNbHD5nrmH+St5wJJvVDwMImIKuE6NO+6AcB4GZgdhU4/BFg0TAwh4tFVUvntuoCN0sgo8COoYUfEoDuMLHyHYEEYP5KYLtWaXcBc6vAfjVgWQ04HUBBLf1SYzqg4fyeKnBmfs3lAejROD5oKj9kswPSQcGNQNIU+FkboCMpcH4KrKsCZzSmrQXKVeD/pcDaugJqwJgfEoBC3gqvyK9Rv97yAEzL7P23A1IFrgjA1s3p64BDUuDhkCsyV/bp+bldAfhbmKjkCUDWAfvXgCfaKGsLkBZACgEotktPgZvDZGXXgcxOgdWtFFADTglAIQVu6KCsaQEpi/5hswVyFTArAIunCywFbmoGUgFOWg8g188ESGZqy2VEtD2yh2bzAhKAqAr8PEVrs7ch34QFlTqQAKysAZ97AFjQkHcSkDzvsiqwXycgObTlTzQBKYuuU6LvvwyYRUS9nvmnZfWbX5dVzRWTP+EvaQFi7jrg0ylwZ8N/hQrwxQrw4tBi4aoRSN6KLm8suxWQHMR9o8C7Qg6XYjooYX1Erf1AFEULxNqDPcutyeY8hlSAGwOwbBR4958bWkGu9BMCsCav/LT9kADMDsCadcDHA7CoscxVwFAjkBzEn0eB5wag+0mgVAHOD0Bvvsy5UIm+mYj+e/ghzc5gw//T9kOuAmaNAruMAm+vK76pLKoBX06BahU4LQCFKnB1FTh3NWADMLsCvKIG3NLoh1BEr9vihzQByY/RCvCJ5jwPAAtqwIcCcF+jlVWXdcD+AfhDaFBA3ewNwLwAzKsAH0mBB8JEZW0yszc0HS9vAcSzhAWHLkgXvG3+pGP+EfOqs98zu1b4aKGGExHw6acQSAqsrQCfbZXe4FW3M3ufDC2UUQdSAb5SV8r6WFkzAVIBwoqurnDLnDnVU5YsqR4wWKzsaGxNs+jEqZQ3+bqkITEavJHUbhfXel63pNr9we5a4VOFgI9vwvWQ+4D57dLSFmbvevohMzJ7m4D8vR2Qh7q6amcvXFg9ZHCwtoOllFgDd1hD39AjsRocc1p6frHqacr80wYya7qwGoHkv+kocNQ0gJy6oX6IWv57nAVLdNWBBCA8WSikX1jSU93B2FTysWBTKH8jHB2DHPolphM8y6ooiiaZvQ0yYaBOgZtTYDQFrq4Ar24cyNsAqVWB/10JbD8NP+RPAVjYCCQRHVWii6VUEhHpUWPenbA+AgDn9C2+4sVRXIufAcFyUwLxxNcm3D4uC0DBGd4/Ybm2QeGFKvD6AAy0KrMOJG85KyvAh1c25G3nh6TAJbn52wUAGtOBnmWNM/TJKIr6iWh7Z+0lichoDmkNAJClCza20kZ2NLXXvGqodtD+peohby7W3nxwsfb6vYdqL3lhXBvellKOJZiSBrUbGYgjvrasbnVi7Vn9/f2LGtO0VNrZsyzLV/HWxw+ZUwNuC8AuzXBFZF4TkDU14Iy6p2+Mma+Gj0j6+hYPDAxsNTw8PEes3dcxP95sAq9fXBYHzzZ4NkHJp2x2rMXFvWtq/2NS3oQlrFuHNASETseaNahdc/Xc6nHv2br6rO1syrEEN/X40RkIDdHIyMhIq+js9YrLKpVKAxxFL2qTPEeJDk1YbldrT89b2E9GgbfdA8zLQSSO+Ts+W4haIT09PWLMbp5lVbsb6wzEBs82ULxLrb/vA7WFCy6ozZr1t9r4SkAWFWSjXVuavU8+iTRNEdbneOyxrvSsHy2scrwBQDpId8NSaVCiX7bKlJRKw2r5+oS14pkn+CGlUmnAW/p5WbQe/TgWBlQfc7SkO3vi23wWIFev8AzjsigkUgxRcd/qvLm/qRYKq9JM8e2OjQskTbNWY4Y2UVxWIpoqyS+jKKLmRLHyNs/ycNJwoYYwoG7HcnsrL7sORKx9kyd+pE2F1xOIvcAM7Z4umH9RFaiG8RYw1bGJgJQ2DZCCDim3S/SsNzdfaP3isuSGDhWeHhDW1QgozF306FXTA/CMAxJaxfi2lOZAuYS1osyfmQaQU7GBgXKJ6Aq29u0AuhFQmL1ozW+m3yqeEUBGnwukPwUqL1xfII7lHrX8wSiK+huSJwMRCZ7lbiV69TSA/LOvr2/xBD+EJXjim8XKa7bt71+khj/kWR8ANjsg1SvHXYFKGyspzAdGGwfsglo+SUoiaP0izxiQsrjgrCwdyCpQb4EtgTiWxySKDq6/XcTG7F9WF5T4CmttNDg4WHTEVySijX7IZgfkmrxyfwHWuiYQvUDttNxvm7YfAmBOWfRvau1HMemFx9DVBKSasFwvxuw2nr5uB+CuuVQkp4ODRY7jvTzLHW38kM0OyFuBtX7y+BG6gXRtQ+WnAWRFvdsqYFLLWRUB1bOAyskZELnREX2XmXX8eqOHAundQLoSWNZrh+yuCctjbQf1zRNIOwndE28y3NYm3wJg9F1AWAnUTm9Kmw2s2RWo3je+BFE7pSnPIqDyGaDW6DMsB8J0zd5/OyD3AuvePDl91QhQ/TkQRus3Nw4kFIDaF4F0RRPUBiCjzwHSi7LQrUnK2gKkBZAuYO3ueZ/fQtKbWyi7DmQ2kK5upYAMSCgA1Rs7KGtaQMrqNncgYdrrIUB602Qgla9MH0h6/UyA5AP7g0KSvWK3efoh1QOAcCtQmfb7IeNAQgCqVwGVl2YgOgJJgcoJ0wCyCljW27QeEjzxn9XaXQF0DQwMlJyl726GQKo3jCu2FZBQANZtD1SvbTrvWqDyaeCeeS3OaQASAhCeBCpfnFhmKyBhFKheDIRBAKCYDiirq3jLVw0ODhYBzJI43sUR3Z1km8hsjl1W9bp8YL4ICE0LTqM7A6HeEu5pU0ALCbOBsBpIrwOqe040qR9ZNBlI7XGg9ilgeR9w11ygeiDw0EIXRSQipSiK+tXaEx3xBBN4UwJZvfppAzK6c+aJT1Jqs9k7DSDLyw3nNsV7rX0tUHsodzQLQHojkD4GhL1ygPOAypfzlrUCWNbL/f1DztKN2dT+xrCyGiOA0rS76+9VMjtNBiIS3njgYO0Nry9W99unWH3jgYPVow7vr37y472Vs3+0sPK7W2ZXV64s1NJ0fLHqKfZDQgqkV7bJlwDV72StrNkPWW2A2skYf2MhH9RRANZI3h0+KzefJw3qFMcHbAyzt6vr0XTunOurvUs+X42HXlNz5NJEiiGReCrFtTzESDBFDXZIwvOebWvvPLa/+ouL5tfuv787Xbt2k62H1IFUf5sprVnWHQTU/pLDqiv79PFz0+uAUGttZQFA9fVAemcbRW6AHxICMJrOn/vr6uDWx1Y5fm7NM4WETciWcdcfwPQgaRAjYccdbDqNZdwZASkAT0j79A31Q9IbOnQv6wlk7W8KhXXpvLm/rsal3auJDIaEaZMpfyMcG3/jALT2Q05aDyAz8kPqh2P5PRuzBwAMRW+/1JGk2Tr6067sDQdSLBbVEd04RVxWOyApUP06sHJw3JpqBSQEIFSzrm46fshkIGV1wRFfEcfx1gDgrLwN2My2Z3LEF+U2fbu4LMRxbBzzVyb+Wz07dyhbTK1M8EOqQLgRqLysIb0FkBCA9GGgdiLw8FZAth7iRUMislwtn1EsFhcm1nol+WYeS7b57ZfliK9JRENCcm+pVJLGtIGBga0c8Y89S9Wv135ZYQ5QexSonVB38prSG4CEAKR3AdV9gDAXADSKthWReRRFr9KY/tMYM1+s7JuI/tGzjJmpMwVSfwA9c+qYH3As1zvmHynRyUL0YbX8TrH2WE/0bkd0glr7ZU9yriO5wbE84Fmq42VsZCBi7XFNy6916c62Px0rZCogXR12dij4YnHQEV0k1p45DqRyE7A2AYARYLZGdndPfH8iukJ6enqSJJmrlj9bXyFsodhpA0lE1yjxX5Xo5HwTte42dZ2uFMyAScTa4/KHeoWfGMo0MyAdpClQTv/UKlPSlywWovd6lr875q81puWvoR3jmf9a3651fL+ssBgAho3pE6JPe5bHG7Z0XS49PT2UhZJ2VDLQGkgenvSgs3yGxPEuWI9A8plKvGjR1t7wfo7oJ57liQ4taOZAnKUnmXnPlzXdUKlUEke0tHFb1oYwoIJavrTcYsvWOpD+/v7IE/+qrK7V078hG5ilauncPJZsQ1vBhkh3UioNqLX/7VhGm+DMCEgXEb2uXaJn+V2zgtZzv6xJcV0zBkJ8UcJyvxrzLjwFLWEmwkND2znmsz3Lct9pV9KZyuS4LAme9SnZwCx/2p4Qa98KjO3f+y8JolmiKFrgYto73+Rz40kdSMJaccy/Z+bGmK6WQBLRtWLtcZgSiK6kJUt6m4Hk+3M9aK196Ua9madABgYGturrSxYnSTI333h044ojuVAMHd/GQhsDUt+QTA0dmSRJfce61kBERx3zOUQ0DOR+CEtIRIKzfInE8Y4b/UaeIonjeGtjzLPF0uckjo/eFNfoFHY6ext1q9Xypcw81OrcRiAJ61ox9OHmJ0djOlANfeuZtgV6GynkRzeeBmOjC52/CFBwVm70zLc6w294qiq1RTpIEsfm6a7DFtkiW2SLbJH1li4tmZ3FmNeKMa9lY/bQLMRmShkeHp5TP0+t3d0ODe3U5oXRLbKeMkuNOSQRDQlLcMQ3YRqmmMR0dO4lVzmOXzidc7bINIWWUK/PXjlO88Wp53XKH8fx1o5krSOqepZVg4ODRTV0lLN8trd8jpKcp7H9r8bvLG3bv+0isfR1R3y3WL7KGbqWjXmLtdaLpRs8ybne8jnO0I+d5bPF0BfE2rcaYxK0eBFoZGRkthpzpFh7q1q6zBHdrpbOF5FJ0xCut3eJY/6OWrpJjb1KiL6og1pUaz9rjJkQ9jQwMFBSYy9VKzcq0dXO8h08xPsjf+Bcb+8SF9MJ3tK53vI5auk8JT1PSc/zpOc54h97kvPzr7NB4vh9EtvjOI7fL3F8nEbm3RKZ9zhb/4/ep8Ychcbpnr6+vsWO+J/O8lk+ayW3o8N8kGM+Q4l+6IkfSViezN+IAsfxK3zWai5tyD7LsZztWX7XbN46Y56ViC5zhr+jRN9KRAMbsx+AQtLXt1it/WgiWvPE30JDCxRjXuBZlnEcv6KxPDNgkkT0CSE6of5fFEXWiz6u0YTJ0VmO+SuOZUXDjAGctWd51iua7n2WY/5KInp73FB/iemErL58eGMdhocHtkpE7+Qoet7IyMhsR3w1LVnSC2C+iJSypWe50xgzP4qiBRpF2yrx7yYMFX19fYudpcejaJv+RHRZIhqkGDfvvAAA8FFkE3GPi0iPZ1nWCESt3TWbpuezxm6S6JqENTjnlrQqz8XxNmLoF2roq4loEGNeOyGd+IqyaNAo2gcAXLH4rLK6Sn0ysVk4ip5bFk3FmOMBwLGcmYjeixZdqhBdKSLzAECJbkhYR1vlA9DtiG/2zPeNvWJn7QcS0UAtPlxTItqejXmDMSYplUpjEaBE1FtWF5zlOxrzq7W7Syzj+s6BPJH09S1mQyfnreS+FpXr8sRXC9FH+vv7F00FhOP4FZ6lptkT3k4KbMybPbUBYvlriWiQmI4GUPDMdyfSHvAwhuc44ge86Io4jrf2JOfmywEfQ1PXJ5F9m4jMk8jum7CkasxX21WSjdkz333oa0B7IB1WStsCmSSNQIaBOYnIY4lo4Dh++YRKRfyiRPVBAN3TAeKJr05EAxFNGcHirD2zBZBux/ynRHTUGFN2xjzLZ0uj/xzpMB3jmM/Jp/ePZ+btfBYHEDzLtXGLWQFHfFN+7Ze1K5OIXG743A9gdh0IGz6iMZ9a+5k2RcwMCAC4mN7nWYJjWYbxicNZnmV5veuYDpCE9b5ENHCx/u5ge6kDcXG8VxRFC+yg9V7kNs98qzEmBgCN6dD8af8DOny6z1v+jGcJSnQ+kHVjXvThsWl7Qz82xvTV85dFH0hEQxzH27Qts1gcdMQ1z7JOh4a4DkSJlqq1XxJrT1GivzjmM9qVMWMgAAqesxugKHodAKihoxzL7fVzpgdE7i+LhvyV6Y7irD3TswQ15pti6XOeta7QsZlkNeaQvDu9FR2AqLUn5kB+1PB3t1j71oYXR6ti6HgAhToQHuKWHxAAJgBZbYyJx4BkLaQLQBczq7T50BmwYUDgmPfP/ZJ1ALq3UVdpDA2aVpcl8ruyaLAl+/yOFcDkLkutPSNbhKLPjd1QiYY9S80RLxseRuuvYwJQoh8kLEFIJq01DA8Pz2FrP5AwVxLRYEqlnZ2lGxLRICKvbVUeAIiI5H7XPQAK40DMhC6LO7gMGwQEADzLAxkUutURXdGYNh0gYu2bsk1r6OSOFQC6WowhXZ758kQ0CNFh9YyO5S/5uNRyXWQYw3OcpXsTlkeLxeJCiujVrZZIc4Ojqpb/h2La27OkSvT9dhUUa19Tzgb1k4DxQb0ZSCeZNpDezHFa0exUSRzvkoimiWhtYGBgq8a0pK9vsSde6VlW9/f3DwHtzF6+OWFJqVTavtW1hwcGtlKib3miU5sH9eGBga08yx1ldRU7NLQTAGik25ZF16jhD7UqT+J4l7JoTWM6EACU4oMc816t8ibiHpTYHgMAQvSLsrp2Zu8sz3yLI/ljs9nLGwgk/+zThNZesEOZIq21O6Bp9U8t3StmUr9YyJ26PMLE7orMfN0z/+8qjPfxBSX+fVk0zT67lywWkXnDAwNbEdHeYvhXALqc5bPz1nB0Yx2YeciLLPMsa/NN97ulJLKN+EcppoMa5s+6JY53LKtbyTGPOYz5lhwrOY5f3mCZdbO1J3nmW0ZGxq01iel7yvzX3MsuAPlDQXS+I27sIbrE0KcyM9ie2KyzdlJ3DD3xXXnd9nTWvsMZeu/Q0BADQDdF0avYmCMkjo9hY45gY/Zs/HpxnnHsqRnG8BxjzB5q6Egbx8fYOD5GjTlShsxr1ZgjbRwfI3F8rEbR6+yg9WNgjdnZMZ/pWX7liH+lRF+VWHaMomiBRNG+HEXvyMqio4wxezS2SGvtDmLtsWzMu2wUHVz3ronoALX0fbH0XSb6gRpzRKPnndWfRoioV4zZzRF9QS19z1n+Dpvx6ZCJ+YeYiU521p6thn4ghk51xoy9ExNF0QIb2X1k7N7pSI7jvaZaWuaS2YOM+aQYc6pY+xWK6TC29gNq6BA25s35FNEWeZqlICI9Y/EDaujbnuVSz3JJ/XDWnpVPm8z1mYN1SVP62fV+ty7ZZpX01QllWTmvlRO2RaYQNmaPegCzI/njCCauaVBMh46HPvKD6GD/W2ufn4iuE6IP4xkSrPYvKZ74ytwz/7/G8aMuSvS33CF7pFM5asyzHcly19t6nmmLTFNyOzwLy2wxuCjRQXXvlqPoue3KUWtPUuLTrLX7iKFvJiRLHdFSR3y5I1mqJJex5Q+2O99a+xqN7WcS0qWe5Wdq6CiJ6TAl/mEiutSRLE1El3rWyz3LpQnzWWLoE0r06k6TekD+/XaiI5XoYjV0sTN8rSO50Vn75fq2UGzMG9TSuY5kaUK6VIl/KNYebIyZL4Y+7Ekvr6eJoU/QxJeautmYwx3JhQnJUonphCiKFjhrd/IsP1PLf3DWXqKW/1cMvdcRvcoZ+nC7+naVRe/JWgl/uVW6J1mXt5JrW6RjeHh4jmd5gGjM3+hKWO/yLMFZe4pa+1Kfv9zCcfz+DroreNXLXRzvXf/DF4uDCcuTuZn50m37t10URdEC59wSHRp6qSe+uyxu1BHf3AoMx/FeXnW1svlQ46Tk8PDwHGV+Z1ldxVl7BoDC8PDwnHoX7WI7oZ5q+YN52tr6/FqzOKIvKMnPkbkBe5TVBYnpfci7+iiKFqgx78qcSmo7uwyx9nN5K1jb7LEDKDhL9+bpq3p7eyd1Sc7wWzzr5Y3/JXlUvHI2A6qWzh+b4Ms2rmwpnuUcm/k242WJ3p9NPrqWE4BKdGQ2G6urG8JMC/kiV1BrT+pw7/UZhfPycz6ePXw04eHLvneVfWZcrH1Ny7oT3eqjyAKAI17miB9qlY/i+JVq6Jvt6oTBhYNFz7KqYdVuTJxzSxLW1BGnniWw5RObTi8kLLc0r2U0A3GWf2ajaJ/8KauxMYejhbQG4v7RCQgACNEXs3BUuR8HHtit1u6asKSJyN86zX0BgCe5N2EJPGTeICLz8qn2J9FknCjxac2zEWN1LJUGci98dlZnXeNZavGieNK3H5O+ZLEj+nSnOkEt/Sbvlu5Gg9PERCerodPUUj3K/T40eKdE9OKy6O1ocrRaATHF4rPytYWqF03L7PafpJyZAhHpGbMIjdkvN8ODM6btDOz4vdsvZd0rrQQAR/wrzxI4e89kTDjOWpxnWdX8Xoez9A2Jon0b7uNhzxLKoqlauzuaPPqBqd4LUWt3rwc6UJHGNsH0oqNRFPVTFL04r0zqInpVPT0RvUCbKg60BwJknnvexVQav4Ob38iMgIwAs12+Q7YS/cCxPJQpld/S8caRmf+58gKAAhENJ6LBMf+tIdscR/wntXxpNu9GHxmrX/YR5nsaZxhEpCdhuX8sop/kznrMwFT1qUshYb0vH4jPAYChoaHtHPHjAJAkyVzHsiJbt+CrAMAZUy6zPtr8NQWgMxAAYObnJqLBi9TqL/4DMwcCoNsT3ZkvYl3qszeUglq7z1Q3boeGdkpEQ1ldADAXWXDG456lJiI75vV9niO+vD6J6ln+jnxi0Fl+R76+0iyzXGyPbXyNLVG3ggy9d6o6AQA0X21LRIMxZr4QX6lEh9bTnbXvz/vpJ733g47kFLF8ZquypgICZIObZ6klous0il4NzBzI8PDwHE+8POum6NT8teXgLLc1IOoixuyWsNSBZP9Ze0y2rkIX5PU/wzPvNzIyMtsT31Vf4QRQ8Cy3yoB06oK61PJHfQY55EbDbzBVPFtvb++SJP8shBIdWhZXbTwpKZUGfP5+uBJ91RE/Ye34JGKjTAcIALDhPfLua40Ys5tjOWsmQOI43joRDZ6kJnG8o2O+OK/n9zreNADOHzSfBXcAyIyZvAtfTkS9SnwP8kFeLX88U6xeQXH8SiX+dnOZpmFSsi4iMk+sfaNnGU1Y6sEbncURX5NfLKilyyelM/9knLIsbVfOdIFkN2j3SVhrnmW1Et82EyDO0tfzOv06L/OlCWtIWB4eblrPmXR94tuyFUSzc5MufuxZghj7U8dZNw5kQQ+OpeqIa474HyLyH81lMvF1ba8Xx//pszX5H3aqV1YQ84uybkRCFEWTLiRxvGN9cG9ce2iWVkDiwcHntK2koUPqoJsiVcbWvdsBqS8YJaK/RzYGAEDBEZ2Sh++0DT4QQx9JMkvoY81p1tod6ma6HbI7NaZ5zqecSC5Di4E6Ybey1ec9AEBjOigRDfWFtCklEXnMkaxF2/3c+e6E5bZWFRmrsMhf8r7yiwDgmK+XKQYziuPDyuomAOFiURPRddkNxAf29/cPxYvire3goFdj3p2ILktUU8mu09wnF9iYd5VFU0d8RdO6xVwluigRTY0xL2hTpdnOyr0Jy93NCUp0UD8ud30AAADMSURBVFlcECO7tbx/lhVldaNq6KjG/13JPj/rCehCNebZAwMDpcGpgtzFmOMbQzKbhY15s7Zx7GwcHyOWTtHYfo2tPV2sPVMMfV4NnSbWfl2M+aQZGGi7IKNE7xaRXQDMI2OOZ0OnsbWn52V9XQ19W439H7X8NbX8QY64YywykMUAqDEfSliuc0R3Oit3eNZr8vX6jjPTSnSIGJr0ddNisbhQLV/a7nw1dPLixYv7hOgwR3SxWvpjInqHWrqAiEYAFMSYF1BMR6u1X/r/Ezpu2+a7UnwAAAAASUVORK5CYII=",alt:"Windows",draggable:"false"})})}),(0,Kt.jsx)("div",{className:"button-container",children:(0,Kt.jsx)(wn,{pad:"35",clicked:A,children:"OK"})})]})}):null}));var Wn,jn=H((function(e){return{notepad:e.notepad}}),(function(e){return{onNotepadBlur:function(){return e(Gt())},onNotepadFocus:function(){return e(zt())},onNotepadMinimize:function(){return e(Ht())},onNotepadExit:function(){return e(Vt())}}}))((function(e){var n=e.notepad,r=e.onNotepadFocus,i=e.onNotepadBlur,a=e.onNotepadMinimize,A=e.onNotepadExit,o=e.object,s=t.createRef();function l(e){document.querySelector("#Notepad").contains(e.target)||document.querySelector("#notepad-button").contains(e.target)?r():i()}return(0,t.useEffect)((function(){return window.addEventListener("click",l),s.current&&s.current.focus(),function(){return window.removeEventListener("click",l)}}),[]),n.show?(0,Kt.jsx)(Gn,{id:"Notepad",initialX:.65*window.innerWidth,initialY:90,width:"450",height:"400",img:En,title:"Untitled - Notepad",blurred:n.blurred,showMenu:!0,onMinimize:a,onExit:A,isMinimized:n.minimized,children:o&&(0,Kt.jsx)("div",{className:"Notepad",contentEditable:"false",ref:s,children:o.description})}):null})),Qn=n.p+"static/media/shutdown.d5ae14ece8b16f64af7d.png",Xn=xt.div(Wn||(Wn=Q(["\n  position: absolute;\n  left: 0;\n  top: 0;\n  height: 100vh;\n  width: 100vw;\n  background-color: rgb(0, 0, 0);\n  z-index: 500;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n\n  img {\n    width: 650px;\n  }\n\n  @media (min-width: 600px) {\n    \n  }\n"])));var Jn,Kn,Yn,qn,Zn,$n=function(){return(0,Kt.jsx)(Xn,{children:(0,Kt.jsx)("img",{src:Qn,alt:"Shutdown",draggable:"false"})})},er=xt.div(Jn||(Jn=Q(["\n  position: absolute;\n  height: 100vh;\n  width: 100vw;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  z-index: 1000;\n"]))),tr=xt(Un)(Kn||(Kn=Q(["\n  margin-top: -10vh;\n  padding-bottom: 15px;\n"]))),nr=xt(Nn)(Yn||(Yn=Q(["\n  animation: backColor 0.15s;\n  animation-iteration-count: 5;\n\n  @keyframes backColor {\n    0% {\n      background-color: rgb(0, 0, 127);\n      color: rgb(255, 255, 255);\n    }\n    50% {\n      background-color: rgba(0, 0, 0, 0.4);\n      color: rgb(200, 200, 200);\n    }\n  }\n"]))),rr=xt.div(qn||(qn=Q(["\n  padding: 10px;\n  display: flex;\n  justify-content: space-between;\n\n  img {\n    width: 40px;\n    height: 40px;\n  }\n\n  span {\n    padding-left: 15px;\n    text-align: left;\n    flex: 2;\n    line-height: 15px;\n  }\n"]))),ir=xt.div(Zn||(Zn=Q(["\n  text-align: center;\n"])));var ar,Ar,or=H(null,(function(e){return{onModalExit:function(){return e({type:Ut})}}}))((function(e){var t=e.onModalExit;return(0,Kt.jsx)(er,{children:(0,Kt.jsxs)(tr,{width:"400",children:[(0,Kt.jsxs)(nr,{blurred:!1,className:"title",children:[(0,Kt.jsx)("span",{children:"Warning"}),(0,Kt.jsx)(On,{children:(0,Kt.jsx)("button",{children:(0,Kt.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAWCAYAAADeiIy1AAAAPUlEQVRIiWNgGAVDFrRN6fiPjKmtnv4WEWsAxRbQ3SJcBlLdArpbhMtCqltAN4uGTxwNn3w0fMu6UTDgAABMVRF4PodKuAAAAABJRU5ErkJggg==",draggable:"false",alt:"Close"})})})]}),(0,Kt.jsxs)(rr,{children:[(0,Kt.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAFVBMVEUAAACAgAD//wDAwMAAAACAgID////uPuK0AAAAAXRSTlMAQObYZgAAAAFiS0dEBmFmuH0AAAAHdElNRQfiBhoAKi/jBqMDAAAApUlEQVQoz12PwRHDIAwE4ZECwriBCCrIUEDiyH9/6L+VcMIgyfdjZ27FhSCJz+CT8se9I1E9b6A01yDKx+kBWdAbXdJuwErQcJJEld9G0hvMu5FcQCVpAJVcYElwVMCUAGwAU4Jf4OySABSmNUf+/frqHAH5p3NkCO06Z4ARAGlQxpUhGaDwPiXJAkiSrdACy9o8yB1EC2rr1o01B0BoNvjqw4LwB7hqPlTe+r15AAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE4LTA2LTI2VDAwOjQyOjQ3LTA0OjAwdbFsfgAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxOC0wNi0yNlQwMDo0Mjo0Ny0wNDowMATs1MIAAAAASUVORK5CYII=",alt:"Warning"}),(0,Kt.jsxs)("span",{children:["Oops! ",(0,Kt.jsx)("br",{}),"Sorry this feature is not available yet. Try Notepad!"]})]}),(0,Kt.jsx)(ir,{children:(0,Kt.jsx)(wn,{clicked:t,pad:"30",children:"OK"})})]})})})),sr=n.p+"static/media/startup.82d562cd98eaa82ad3ce.mp3",lr=n.p+"static/media/retro-tv-w.cab97b1f69c0ef0a9734.png";function ur(e,t){if(null==e)return{};var n,r,i=x(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function cr(e){return cr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cr(e)}function fr(e){var t=function(e,t){if("object"!==cr(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==cr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===cr(t)?t:String(t)}function dr(e,t,n){return(t=fr(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hr(Object(n),!0).forEach((function(t){dr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,fr(r.key),r)}}function gr(e,t,n){return t&&mr(e.prototype,t),n&&mr(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function yr(e,t){return yr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},yr(e,t)}function br(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yr(e,t)}function xr(e){return xr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},xr(e)}function _r(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function wr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Er(e){var t=_r();return function(){var n,r=xr(e);if(t){var i=xr(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===cr(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return wr(e)}(this,n)}}function Mr(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=p(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,A=!0,o=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return A=e.done,e},e:function(e){o=!0,a=e},f:function(){try{A||null==n.return||n.return()}finally{if(o)throw a}}}}function Sr(e,t,n){return Sr=_r()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&yr(i,n.prototype),i},Sr.apply(null,arguments)}function Cr(e){var t="function"===typeof Map?new Map:void 0;return Cr=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Sr(e,arguments,xr(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),yr(n,e)},Cr(e)}function Tr(e,t,n,r,i,a,A){try{var o=e[a](A),s=o.value}catch(l){return void n(l)}o.done?t(s):Promise.resolve(s).then(r,i)}function kr(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function A(e){Tr(a,r,i,A,o,"next",e)}function o(e){Tr(a,r,i,A,o,"throw",e)}A(void 0)}))}}function Br(){return Br="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=xr(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Br.apply(this,arguments)}function Rr(){Rr=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",A=i.asyncIterator||"@@asyncIterator",o=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(T){s=function(e,t,n){return e[t]=n}}function l(e,t,n,i){var a=t&&t.prototype instanceof f?t:f,A=Object.create(a.prototype),o=new M(i||[]);return r(A,"_invoke",{value:x(e,n,o)}),A}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(T){return{type:"throw",arg:T}}}e.wrap=l;var c={};function f(){}function d(){}function h(){}var p={};s(p,a,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(S([])));m&&m!==t&&n.call(m,a)&&(p=m);var g=h.prototype=f.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function i(r,a,A,o){var s=u(e[r],e,a);if("throw"!==s.type){var l=s.arg,c=l.value;return c&&"object"==cr(c)&&n.call(c,"__await")?t.resolve(c.__await).then((function(e){i("next",e,A,o)}),(function(e){i("throw",e,A,o)})):t.resolve(c).then((function(e){l.value=e,A(l)}),(function(e){return i("throw",e,A,o)}))}o(s.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return C()}for(n.method=i,n.arg=a;;){var A=n.delegate;if(A){var o=_(A,n);if(o){if(o===c)continue;return o}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=u(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===c)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function _(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),c;var i=u(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,c;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,c):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,c)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function S(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:C}}function C(){return{value:void 0,done:!0}}return d.prototype=h,r(g,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:d,configurable:!0}),d.displayName=s(h,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,s(e,o,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),s(b.prototype,A,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var A=new b(l(t,n,r,i),a);return e.isGeneratorFunction(n)?A:A.next().then((function(e){return e.done?e.value:A.next()}))},y(g),s(g,o,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=S,M.prototype={constructor:M,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return A.type="throw",A.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],A=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var o=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(o&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(o){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var A=a?a.completion:{};return A.type=e,A.arg=t,a?(this.method="next",this.next=a.finallyLoc,c):this.complete(A)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),c},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),c}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),c}},e}var Pr="152",Ir={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Dr={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},Lr=0,Ur=1,Nr=2,Or=3,Fr=0,zr=1,Gr=2,Hr=3,Vr=0,Wr=1,jr=2,Qr=2,Xr=0,Jr=1,Kr=2,Yr=3,qr=4,Zr=5,$r=100,ei=101,ti=102,ni=103,ri=104,ii=200,ai=201,Ai=202,oi=203,si=204,li=205,ui=206,ci=207,fi=208,di=209,hi=210,pi=0,vi=1,mi=2,gi=3,yi=4,bi=5,xi=6,_i=7,wi=0,Ei=1,Mi=2,Si=0,Ci=1,Ti=2,ki=3,Bi=4,Ri=5,Pi=300,Ii=301,Di=302,Li=303,Ui=304,Ni=306,Oi=1e3,Fi=1001,zi=1002,Gi=1003,Hi=1004,Vi=1004,Wi=1005,ji=1005,Qi=1006,Xi=1007,Ji=1007,Ki=1008,Yi=1008,qi=1009,Zi=1010,$i=1011,ea=1012,ta=1013,na=1014,ra=1015,ia=1016,aa=1017,Aa=1018,oa=1020,sa=1021,la=1023,ua=1024,ca=1025,fa=1026,da=1027,ha=1028,pa=1029,va=1030,ma=1031,ga=1033,ya=33776,ba=33777,xa=33778,_a=33779,wa=35840,Ea=35841,Ma=35842,Sa=35843,Ca=36196,Ta=37492,ka=37496,Ba=37808,Ra=37809,Pa=37810,Ia=37811,Da=37812,La=37813,Ua=37814,Na=37815,Oa=37816,Fa=37817,za=37818,Ga=37819,Ha=37820,Va=37821,Wa=36492,ja=36283,Qa=36284,Xa=36285,Ja=36286,Ka=2200,Ya=2201,qa=2202,Za=2300,$a=2301,eA=2302,tA=2400,nA=2401,rA=2402,iA=2500,aA=2501,AA=0,oA=1,sA=2,lA=3e3,uA=3001,cA=3200,fA=3201,dA=0,hA=1,pA="",vA="srgb",mA="srgb-linear",gA="display-p3",yA=0,bA=7680,xA=7681,_A=7682,wA=7683,EA=34055,MA=34056,SA=5386,CA=512,TA=513,kA=514,BA=515,RA=516,PA=517,IA=518,DA=519,LA=35044,UA=35048,NA=35040,OA=35045,FA=35049,zA=35041,GA=35046,HA=35050,VA=35042,WA="100",jA="300 es",QA=1035,XA=function(){function e(){vr(this,e)}return gr(e,[{key:"addEventListener",value:function(e,t){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)}},{key:"hasEventListener",value:function(e,t){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)}},{key:"removeEventListener",value:function(e,t){if(void 0!==this._listeners){var n=this._listeners[e];if(void 0!==n){var r=n.indexOf(t);-1!==r&&n.splice(r,1)}}}},{key:"dispatchEvent",value:function(e){if(void 0!==this._listeners){var t=this._listeners[e.type];if(void 0!==t){e.target=this;for(var n=t.slice(0),r=0,i=n.length;r<i;r++)n[r].call(this,e);e.target=null}}}}]),e}(),JA=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],KA=1234567,YA=Math.PI/180,qA=180/Math.PI;function ZA(){var e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(JA[255&e]+JA[e>>8&255]+JA[e>>16&255]+JA[e>>24&255]+"-"+JA[255&t]+JA[t>>8&255]+"-"+JA[t>>16&15|64]+JA[t>>24&255]+"-"+JA[63&n|128]+JA[n>>8&255]+"-"+JA[n>>16&255]+JA[n>>24&255]+JA[255&r]+JA[r>>8&255]+JA[r>>16&255]+JA[r>>24&255]).toLowerCase()}function $A(e,t,n){return Math.max(t,Math.min(n,e))}function eo(e,t){return(e%t+t)%t}function to(e,t,n){return(1-n)*e+n*t}function no(e){return 0===(e&e-1)&&0!==e}function ro(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))}function io(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}function ao(e,t){switch(t.constructor){case Float32Array:return e;case Uint16Array:return e/65535;case Uint8Array:return e/255;case Int16Array:return Math.max(e/32767,-1);case Int8Array:return Math.max(e/127,-1);default:throw new Error("Invalid component type.")}}function Ao(e,t){switch(t.constructor){case Float32Array:return e;case Uint16Array:return Math.round(65535*e);case Uint8Array:return Math.round(255*e);case Int16Array:return Math.round(32767*e);case Int8Array:return Math.round(127*e);default:throw new Error("Invalid component type.")}}var oo={DEG2RAD:YA,RAD2DEG:qA,generateUUID:ZA,clamp:$A,euclideanModulo:eo,mapLinear:function(e,t,n,r,i){return r+(e-t)*(i-r)/(n-t)},inverseLerp:function(e,t,n){return e!==t?(n-e)/(t-e):0},lerp:to,damp:function(e,t,n,r){return to(e,t,1-Math.exp(-n*r))},pingpong:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return t-Math.abs(eo(e,2*t)-t)},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},seededRandom:function(e){void 0!==e&&(KA=e);var t=KA+=1831565813;return t=Math.imul(t^t>>>15,1|t),(((t^=t+Math.imul(t^t>>>7,61|t))^t>>>14)>>>0)/4294967296},degToRad:function(e){return e*YA},radToDeg:function(e){return e*qA},isPowerOfTwo:no,ceilPowerOfTwo:ro,floorPowerOfTwo:io,setQuaternionFromProperEuler:function(e,t,n,r,i){var a=Math.cos,A=Math.sin,o=a(n/2),s=A(n/2),l=a((t+r)/2),u=A((t+r)/2),c=a((t-r)/2),f=A((t-r)/2),d=a((r-t)/2),h=A((r-t)/2);switch(i){case"XYX":e.set(o*u,s*c,s*f,o*l);break;case"YZY":e.set(s*f,o*u,s*c,o*l);break;case"ZXZ":e.set(s*c,s*f,o*u,o*l);break;case"XZX":e.set(o*u,s*h,s*d,o*l);break;case"YXY":e.set(s*d,o*u,s*h,o*l);break;case"ZYZ":e.set(s*h,s*d,o*u,o*l);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}},normalize:Ao,denormalize:ao},so=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;vr(this,t),t.prototype.isVector2=!0,this.x=e,this.y=n}return gr(t,[{key:"width",get:function(){return this.x},set:function(e){this.x=e}},{key:"height",get:function(){return this.y},set:function(e){this.y=e}},{key:"set",value:function(e,t){return this.x=e,this.y=t,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this}},{key:"add",value:function(e){return this.x+=e.x,this.y+=e.y,this}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}},{key:"sub",value:function(e){return this.x-=e.x,this.y-=e.y,this}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this}},{key:"divide",value:function(e){return this.x/=e.x,this.y/=e.y,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"applyMatrix3",value:function(e){var t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y}},{key:"cross",value:function(e){return this.x*e.y-this.y*e.x}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"angle",value:function(){var e=Math.atan2(-this.y,-this.x)+Math.PI;return e}},{key:"angleTo",value:function(e){var t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;var n=this.dot(e)/t;return Math.acos($A(n,-1,1))}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceToSquared(e))}},{key:"distanceToSquared",value:function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n}},{key:"manhattanDistanceTo",value:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e}},{key:"fromBufferAttribute",value:function(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}},{key:"rotateAround",value:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=this.x-e.x,a=this.y-e.y;return this.x=i*n-a*r+e.x,this.y=i*r+a*n+e.y,this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this}},{key:Symbol.iterator,value:Rr().mark((function e(){return Rr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.x;case 2:return e.next=4,this.y;case 4:case"end":return e.stop()}}),e,this)}))}]),t}(),lo=function(){function e(){vr(this,e),e.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}return gr(e,[{key:"set",value:function(e,t,n,r,i,a,A,o,s){var l=this.elements;return l[0]=e,l[1]=r,l[2]=A,l[3]=t,l[4]=i,l[5]=o,l[6]=n,l[7]=a,l[8]=s,this}},{key:"identity",value:function(){return this.set(1,0,0,0,1,0,0,0,1),this}},{key:"copy",value:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}},{key:"extractBasis",value:function(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}},{key:"setFromMatrix4",value:function(e){var t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}},{key:"multiply",value:function(e){return this.multiplyMatrices(this,e)}},{key:"premultiply",value:function(e){return this.multiplyMatrices(e,this)}},{key:"multiplyMatrices",value:function(e,t){var n=e.elements,r=t.elements,i=this.elements,a=n[0],A=n[3],o=n[6],s=n[1],l=n[4],u=n[7],c=n[2],f=n[5],d=n[8],h=r[0],p=r[3],v=r[6],m=r[1],g=r[4],y=r[7],b=r[2],x=r[5],_=r[8];return i[0]=a*h+A*m+o*b,i[3]=a*p+A*g+o*x,i[6]=a*v+A*y+o*_,i[1]=s*h+l*m+u*b,i[4]=s*p+l*g+u*x,i[7]=s*v+l*y+u*_,i[2]=c*h+f*m+d*b,i[5]=c*p+f*g+d*x,i[8]=c*v+f*y+d*_,this}},{key:"multiplyScalar",value:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}},{key:"determinant",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],A=e[5],o=e[6],s=e[7],l=e[8];return t*a*l-t*A*s-n*i*l+n*A*o+r*i*s-r*a*o}},{key:"invert",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],A=e[5],o=e[6],s=e[7],l=e[8],u=l*a-A*s,c=A*o-l*i,f=s*i-a*o,d=t*u+n*c+r*f;if(0===d)return this.set(0,0,0,0,0,0,0,0,0);var h=1/d;return e[0]=u*h,e[1]=(r*s-l*n)*h,e[2]=(A*n-r*a)*h,e[3]=c*h,e[4]=(l*t-r*o)*h,e[5]=(r*i-A*t)*h,e[6]=f*h,e[7]=(n*o-s*t)*h,e[8]=(a*t-n*i)*h,this}},{key:"transpose",value:function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}},{key:"getNormalMatrix",value:function(e){return this.setFromMatrix4(e).invert().transpose()}},{key:"transposeIntoArray",value:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}},{key:"setUvTransform",value:function(e,t,n,r,i,a,A){var o=Math.cos(i),s=Math.sin(i);return this.set(n*o,n*s,-n*(o*a+s*A)+a+e,-r*s,r*o,-r*(-s*a+o*A)+A+t,0,0,1),this}},{key:"scale",value:function(e,t){return this.premultiply(uo.makeScale(e,t)),this}},{key:"rotate",value:function(e){return this.premultiply(uo.makeRotation(-e)),this}},{key:"translate",value:function(e,t){return this.premultiply(uo.makeTranslation(e,t)),this}},{key:"makeTranslation",value:function(e,t){return this.set(1,0,e,0,1,t,0,0,1),this}},{key:"makeRotation",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,n,t,0,0,0,1),this}},{key:"makeScale",value:function(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}},{key:"equals",value:function(e){for(var t=this.elements,n=e.elements,r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<9;n++)this.elements[n]=e[n+t];return this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}},{key:"clone",value:function(){return(new this.constructor).fromArray(this.elements)}}]),e}(),uo=new lo;function co(e){for(var t=e.length-1;t>=0;--t)if(e[t]>=65535)return!0;return!1}var fo={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function ho(e,t){return new fo[e](t)}function po(e){return document.createElementNS("http://www.w3.org/1999/xhtml",e)}var vo={};function mo(e){e in vo||(vo[e]=!0,console.warn(e))}function go(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function yo(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}var bo=(new lo).fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-1e-7,1e-7,.9105199]),xo=(new lo).fromArray([1.2249401,-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1e-7,0,1.0982735]);var _o,wo=(dr(ar={},mA,(function(e){return e})),dr(ar,vA,(function(e){return e.convertSRGBToLinear()})),dr(ar,gA,(function(e){return e.convertSRGBToLinear().applyMatrix3(xo)})),ar),Eo=(dr(Ar={},mA,(function(e){return e})),dr(Ar,vA,(function(e){return e.convertLinearToSRGB()})),dr(Ar,gA,(function(e){return e.applyMatrix3(bo).convertLinearToSRGB()})),Ar),Mo={enabled:!0,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(e){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!e},get workingColorSpace(){return mA},set workingColorSpace(e){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(e,t,n){if(!1===this.enabled||t===n||!t||!n)return e;var r=wo[t],i=Eo[n];if(void 0===r||void 0===i)throw new Error('Unsupported color space conversion, "'.concat(t,'" to "').concat(n,'".'));return i(r(e))},fromWorkingColorSpace:function(e,t){return this.convert(e,this.workingColorSpace,t)},toWorkingColorSpace:function(e,t){return this.convert(e,t,this.workingColorSpace)}},So=function(){function e(){vr(this,e)}return gr(e,null,[{key:"getDataURL",value:function(e){if(/^data:/i.test(e.src))return e.src;if("undefined"===typeof HTMLCanvasElement)return e.src;var t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===_o&&(_o=po("canvas")),_o.width=e.width,_o.height=e.height;var n=_o.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=_o}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}},{key:"sRGBToLinear",value:function(e){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap){var t=po("canvas");t.width=e.width,t.height=e.height;var n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);for(var r=n.getImageData(0,0,e.width,e.height),i=r.data,a=0;a<i.length;a++)i[a]=255*go(i[a]/255);return n.putImageData(r,0,0),t}if(e.data){for(var A=e.data.slice(0),o=0;o<A.length;o++)A instanceof Uint8Array||A instanceof Uint8ClampedArray?A[o]=Math.floor(255*go(A[o]/255)):A[o]=go(A[o]);return{data:A,width:e.width,height:e.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}]),e}(),Co=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;vr(this,e),this.isSource=!0,this.uuid=ZA(),this.data=t,this.version=0}return gr(e,[{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.images[this.uuid])return e.images[this.uuid];var n={uuid:this.uuid,url:""},r=this.data;if(null!==r){var i;if(Array.isArray(r)){i=[];for(var a=0,A=r.length;a<A;a++)r[a].isDataTexture?i.push(To(r[a].image)):i.push(To(r[a]))}else i=To(r);n.url=i}return t||(e.images[this.uuid]=n),n}}]),e}();function To(e){return"undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap?So.getDataURL(e):e.data?{data:Array.from(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}var ko=0,Bo=function(e){br(n,e);var t=Er(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.DEFAULT_IMAGE,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.DEFAULT_MAPPING,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Fi,A=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Fi,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Qi,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Ki,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:la,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:qi,c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:n.DEFAULT_ANISOTROPY,f=arguments.length>9&&void 0!==arguments[9]?arguments[9]:pA;return vr(this,n),(e=t.call(this)).isTexture=!0,Object.defineProperty(wr(e),"id",{value:ko++}),e.uuid=ZA(),e.name="",e.source=new Co(r),e.mipmaps=[],e.mapping=i,e.channel=0,e.wrapS=a,e.wrapT=A,e.magFilter=o,e.minFilter=s,e.anisotropy=c,e.format=l,e.internalFormat=null,e.type=u,e.offset=new so(0,0),e.repeat=new so(1,1),e.center=new so(0,0),e.rotation=0,e.matrixAutoUpdate=!0,e.matrix=new lo,e.generateMipmaps=!0,e.premultiplyAlpha=!1,e.flipY=!0,e.unpackAlignment=4,"string"===typeof f?e.colorSpace=f:(mo("THREE.Texture: Property .encoding has been replaced by .colorSpace."),e.colorSpace=f===uA?vA:pA),e.userData={},e.version=0,e.onUpdate=null,e.isRenderTargetTexture=!1,e.needsPMREMUpdate=!1,e}return gr(n,[{key:"image",get:function(){return this.source.data},set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.source.data=e}},{key:"updateMatrix",value:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];var n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}},{key:"transformUv",value:function(e){if(this.mapping!==Pi)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Oi:e.x=e.x-Math.floor(e.x);break;case Fi:e.x=e.x<0?0:1;break;case zi:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case Oi:e.y=e.y-Math.floor(e.y);break;case Fi:e.y=e.y<0?0:1;break;case zi:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}},{key:"needsUpdate",set:function(e){!0===e&&(this.version++,this.source.needsUpdate=!0)}},{key:"encoding",get:function(){return mo("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===vA?uA:lA},set:function(e){mo("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===uA?vA:pA}}]),n}(XA);Bo.DEFAULT_IMAGE=null,Bo.DEFAULT_MAPPING=Pi,Bo.DEFAULT_ANISOTROPY=1;var Ro=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;vr(this,t),t.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}return gr(t,[{key:"width",get:function(){return this.z},set:function(e){this.z=e}},{key:"height",get:function(){return this.w},set:function(e){this.w=e}},{key:"set",value:function(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setZ",value:function(e){return this.z=e,this}},{key:"setW",value:function(e){return this.w=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z,this.w)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}},{key:"add",value:function(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}},{key:"sub",value:function(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}},{key:"applyMatrix4",value:function(e){var t=this.x,n=this.y,r=this.z,i=this.w,a=e.elements;return this.x=a[0]*t+a[4]*n+a[8]*r+a[12]*i,this.y=a[1]*t+a[5]*n+a[9]*r+a[13]*i,this.z=a[2]*t+a[6]*n+a[10]*r+a[14]*i,this.w=a[3]*t+a[7]*n+a[11]*r+a[15]*i,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"setAxisAngleFromQuaternion",value:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}},{key:"setAxisAngleFromRotationMatrix",value:function(e){var t,n,r,i,a=.01,A=.1,o=e.elements,s=o[0],l=o[4],u=o[8],c=o[1],f=o[5],d=o[9],h=o[2],p=o[6],v=o[10];if(Math.abs(l-c)<a&&Math.abs(u-h)<a&&Math.abs(d-p)<a){if(Math.abs(l+c)<A&&Math.abs(u+h)<A&&Math.abs(d+p)<A&&Math.abs(s+f+v-3)<A)return this.set(1,0,0,0),this;t=Math.PI;var m=(s+1)/2,g=(f+1)/2,y=(v+1)/2,b=(l+c)/4,x=(u+h)/4,_=(d+p)/4;return m>g&&m>y?m<a?(n=0,r=.707106781,i=.707106781):(r=b/(n=Math.sqrt(m)),i=x/n):g>y?g<a?(n=.707106781,r=0,i=.707106781):(n=b/(r=Math.sqrt(g)),i=_/r):y<a?(n=.707106781,r=.707106781,i=0):(n=x/(i=Math.sqrt(y)),r=_/i),this.set(n,r,i,t),this}var w=Math.sqrt((p-d)*(p-d)+(u-h)*(u-h)+(c-l)*(c-l));return Math.abs(w)<.001&&(w=1),this.x=(p-d)/w,this.y=(u-h)/w,this.z=(c-l)/w,this.w=Math.acos((s+f+v-1)/2),this}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}},{key:"fromBufferAttribute",value:function(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}},{key:Symbol.iterator,value:Rr().mark((function e(){return Rr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.x;case 2:return e.next=4,this.y;case 4:return e.next=6,this.z;case 6:return e.next=8,this.w;case 8:case"end":return e.stop()}}),e,this)}))}]),t}(),Po=function(e){br(n,e);var t=Er(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};vr(this,n),(e=t.call(this)).isWebGLRenderTarget=!0,e.width=r,e.height=i,e.depth=1,e.scissor=new Ro(0,0,r,i),e.scissorTest=!1,e.viewport=new Ro(0,0,r,i);var A={width:r,height:i,depth:1};return void 0!==a.encoding&&(mo("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),a.colorSpace=a.encoding===uA?vA:pA),e.texture=new Bo(A,a.mapping,a.wrapS,a.wrapT,a.magFilter,a.minFilter,a.format,a.type,a.anisotropy,a.colorSpace),e.texture.isRenderTargetTexture=!0,e.texture.flipY=!1,e.texture.generateMipmaps=void 0!==a.generateMipmaps&&a.generateMipmaps,e.texture.internalFormat=void 0!==a.internalFormat?a.internalFormat:null,e.texture.minFilter=void 0!==a.minFilter?a.minFilter:Qi,e.depthBuffer=void 0===a.depthBuffer||a.depthBuffer,e.stencilBuffer=void 0!==a.stencilBuffer&&a.stencilBuffer,e.depthTexture=void 0!==a.depthTexture?a.depthTexture:null,e.samples=void 0!==a.samples?a.samples:0,e}return gr(n,[{key:"setSize",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;this.width===e&&this.height===t&&this.depth===n||(this.width=e,this.height=t,this.depth=n,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=n,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;var t=Object.assign({},e.texture.image);return this.texture.source=new Co(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),n}(XA),Io=function(e){br(n,e);var t=Er(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,A=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return vr(this,n),(e=t.call(this,null)).isDataArrayTexture=!0,e.image={data:r,width:i,height:a,depth:A},e.magFilter=Gi,e.minFilter=Gi,e.wrapR=Fi,e.generateMipmaps=!1,e.flipY=!1,e.unpackAlignment=1,e}return gr(n)}(Bo),Do=function(e){br(n,e);var t=Er(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return vr(this,n),(e=t.call(this,r,i)).isWebGLArrayRenderTarget=!0,e.depth=a,e.texture=new Io(null,r,i,a),e.texture.isRenderTargetTexture=!0,e}return gr(n)}(Po),Lo=function(e){br(n,e);var t=Er(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,A=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return vr(this,n),(e=t.call(this,null)).isData3DTexture=!0,e.image={data:r,width:i,height:a,depth:A},e.magFilter=Gi,e.minFilter=Gi,e.wrapR=Fi,e.generateMipmaps=!1,e.flipY=!1,e.unpackAlignment=1,e}return gr(n)}(Bo),Uo=function(e){br(n,e);var t=Er(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return vr(this,n),(e=t.call(this,r,i)).isWebGL3DRenderTarget=!0,e.depth=a,e.texture=new Lo(null,r,i,a),e.texture.isRenderTargetTexture=!0,e}return gr(n)}(Po),No=function(e){br(n,e);var t=Er(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,A=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};vr(this,n),(e=t.call(this,r,i,A)).isWebGLMultipleRenderTargets=!0;var o=e.texture;e.texture=[];for(var s=0;s<a;s++)e.texture[s]=o.clone(),e.texture[s].isRenderTargetTexture=!0;return e}return gr(n,[{key:"setSize",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(var r=0,i=this.texture.length;r<i;r++)this.texture[r].image.width=e,this.texture[r].image.height=t,this.texture[r].image.depth=n;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}},{key:"copy",value:function(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(var t=0,n=e.texture.length;t<n;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}]),n}(Po),Oo=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;vr(this,t),this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}return gr(t,[{key:"x",get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},{key:"w",get:function(){return this._w},set:function(e){this._w=e,this._onChangeCallback()}},{key:"set",value:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._w)}},{key:"copy",value:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}},{key:"setFromEuler",value:function(e,t){var n=e._x,r=e._y,i=e._z,a=e._order,A=Math.cos,o=Math.sin,s=A(n/2),l=A(r/2),u=A(i/2),c=o(n/2),f=o(r/2),d=o(i/2);switch(a){case"XYZ":this._x=c*l*u+s*f*d,this._y=s*f*u-c*l*d,this._z=s*l*d+c*f*u,this._w=s*l*u-c*f*d;break;case"YXZ":this._x=c*l*u+s*f*d,this._y=s*f*u-c*l*d,this._z=s*l*d-c*f*u,this._w=s*l*u+c*f*d;break;case"ZXY":this._x=c*l*u-s*f*d,this._y=s*f*u+c*l*d,this._z=s*l*d+c*f*u,this._w=s*l*u-c*f*d;break;case"ZYX":this._x=c*l*u-s*f*d,this._y=s*f*u+c*l*d,this._z=s*l*d-c*f*u,this._w=s*l*u+c*f*d;break;case"YZX":this._x=c*l*u+s*f*d,this._y=s*f*u+c*l*d,this._z=s*l*d-c*f*u,this._w=s*l*u-c*f*d;break;case"XZY":this._x=c*l*u-s*f*d,this._y=s*f*u-c*l*d,this._z=s*l*d+c*f*u,this._w=s*l*u+c*f*d;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return!1!==t&&this._onChangeCallback(),this}},{key:"setFromAxisAngle",value:function(e,t){var n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(e){var t=e.elements,n=t[0],r=t[4],i=t[8],a=t[1],A=t[5],o=t[9],s=t[2],l=t[6],u=t[10],c=n+A+u;if(c>0){var f=.5/Math.sqrt(c+1);this._w=.25/f,this._x=(l-o)*f,this._y=(i-s)*f,this._z=(a-r)*f}else if(n>A&&n>u){var d=2*Math.sqrt(1+n-A-u);this._w=(l-o)/d,this._x=.25*d,this._y=(r+a)/d,this._z=(i+s)/d}else if(A>u){var h=2*Math.sqrt(1+A-n-u);this._w=(i-s)/h,this._x=(r+a)/h,this._y=.25*h,this._z=(o+l)/h}else{var p=2*Math.sqrt(1+u-n-A);this._w=(a-r)/p,this._x=(i+s)/p,this._y=(o+l)/p,this._z=.25*p}return this._onChangeCallback(),this}},{key:"setFromUnitVectors",value:function(e,t){var n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}},{key:"angleTo",value:function(e){return 2*Math.acos(Math.abs($A(this.dot(e),-1,1)))}},{key:"rotateTowards",value:function(e,t){var n=this.angleTo(e);if(0===n)return this;var r=Math.min(1,t/n);return this.slerp(e,r),this}},{key:"identity",value:function(){return this.set(0,0,0,1)}},{key:"invert",value:function(){return this.conjugate()}},{key:"conjugate",value:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}},{key:"dot",value:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}},{key:"lengthSq",value:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}},{key:"length",value:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}},{key:"normalize",value:function(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}},{key:"multiply",value:function(e){return this.multiplyQuaternions(this,e)}},{key:"premultiply",value:function(e){return this.multiplyQuaternions(e,this)}},{key:"multiplyQuaternions",value:function(e,t){var n=e._x,r=e._y,i=e._z,a=e._w,A=t._x,o=t._y,s=t._z,l=t._w;return this._x=n*l+a*A+r*s-i*o,this._y=r*l+a*o+i*A-n*s,this._z=i*l+a*s+n*o-r*A,this._w=a*l-n*A-r*o-i*s,this._onChangeCallback(),this}},{key:"slerp",value:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var n=this._x,r=this._y,i=this._z,a=this._w,A=a*e._w+n*e._x+r*e._y+i*e._z;if(A<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,A=-A):this.copy(e),A>=1)return this._w=a,this._x=n,this._y=r,this._z=i,this;var o=1-A*A;if(o<=Number.EPSILON){var s=1-t;return this._w=s*a+t*this._w,this._x=s*n+t*this._x,this._y=s*r+t*this._y,this._z=s*i+t*this._z,this.normalize(),this._onChangeCallback(),this}var l=Math.sqrt(o),u=Math.atan2(l,A),c=Math.sin((1-t)*u)/l,f=Math.sin(t*u)/l;return this._w=a*c+this._w*f,this._x=n*c+this._x*f,this._y=r*c+this._y*f,this._z=i*c+this._z*f,this._onChangeCallback(),this}},{key:"slerpQuaternions",value:function(e,t,n){return this.copy(e).slerp(t,n)}},{key:"random",value:function(){var e=Math.random(),t=Math.sqrt(1-e),n=Math.sqrt(e),r=2*Math.PI*Math.random(),i=2*Math.PI*Math.random();return this.set(t*Math.cos(r),n*Math.sin(i),n*Math.cos(i),t*Math.sin(r))}},{key:"equals",value:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}},{key:"fromBufferAttribute",value:function(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}},{key:"toJSON",value:function(){return this.toArray()}},{key:"_onChange",value:function(e){return this._onChangeCallback=e,this}},{key:"_onChangeCallback",value:function(){}},{key:Symbol.iterator,value:Rr().mark((function e(){return Rr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._x;case 2:return e.next=4,this._y;case 4:return e.next=6,this._z;case 6:return e.next=8,this._w;case 8:case"end":return e.stop()}}),e,this)}))}],[{key:"slerpFlat",value:function(e,t,n,r,i,a,A){var o=n[r+0],s=n[r+1],l=n[r+2],u=n[r+3],c=i[a+0],f=i[a+1],d=i[a+2],h=i[a+3];if(0===A)return e[t+0]=o,e[t+1]=s,e[t+2]=l,void(e[t+3]=u);if(1===A)return e[t+0]=c,e[t+1]=f,e[t+2]=d,void(e[t+3]=h);if(u!==h||o!==c||s!==f||l!==d){var p=1-A,v=o*c+s*f+l*d+u*h,m=v>=0?1:-1,g=1-v*v;if(g>Number.EPSILON){var y=Math.sqrt(g),b=Math.atan2(y,v*m);p=Math.sin(p*b)/y,A=Math.sin(A*b)/y}var x=A*m;if(o=o*p+c*x,s=s*p+f*x,l=l*p+d*x,u=u*p+h*x,p===1-A){var _=1/Math.sqrt(o*o+s*s+l*l+u*u);o*=_,s*=_,l*=_,u*=_}}e[t]=o,e[t+1]=s,e[t+2]=l,e[t+3]=u}},{key:"multiplyQuaternionsFlat",value:function(e,t,n,r,i,a){var A=n[r],o=n[r+1],s=n[r+2],l=n[r+3],u=i[a],c=i[a+1],f=i[a+2],d=i[a+3];return e[t]=A*d+l*u+o*f-s*c,e[t+1]=o*d+l*c+s*u-A*f,e[t+2]=s*d+l*f+A*c-o*u,e[t+3]=l*d-A*u-o*c-s*f,e}}]),t}(),Fo=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;vr(this,t),t.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}return gr(t,[{key:"set",value:function(e,t,n){return void 0===n&&(n=this.z),this.x=e,this.y=t,this.z=n,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this.z=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setZ",value:function(e){return this.z=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}},{key:"add",value:function(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this.z+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}},{key:"sub",value:function(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this.z-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this.z*=e,this}},{key:"multiplyVectors",value:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}},{key:"applyEuler",value:function(e){return this.applyQuaternion(Go.setFromEuler(e))}},{key:"applyAxisAngle",value:function(e,t){return this.applyQuaternion(Go.setFromAxisAngle(e,t))}},{key:"applyMatrix3",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6]*r,this.y=i[1]*t+i[4]*n+i[7]*r,this.z=i[2]*t+i[5]*n+i[8]*r,this}},{key:"applyNormalMatrix",value:function(e){return this.applyMatrix3(e).normalize()}},{key:"applyMatrix4",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements,a=1/(i[3]*t+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*t+i[4]*n+i[8]*r+i[12])*a,this.y=(i[1]*t+i[5]*n+i[9]*r+i[13])*a,this.z=(i[2]*t+i[6]*n+i[10]*r+i[14])*a,this}},{key:"applyQuaternion",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.x,a=e.y,A=e.z,o=e.w,s=o*t+a*r-A*n,l=o*n+A*t-i*r,u=o*r+i*n-a*t,c=-i*t-a*n-A*r;return this.x=s*o+c*-i+l*-A-u*-a,this.y=l*o+c*-a+u*-i-s*-A,this.z=u*o+c*-A+s*-a-l*-i,this}},{key:"project",value:function(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}},{key:"unproject",value:function(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}},{key:"transformDirection",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[4]*n+i[8]*r,this.y=i[1]*t+i[5]*n+i[9]*r,this.z=i[2]*t+i[6]*n+i[10]*r,this.normalize()}},{key:"divide",value:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y+this.z*e.z}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}},{key:"cross",value:function(e){return this.crossVectors(this,e)}},{key:"crossVectors",value:function(e,t){var n=e.x,r=e.y,i=e.z,a=t.x,A=t.y,o=t.z;return this.x=r*o-i*A,this.y=i*a-n*o,this.z=n*A-r*a,this}},{key:"projectOnVector",value:function(e){var t=e.lengthSq();if(0===t)return this.set(0,0,0);var n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}},{key:"projectOnPlane",value:function(e){return zo.copy(this).projectOnVector(e),this.sub(zo)}},{key:"reflect",value:function(e){return this.sub(zo.copy(e).multiplyScalar(2*this.dot(e)))}},{key:"angleTo",value:function(e){var t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;var n=this.dot(e)/t;return Math.acos($A(n,-1,1))}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceToSquared(e))}},{key:"distanceToSquared",value:function(e){var t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r}},{key:"manhattanDistanceTo",value:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}},{key:"setFromSpherical",value:function(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}},{key:"setFromSphericalCoords",value:function(e,t,n){var r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this}},{key:"setFromCylindrical",value:function(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}},{key:"setFromCylindricalCoords",value:function(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}},{key:"setFromMatrixPosition",value:function(e){var t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}},{key:"setFromMatrixScale",value:function(e){var t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this}},{key:"setFromMatrixColumn",value:function(e,t){return this.fromArray(e.elements,4*t)}},{key:"setFromMatrix3Column",value:function(e,t){return this.fromArray(e.elements,3*t)}},{key:"setFromEuler",value:function(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}},{key:"setFromColor",value:function(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}},{key:"fromBufferAttribute",value:function(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}},{key:"randomDirection",value:function(){var e=2*(Math.random()-.5),t=Math.random()*Math.PI*2,n=Math.sqrt(1-Math.pow(e,2));return this.x=n*Math.cos(t),this.y=n*Math.sin(t),this.z=e,this}},{key:Symbol.iterator,value:Rr().mark((function e(){return Rr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.x;case 2:return e.next=4,this.y;case 4:return e.next=6,this.z;case 6:case"end":return e.stop()}}),e,this)}))}]),t}(),zo=new Fo,Go=new Oo,Ho=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Fo(1/0,1/0,1/0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Fo(-1/0,-1/0,-1/0);vr(this,e),this.isBox3=!0,this.min=t,this.max=n}return gr(e,[{key:"set",value:function(e,t){return this.min.copy(e),this.max.copy(t),this}},{key:"setFromArray",value:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t+=3)this.expandByPoint(Wo.fromArray(e,t));return this}},{key:"setFromBufferAttribute",value:function(e){this.makeEmpty();for(var t=0,n=e.count;t<n;t++)this.expandByPoint(Wo.fromBufferAttribute(e,t));return this}},{key:"setFromPoints",value:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}},{key:"setFromCenterAndSize",value:function(e,t){var n=Wo.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}},{key:"setFromObject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.makeEmpty(),this.expandByObject(e,t)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.min.copy(e.min),this.max.copy(e.max),this}},{key:"makeEmpty",value:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}},{key:"isEmpty",value:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}},{key:"getCenter",value:function(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}},{key:"getSize",value:function(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}},{key:"expandByPoint",value:function(e){return this.min.min(e),this.max.max(e),this}},{key:"expandByVector",value:function(e){return this.min.sub(e),this.max.add(e),this}},{key:"expandByScalar",value:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this}},{key:"expandByObject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.updateWorldMatrix(!1,!1),void 0!==e.boundingBox)null===e.boundingBox&&e.computeBoundingBox(),jo.copy(e.boundingBox),jo.applyMatrix4(e.matrixWorld),this.union(jo);else{var n=e.geometry;if(void 0!==n)if(t&&void 0!==n.attributes&&void 0!==n.attributes.position)for(var r=n.attributes.position,i=0,a=r.count;i<a;i++)Wo.fromBufferAttribute(r,i).applyMatrix4(e.matrixWorld),this.expandByPoint(Wo);else null===n.boundingBox&&n.computeBoundingBox(),jo.copy(n.boundingBox),jo.applyMatrix4(e.matrixWorld),this.union(jo)}for(var A=e.children,o=0,s=A.length;o<s;o++)this.expandByObject(A[o],t);return this}},{key:"containsPoint",value:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}},{key:"containsBox",value:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}},{key:"getParameter",value:function(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}},{key:"intersectsBox",value:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}},{key:"intersectsSphere",value:function(e){return this.clampPoint(e.center,Wo),Wo.distanceToSquared(e.center)<=e.radius*e.radius}},{key:"intersectsPlane",value:function(e){var t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}},{key:"intersectsTriangle",value:function(e){if(this.isEmpty())return!1;this.getCenter(Zo),$o.subVectors(this.max,Zo),Qo.subVectors(e.a,Zo),Xo.subVectors(e.b,Zo),Jo.subVectors(e.c,Zo),Ko.subVectors(Xo,Qo),Yo.subVectors(Jo,Xo),qo.subVectors(Qo,Jo);var t=[0,-Ko.z,Ko.y,0,-Yo.z,Yo.y,0,-qo.z,qo.y,Ko.z,0,-Ko.x,Yo.z,0,-Yo.x,qo.z,0,-qo.x,-Ko.y,Ko.x,0,-Yo.y,Yo.x,0,-qo.y,qo.x,0];return!!ns(t,Qo,Xo,Jo,$o)&&(!!ns(t=[1,0,0,0,1,0,0,0,1],Qo,Xo,Jo,$o)&&(es.crossVectors(Ko,Yo),ns(t=[es.x,es.y,es.z],Qo,Xo,Jo,$o)))}},{key:"clampPoint",value:function(e,t){return t.copy(e).clamp(this.min,this.max)}},{key:"distanceToPoint",value:function(e){return this.clampPoint(e,Wo).distanceTo(e)}},{key:"getBoundingSphere",value:function(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=.5*this.getSize(Wo).length()),e}},{key:"intersect",value:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}},{key:"union",value:function(e){return this.min.min(e.min),this.max.max(e.max),this}},{key:"applyMatrix4",value:function(e){return this.isEmpty()||(Vo[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Vo[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Vo[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Vo[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Vo[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Vo[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Vo[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Vo[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Vo)),this}},{key:"translate",value:function(e){return this.min.add(e),this.max.add(e),this}},{key:"equals",value:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}]),e}(),Vo=[new Fo,new Fo,new Fo,new Fo,new Fo,new Fo,new Fo,new Fo],Wo=new Fo,jo=new Ho,Qo=new Fo,Xo=new Fo,Jo=new Fo,Ko=new Fo,Yo=new Fo,qo=new Fo,Zo=new Fo,$o=new Fo,es=new Fo,ts=new Fo;function ns(e,t,n,r,i){for(var a=0,A=e.length-3;a<=A;a+=3){ts.fromArray(e,a);var o=i.x*Math.abs(ts.x)+i.y*Math.abs(ts.y)+i.z*Math.abs(ts.z),s=t.dot(ts),l=n.dot(ts),u=r.dot(ts);if(Math.max(-Math.max(s,l,u),Math.min(s,l,u))>o)return!1}return!0}var rs=new Ho,is=new Fo,as=new Fo,As=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Fo,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;vr(this,e),this.center=t,this.radius=n}return gr(e,[{key:"set",value:function(e,t){return this.center.copy(e),this.radius=t,this}},{key:"setFromPoints",value:function(e,t){var n=this.center;void 0!==t?n.copy(t):rs.setFromPoints(e).getCenter(n);for(var r=0,i=0,a=e.length;i<a;i++)r=Math.max(r,n.distanceToSquared(e[i]));return this.radius=Math.sqrt(r),this}},{key:"copy",value:function(e){return this.center.copy(e.center),this.radius=e.radius,this}},{key:"isEmpty",value:function(){return this.radius<0}},{key:"makeEmpty",value:function(){return this.center.set(0,0,0),this.radius=-1,this}},{key:"containsPoint",value:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}},{key:"distanceToPoint",value:function(e){return e.distanceTo(this.center)-this.radius}},{key:"intersectsSphere",value:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}},{key:"intersectsBox",value:function(e){return e.intersectsSphere(this)}},{key:"intersectsPlane",value:function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}},{key:"clampPoint",value:function(e,t){var n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}},{key:"getBoundingBox",value:function(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}},{key:"applyMatrix4",value:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}},{key:"translate",value:function(e){return this.center.add(e),this}},{key:"expandByPoint",value:function(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;is.subVectors(e,this.center);var t=is.lengthSq();if(t>this.radius*this.radius){var n=Math.sqrt(t),r=.5*(n-this.radius);this.center.addScaledVector(is,r/n),this.radius+=r}return this}},{key:"union",value:function(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(!0===this.center.equals(e.center)?this.radius=Math.max(this.radius,e.radius):(as.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(is.copy(e.center).add(as)),this.expandByPoint(is.copy(e.center).sub(as))),this)}},{key:"equals",value:function(e){return e.center.equals(this.center)&&e.radius===this.radius}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),os=new Fo,ss=new Fo,ls=new Fo,us=new Fo,cs=new Fo,fs=new Fo,ds=new Fo,hs=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Fo,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Fo(0,0,-1);vr(this,e),this.origin=t,this.direction=n}return gr(e,[{key:"set",value:function(e,t){return this.origin.copy(e),this.direction.copy(t),this}},{key:"copy",value:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}},{key:"at",value:function(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}},{key:"lookAt",value:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this}},{key:"recast",value:function(e){return this.origin.copy(this.at(e,os)),this}},{key:"closestPointToPoint",value:function(e,t){t.subVectors(e,this.origin);var n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,n)}},{key:"distanceToPoint",value:function(e){return Math.sqrt(this.distanceSqToPoint(e))}},{key:"distanceSqToPoint",value:function(e){var t=os.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(os.copy(this.origin).addScaledVector(this.direction,t),os.distanceToSquared(e))}},{key:"distanceSqToSegment",value:function(e,t,n,r){ss.copy(e).add(t).multiplyScalar(.5),ls.copy(t).sub(e).normalize(),us.copy(this.origin).sub(ss);var i,a,A,o,s=.5*e.distanceTo(t),l=-this.direction.dot(ls),u=us.dot(this.direction),c=-us.dot(ls),f=us.lengthSq(),d=Math.abs(1-l*l);if(d>0)if(a=l*u-c,o=s*d,(i=l*c-u)>=0)if(a>=-o)if(a<=o){var h=1/d;A=(i*=h)*(i+l*(a*=h)+2*u)+a*(l*i+a+2*c)+f}else a=s,A=-(i=Math.max(0,-(l*a+u)))*i+a*(a+2*c)+f;else a=-s,A=-(i=Math.max(0,-(l*a+u)))*i+a*(a+2*c)+f;else a<=-o?A=-(i=Math.max(0,-(-l*s+u)))*i+(a=i>0?-s:Math.min(Math.max(-s,-c),s))*(a+2*c)+f:a<=o?(i=0,A=(a=Math.min(Math.max(-s,-c),s))*(a+2*c)+f):A=-(i=Math.max(0,-(l*s+u)))*i+(a=i>0?s:Math.min(Math.max(-s,-c),s))*(a+2*c)+f;else a=l>0?-s:s,A=-(i=Math.max(0,-(l*a+u)))*i+a*(a+2*c)+f;return n&&n.copy(this.origin).addScaledVector(this.direction,i),r&&r.copy(ss).addScaledVector(ls,a),A}},{key:"intersectSphere",value:function(e,t){os.subVectors(e.center,this.origin);var n=os.dot(this.direction),r=os.dot(os)-n*n,i=e.radius*e.radius;if(r>i)return null;var a=Math.sqrt(i-r),A=n-a,o=n+a;return o<0?null:A<0?this.at(o,t):this.at(A,t)}},{key:"intersectsSphere",value:function(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}},{key:"distanceToPlane",value:function(e){var t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}},{key:"intersectPlane",value:function(e,t){var n=this.distanceToPlane(e);return null===n?null:this.at(n,t)}},{key:"intersectsPlane",value:function(e){var t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0}},{key:"intersectBox",value:function(e,t){var n,r,i,a,A,o,s=1/this.direction.x,l=1/this.direction.y,u=1/this.direction.z,c=this.origin;return s>=0?(n=(e.min.x-c.x)*s,r=(e.max.x-c.x)*s):(n=(e.max.x-c.x)*s,r=(e.min.x-c.x)*s),l>=0?(i=(e.min.y-c.y)*l,a=(e.max.y-c.y)*l):(i=(e.max.y-c.y)*l,a=(e.min.y-c.y)*l),n>a||i>r?null:((i>n||isNaN(n))&&(n=i),(a<r||isNaN(r))&&(r=a),u>=0?(A=(e.min.z-c.z)*u,o=(e.max.z-c.z)*u):(A=(e.max.z-c.z)*u,o=(e.min.z-c.z)*u),n>o||A>r?null:((A>n||n!==n)&&(n=A),(o<r||r!==r)&&(r=o),r<0?null:this.at(n>=0?n:r,t)))}},{key:"intersectsBox",value:function(e){return null!==this.intersectBox(e,os)}},{key:"intersectTriangle",value:function(e,t,n,r,i){cs.subVectors(t,e),fs.subVectors(n,e),ds.crossVectors(cs,fs);var a,A=this.direction.dot(ds);if(A>0){if(r)return null;a=1}else{if(!(A<0))return null;a=-1,A=-A}us.subVectors(this.origin,e);var o=a*this.direction.dot(fs.crossVectors(us,fs));if(o<0)return null;var s=a*this.direction.dot(cs.cross(us));if(s<0)return null;if(o+s>A)return null;var l=-a*us.dot(ds);return l<0?null:this.at(l/A,i)}},{key:"applyMatrix4",value:function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}},{key:"equals",value:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),ps=function(){function e(){vr(this,e),e.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}return gr(e,[{key:"set",value:function(e,t,n,r,i,a,A,o,s,l,u,c,f,d,h,p){var v=this.elements;return v[0]=e,v[4]=t,v[8]=n,v[12]=r,v[1]=i,v[5]=a,v[9]=A,v[13]=o,v[2]=s,v[6]=l,v[10]=u,v[14]=c,v[3]=f,v[7]=d,v[11]=h,v[15]=p,this}},{key:"identity",value:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}},{key:"clone",value:function(){return(new e).fromArray(this.elements)}},{key:"copy",value:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}},{key:"copyPosition",value:function(e){var t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}},{key:"setFromMatrix3",value:function(e){var t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}},{key:"extractBasis",value:function(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}},{key:"makeBasis",value:function(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}},{key:"extractRotation",value:function(e){var t=this.elements,n=e.elements,r=1/vs.setFromMatrixColumn(e,0).length(),i=1/vs.setFromMatrixColumn(e,1).length(),a=1/vs.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*i,t[5]=n[5]*i,t[6]=n[6]*i,t[7]=0,t[8]=n[8]*a,t[9]=n[9]*a,t[10]=n[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}},{key:"makeRotationFromEuler",value:function(e){var t=this.elements,n=e.x,r=e.y,i=e.z,a=Math.cos(n),A=Math.sin(n),o=Math.cos(r),s=Math.sin(r),l=Math.cos(i),u=Math.sin(i);if("XYZ"===e.order){var c=a*l,f=a*u,d=A*l,h=A*u;t[0]=o*l,t[4]=-o*u,t[8]=s,t[1]=f+d*s,t[5]=c-h*s,t[9]=-A*o,t[2]=h-c*s,t[6]=d+f*s,t[10]=a*o}else if("YXZ"===e.order){var p=o*l,v=o*u,m=s*l,g=s*u;t[0]=p+g*A,t[4]=m*A-v,t[8]=a*s,t[1]=a*u,t[5]=a*l,t[9]=-A,t[2]=v*A-m,t[6]=g+p*A,t[10]=a*o}else if("ZXY"===e.order){var y=o*l,b=o*u,x=s*l,_=s*u;t[0]=y-_*A,t[4]=-a*u,t[8]=x+b*A,t[1]=b+x*A,t[5]=a*l,t[9]=_-y*A,t[2]=-a*s,t[6]=A,t[10]=a*o}else if("ZYX"===e.order){var w=a*l,E=a*u,M=A*l,S=A*u;t[0]=o*l,t[4]=M*s-E,t[8]=w*s+S,t[1]=o*u,t[5]=S*s+w,t[9]=E*s-M,t[2]=-s,t[6]=A*o,t[10]=a*o}else if("YZX"===e.order){var C=a*o,T=a*s,k=A*o,B=A*s;t[0]=o*l,t[4]=B-C*u,t[8]=k*u+T,t[1]=u,t[5]=a*l,t[9]=-A*l,t[2]=-s*l,t[6]=T*u+k,t[10]=C-B*u}else if("XZY"===e.order){var R=a*o,P=a*s,I=A*o,D=A*s;t[0]=o*l,t[4]=-u,t[8]=s*l,t[1]=R*u+D,t[5]=a*l,t[9]=P*u-I,t[2]=I*u-P,t[6]=A*l,t[10]=D*u+R}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}},{key:"makeRotationFromQuaternion",value:function(e){return this.compose(gs,e,ys)}},{key:"lookAt",value:function(e,t,n){var r=this.elements;return _s.subVectors(e,t),0===_s.lengthSq()&&(_s.z=1),_s.normalize(),bs.crossVectors(n,_s),0===bs.lengthSq()&&(1===Math.abs(n.z)?_s.x+=1e-4:_s.z+=1e-4,_s.normalize(),bs.crossVectors(n,_s)),bs.normalize(),xs.crossVectors(_s,bs),r[0]=bs.x,r[4]=xs.x,r[8]=_s.x,r[1]=bs.y,r[5]=xs.y,r[9]=_s.y,r[2]=bs.z,r[6]=xs.z,r[10]=_s.z,this}},{key:"multiply",value:function(e){return this.multiplyMatrices(this,e)}},{key:"premultiply",value:function(e){return this.multiplyMatrices(e,this)}},{key:"multiplyMatrices",value:function(e,t){var n=e.elements,r=t.elements,i=this.elements,a=n[0],A=n[4],o=n[8],s=n[12],l=n[1],u=n[5],c=n[9],f=n[13],d=n[2],h=n[6],p=n[10],v=n[14],m=n[3],g=n[7],y=n[11],b=n[15],x=r[0],_=r[4],w=r[8],E=r[12],M=r[1],S=r[5],C=r[9],T=r[13],k=r[2],B=r[6],R=r[10],P=r[14],I=r[3],D=r[7],L=r[11],U=r[15];return i[0]=a*x+A*M+o*k+s*I,i[4]=a*_+A*S+o*B+s*D,i[8]=a*w+A*C+o*R+s*L,i[12]=a*E+A*T+o*P+s*U,i[1]=l*x+u*M+c*k+f*I,i[5]=l*_+u*S+c*B+f*D,i[9]=l*w+u*C+c*R+f*L,i[13]=l*E+u*T+c*P+f*U,i[2]=d*x+h*M+p*k+v*I,i[6]=d*_+h*S+p*B+v*D,i[10]=d*w+h*C+p*R+v*L,i[14]=d*E+h*T+p*P+v*U,i[3]=m*x+g*M+y*k+b*I,i[7]=m*_+g*S+y*B+b*D,i[11]=m*w+g*C+y*R+b*L,i[15]=m*E+g*T+y*P+b*U,this}},{key:"multiplyScalar",value:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}},{key:"determinant",value:function(){var e=this.elements,t=e[0],n=e[4],r=e[8],i=e[12],a=e[1],A=e[5],o=e[9],s=e[13],l=e[2],u=e[6],c=e[10],f=e[14];return e[3]*(+i*o*u-r*s*u-i*A*c+n*s*c+r*A*f-n*o*f)+e[7]*(+t*o*f-t*s*c+i*a*c-r*a*f+r*s*l-i*o*l)+e[11]*(+t*s*u-t*A*f-i*a*u+n*a*f+i*A*l-n*s*l)+e[15]*(-r*A*l-t*o*u+t*A*c+r*a*u-n*a*c+n*o*l)}},{key:"transpose",value:function(){var e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}},{key:"setPosition",value:function(e,t,n){var r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this}},{key:"invert",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],A=e[5],o=e[6],s=e[7],l=e[8],u=e[9],c=e[10],f=e[11],d=e[12],h=e[13],p=e[14],v=e[15],m=u*p*s-h*c*s+h*o*f-A*p*f-u*o*v+A*c*v,g=d*c*s-l*p*s-d*o*f+a*p*f+l*o*v-a*c*v,y=l*h*s-d*u*s+d*A*f-a*h*f-l*A*v+a*u*v,b=d*u*o-l*h*o-d*A*c+a*h*c+l*A*p-a*u*p,x=t*m+n*g+r*y+i*b;if(0===x)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);var _=1/x;return e[0]=m*_,e[1]=(h*c*i-u*p*i-h*r*f+n*p*f+u*r*v-n*c*v)*_,e[2]=(A*p*i-h*o*i+h*r*s-n*p*s-A*r*v+n*o*v)*_,e[3]=(u*o*i-A*c*i-u*r*s+n*c*s+A*r*f-n*o*f)*_,e[4]=g*_,e[5]=(l*p*i-d*c*i+d*r*f-t*p*f-l*r*v+t*c*v)*_,e[6]=(d*o*i-a*p*i-d*r*s+t*p*s+a*r*v-t*o*v)*_,e[7]=(a*c*i-l*o*i+l*r*s-t*c*s-a*r*f+t*o*f)*_,e[8]=y*_,e[9]=(d*u*i-l*h*i-d*n*f+t*h*f+l*n*v-t*u*v)*_,e[10]=(a*h*i-d*A*i+d*n*s-t*h*s-a*n*v+t*A*v)*_,e[11]=(l*A*i-a*u*i-l*n*s+t*u*s+a*n*f-t*A*f)*_,e[12]=b*_,e[13]=(l*h*r-d*u*r+d*n*c-t*h*c-l*n*p+t*u*p)*_,e[14]=(d*A*r-a*h*r-d*n*o+t*h*o+a*n*p-t*A*p)*_,e[15]=(a*u*r-l*A*r+l*n*o-t*u*o-a*n*c+t*A*c)*_,this}},{key:"scale",value:function(e){var t=this.elements,n=e.x,r=e.y,i=e.z;return t[0]*=n,t[4]*=r,t[8]*=i,t[1]*=n,t[5]*=r,t[9]*=i,t[2]*=n,t[6]*=r,t[10]*=i,t[3]*=n,t[7]*=r,t[11]*=i,this}},{key:"getMaxScaleOnAxis",value:function(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))}},{key:"makeTranslation",value:function(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}},{key:"makeRotationX",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}},{key:"makeRotationY",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}},{key:"makeRotationZ",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}},{key:"makeRotationAxis",value:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=1-n,a=e.x,A=e.y,o=e.z,s=i*a,l=i*A;return this.set(s*a+n,s*A-r*o,s*o+r*A,0,s*A+r*o,l*A+n,l*o-r*a,0,s*o-r*A,l*o+r*a,i*o*o+n,0,0,0,0,1),this}},{key:"makeScale",value:function(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}},{key:"makeShear",value:function(e,t,n,r,i,a){return this.set(1,n,i,0,e,1,a,0,t,r,1,0,0,0,0,1),this}},{key:"compose",value:function(e,t,n){var r=this.elements,i=t._x,a=t._y,A=t._z,o=t._w,s=i+i,l=a+a,u=A+A,c=i*s,f=i*l,d=i*u,h=a*l,p=a*u,v=A*u,m=o*s,g=o*l,y=o*u,b=n.x,x=n.y,_=n.z;return r[0]=(1-(h+v))*b,r[1]=(f+y)*b,r[2]=(d-g)*b,r[3]=0,r[4]=(f-y)*x,r[5]=(1-(c+v))*x,r[6]=(p+m)*x,r[7]=0,r[8]=(d+g)*_,r[9]=(p-m)*_,r[10]=(1-(c+h))*_,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}},{key:"decompose",value:function(e,t,n){var r=this.elements,i=vs.set(r[0],r[1],r[2]).length(),a=vs.set(r[4],r[5],r[6]).length(),A=vs.set(r[8],r[9],r[10]).length();this.determinant()<0&&(i=-i),e.x=r[12],e.y=r[13],e.z=r[14],ms.copy(this);var o=1/i,s=1/a,l=1/A;return ms.elements[0]*=o,ms.elements[1]*=o,ms.elements[2]*=o,ms.elements[4]*=s,ms.elements[5]*=s,ms.elements[6]*=s,ms.elements[8]*=l,ms.elements[9]*=l,ms.elements[10]*=l,t.setFromRotationMatrix(ms),n.x=i,n.y=a,n.z=A,this}},{key:"makePerspective",value:function(e,t,n,r,i,a){var A=this.elements,o=2*i/(t-e),s=2*i/(n-r),l=(t+e)/(t-e),u=(n+r)/(n-r),c=-(a+i)/(a-i),f=-2*a*i/(a-i);return A[0]=o,A[4]=0,A[8]=l,A[12]=0,A[1]=0,A[5]=s,A[9]=u,A[13]=0,A[2]=0,A[6]=0,A[10]=c,A[14]=f,A[3]=0,A[7]=0,A[11]=-1,A[15]=0,this}},{key:"makeOrthographic",value:function(e,t,n,r,i,a){var A=this.elements,o=1/(t-e),s=1/(n-r),l=1/(a-i),u=(t+e)*o,c=(n+r)*s,f=(a+i)*l;return A[0]=2*o,A[4]=0,A[8]=0,A[12]=-u,A[1]=0,A[5]=2*s,A[9]=0,A[13]=-c,A[2]=0,A[6]=0,A[10]=-2*l,A[14]=-f,A[3]=0,A[7]=0,A[11]=0,A[15]=1,this}},{key:"equals",value:function(e){for(var t=this.elements,n=e.elements,r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<16;n++)this.elements[n]=e[n+t];return this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}]),e}(),vs=new Fo,ms=new ps,gs=new Fo(0,0,0),ys=new Fo(1,1,1),bs=new Fo,xs=new Fo,_s=new Fo,ws=new ps,Es=new Oo,Ms=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.DEFAULT_ORDER;vr(this,t),this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}return gr(t,[{key:"x",get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},{key:"order",get:function(){return this._order},set:function(e){this._order=e,this._onChangeCallback()}},{key:"set",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this._order;return this._x=e,this._y=t,this._z=n,this._order=r,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._order)}},{key:"copy",value:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=e.elements,i=r[0],a=r[4],A=r[8],o=r[1],s=r[5],l=r[9],u=r[2],c=r[6],f=r[10];switch(t){case"XYZ":this._y=Math.asin($A(A,-1,1)),Math.abs(A)<.9999999?(this._x=Math.atan2(-l,f),this._z=Math.atan2(-a,i)):(this._x=Math.atan2(c,s),this._z=0);break;case"YXZ":this._x=Math.asin(-$A(l,-1,1)),Math.abs(l)<.9999999?(this._y=Math.atan2(A,f),this._z=Math.atan2(o,s)):(this._y=Math.atan2(-u,i),this._z=0);break;case"ZXY":this._x=Math.asin($A(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(-u,f),this._z=Math.atan2(-a,s)):(this._y=0,this._z=Math.atan2(o,i));break;case"ZYX":this._y=Math.asin(-$A(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(c,f),this._z=Math.atan2(o,i)):(this._x=0,this._z=Math.atan2(-a,s));break;case"YZX":this._z=Math.asin($A(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-l,s),this._y=Math.atan2(-u,i)):(this._x=0,this._y=Math.atan2(A,f));break;case"XZY":this._z=Math.asin(-$A(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(c,s),this._y=Math.atan2(A,i)):(this._x=Math.atan2(-l,f),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,!0===n&&this._onChangeCallback(),this}},{key:"setFromQuaternion",value:function(e,t,n){return ws.makeRotationFromQuaternion(e),this.setFromRotationMatrix(ws,t,n)}},{key:"setFromVector3",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order;return this.set(e.x,e.y,e.z,t)}},{key:"reorder",value:function(e){return Es.setFromEuler(this),this.setFromQuaternion(Es,e)}},{key:"equals",value:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}},{key:"fromArray",value:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}},{key:"_onChange",value:function(e){return this._onChangeCallback=e,this}},{key:"_onChangeCallback",value:function(){}},{key:Symbol.iterator,value:Rr().mark((function e(){return Rr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._x;case 2:return e.next=4,this._y;case 4:return e.next=6,this._z;case 6:return e.next=8,this._order;case 8:case"end":return e.stop()}}),e,this)}))}]),t}();Ms.DEFAULT_ORDER="XYZ";var Ss=function(){function e(){vr(this,e),this.mask=1}return gr(e,[{key:"set",value:function(e){this.mask=(1<<e|0)>>>0}},{key:"enable",value:function(e){this.mask|=1<<e|0}},{key:"enableAll",value:function(){this.mask=-1}},{key:"toggle",value:function(e){this.mask^=1<<e|0}},{key:"disable",value:function(e){this.mask&=~(1<<e|0)}},{key:"disableAll",value:function(){this.mask=0}},{key:"test",value:function(e){return 0!==(this.mask&e.mask)}},{key:"isEnabled",value:function(e){return 0!==(this.mask&(1<<e|0))}}]),e}(),Cs=0,Ts=new Fo,ks=new Oo,Bs=new ps,Rs=new Fo,Ps=new Fo,Is=new Fo,Ds=new Oo,Ls=new Fo(1,0,0),Us=new Fo(0,1,0),Ns=new Fo(0,0,1),Os={type:"added"},Fs={type:"removed"},zs=function(e){br(n,e);var t=Er(n);function n(){var e;vr(this,n),(e=t.call(this)).isObject3D=!0,Object.defineProperty(wr(e),"id",{value:Cs++}),e.uuid=ZA(),e.name="",e.type="Object3D",e.parent=null,e.children=[],e.up=n.DEFAULT_UP.clone();var r=new Fo,i=new Ms,a=new Oo,A=new Fo(1,1,1);return i._onChange((function(){a.setFromEuler(i,!1)})),a._onChange((function(){i.setFromQuaternion(a,void 0,!1)})),Object.defineProperties(wr(e),{position:{configurable:!0,enumerable:!0,value:r},rotation:{configurable:!0,enumerable:!0,value:i},quaternion:{configurable:!0,enumerable:!0,value:a},scale:{configurable:!0,enumerable:!0,value:A},modelViewMatrix:{value:new ps},normalMatrix:{value:new lo}}),e.matrix=new ps,e.matrixWorld=new ps,e.matrixAutoUpdate=n.DEFAULT_MATRIX_AUTO_UPDATE,e.matrixWorldNeedsUpdate=!1,e.matrixWorldAutoUpdate=n.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,e.layers=new Ss,e.visible=!0,e.castShadow=!1,e.receiveShadow=!1,e.frustumCulled=!0,e.renderOrder=0,e.animations=[],e.userData={},e}return gr(n,[{key:"onBeforeRender",value:function(){}},{key:"onAfterRender",value:function(){}},{key:"applyMatrix4",value:function(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}},{key:"applyQuaternion",value:function(e){return this.quaternion.premultiply(e),this}},{key:"setRotationFromAxisAngle",value:function(e,t){this.quaternion.setFromAxisAngle(e,t)}},{key:"setRotationFromEuler",value:function(e){this.quaternion.setFromEuler(e,!0)}},{key:"setRotationFromMatrix",value:function(e){this.quaternion.setFromRotationMatrix(e)}},{key:"setRotationFromQuaternion",value:function(e){this.quaternion.copy(e)}},{key:"rotateOnAxis",value:function(e,t){return ks.setFromAxisAngle(e,t),this.quaternion.multiply(ks),this}},{key:"rotateOnWorldAxis",value:function(e,t){return ks.setFromAxisAngle(e,t),this.quaternion.premultiply(ks),this}},{key:"rotateX",value:function(e){return this.rotateOnAxis(Ls,e)}},{key:"rotateY",value:function(e){return this.rotateOnAxis(Us,e)}},{key:"rotateZ",value:function(e){return this.rotateOnAxis(Ns,e)}},{key:"translateOnAxis",value:function(e,t){return Ts.copy(e).applyQuaternion(this.quaternion),this.position.add(Ts.multiplyScalar(t)),this}},{key:"translateX",value:function(e){return this.translateOnAxis(Ls,e)}},{key:"translateY",value:function(e){return this.translateOnAxis(Us,e)}},{key:"translateZ",value:function(e){return this.translateOnAxis(Ns,e)}},{key:"localToWorld",value:function(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}},{key:"worldToLocal",value:function(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Bs.copy(this.matrixWorld).invert())}},{key:"lookAt",value:function(e,t,n){e.isVector3?Rs.copy(e):Rs.set(e,t,n);var r=this.parent;this.updateWorldMatrix(!0,!1),Ps.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Bs.lookAt(Ps,Rs,this.up):Bs.lookAt(Rs,Ps,this.up),this.quaternion.setFromRotationMatrix(Bs),r&&(Bs.extractRotation(r.matrixWorld),ks.setFromRotationMatrix(Bs),this.quaternion.premultiply(ks.invert()))}},{key:"add",value:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(Os)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}},{key:"remove",value:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}var n=this.children.indexOf(e);return-1!==n&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(Fs)),this}},{key:"removeFromParent",value:function(){var e=this.parent;return null!==e&&e.remove(this),this}},{key:"clear",value:function(){for(var e=0;e<this.children.length;e++){var t=this.children[e];t.parent=null,t.dispatchEvent(Fs)}return this.children.length=0,this}},{key:"attach",value:function(e){return this.updateWorldMatrix(!0,!1),Bs.copy(this.matrixWorld).invert(),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),Bs.multiply(e.parent.matrixWorld)),e.applyMatrix4(Bs),this.add(e),e.updateWorldMatrix(!1,!0),this}},{key:"getObjectById",value:function(e){return this.getObjectByProperty("id",e)}},{key:"getObjectByName",value:function(e){return this.getObjectByProperty("name",e)}},{key:"getObjectByProperty",value:function(e,t){if(this[e]===t)return this;for(var n=0,r=this.children.length;n<r;n++){var i=this.children[n].getObjectByProperty(e,t);if(void 0!==i)return i}}},{key:"getObjectsByProperty",value:function(e,t){var n=[];this[e]===t&&n.push(this);for(var r=0,i=this.children.length;r<i;r++){var a=this.children[r].getObjectsByProperty(e,t);a.length>0&&(n=n.concat(a))}return n}},{key:"getWorldPosition",value:function(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}},{key:"getWorldQuaternion",value:function(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Ps,e,Is),e}},{key:"getWorldScale",value:function(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Ps,Ds,e),e}},{key:"getWorldDirection",value:function(e){this.updateWorldMatrix(!0,!1);var t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}},{key:"raycast",value:function(){}},{key:"traverse",value:function(e){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverse(e)}},{key:"traverseVisible",value:function(e){if(!1!==this.visible){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}}},{key:"traverseAncestors",value:function(e){var t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))}},{key:"updateMatrix",value:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}},{key:"updateMatrixWorld",value:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var t=this.children,n=0,r=t.length;n<r;n++){var i=t[n];!0!==i.matrixWorldAutoUpdate&&!0!==e||i.updateMatrixWorld(e)}}},{key:"updateWorldMatrix",value:function(e,t){var n=this.parent;if(!0===e&&null!==n&&!0===n.matrixWorldAutoUpdate&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t)for(var r=this.children,i=0,a=r.length;i<a;i++){var A=r[i];!0===A.matrixWorldAutoUpdate&&A.updateWorldMatrix(!1,!0)}}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e,n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var r={};function i(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(r.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=i(e.geometries,this.geometry);var a=this.geometry.parameters;if(void 0!==a&&void 0!==a.shapes){var A=a.shapes;if(Array.isArray(A))for(var o=0,s=A.length;o<s;o++){var l=A[o];i(e.shapes,l)}else i(e.shapes,A)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(i(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){for(var u=[],c=0,f=this.material.length;c<f;c++)u.push(i(e.materials,this.material[c]));r.material=u}else r.material=i(e.materials,this.material);if(this.children.length>0){r.children=[];for(var d=0;d<this.children.length;d++)r.children.push(this.children[d].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(var h=0;h<this.animations.length;h++){var p=this.animations[h];r.animations.push(i(e.animations,p))}}if(t){var v=E(e.geometries),m=E(e.materials),g=E(e.textures),y=E(e.images),b=E(e.shapes),x=E(e.skeletons),_=E(e.animations),w=E(e.nodes);v.length>0&&(n.geometries=v),m.length>0&&(n.materials=m),g.length>0&&(n.textures=g),y.length>0&&(n.images=y),b.length>0&&(n.shapes=b),x.length>0&&(n.skeletons=x),_.length>0&&(n.animations=_),w.length>0&&(n.nodes=w)}return n.object=r,n;function E(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}}},{key:"clone",value:function(e){return(new this.constructor).copy(this,e)}},{key:"copy",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(var n=0;n<e.children.length;n++){var r=e.children[n];this.add(r.clone())}return this}}]),n}(XA);zs.DEFAULT_UP=new Fo(0,1,0),zs.DEFAULT_MATRIX_AUTO_UPDATE=!0,zs.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;var Gs=new Fo,Hs=new Fo,Vs=new Fo,Ws=new Fo,js=new Fo,Qs=new Fo,Xs=new Fo,Js=new Fo,Ks=new Fo,Ys=new Fo,qs=!1,Zs=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Fo,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Fo,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Fo;vr(this,e),this.a=t,this.b=n,this.c=r}return gr(e,[{key:"set",value:function(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}},{key:"setFromPointsAndIndices",value:function(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this}},{key:"setFromAttributeAndIndices",value:function(e,t,n,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,r),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}},{key:"getArea",value:function(){return Gs.subVectors(this.c,this.b),Hs.subVectors(this.a,this.b),.5*Gs.cross(Hs).length()}},{key:"getMidpoint",value:function(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}},{key:"getNormal",value:function(t){return e.getNormal(this.a,this.b,this.c,t)}},{key:"getPlane",value:function(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}},{key:"getBarycoord",value:function(t,n){return e.getBarycoord(t,this.a,this.b,this.c,n)}},{key:"getUV",value:function(t,n,r,i,a){return!1===qs&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),qs=!0),e.getInterpolation(t,this.a,this.b,this.c,n,r,i,a)}},{key:"getInterpolation",value:function(t,n,r,i,a){return e.getInterpolation(t,this.a,this.b,this.c,n,r,i,a)}},{key:"containsPoint",value:function(t){return e.containsPoint(t,this.a,this.b,this.c)}},{key:"isFrontFacing",value:function(t){return e.isFrontFacing(this.a,this.b,this.c,t)}},{key:"intersectsBox",value:function(e){return e.intersectsTriangle(this)}},{key:"closestPointToPoint",value:function(e,t){var n,r,i=this.a,a=this.b,A=this.c;js.subVectors(a,i),Qs.subVectors(A,i),Js.subVectors(e,i);var o=js.dot(Js),s=Qs.dot(Js);if(o<=0&&s<=0)return t.copy(i);Ks.subVectors(e,a);var l=js.dot(Ks),u=Qs.dot(Ks);if(l>=0&&u<=l)return t.copy(a);var c=o*u-l*s;if(c<=0&&o>=0&&l<=0)return n=o/(o-l),t.copy(i).addScaledVector(js,n);Ys.subVectors(e,A);var f=js.dot(Ys),d=Qs.dot(Ys);if(d>=0&&f<=d)return t.copy(A);var h=f*s-o*d;if(h<=0&&s>=0&&d<=0)return r=s/(s-d),t.copy(i).addScaledVector(Qs,r);var p=l*d-f*u;if(p<=0&&u-l>=0&&f-d>=0)return Xs.subVectors(A,a),r=(u-l)/(u-l+(f-d)),t.copy(a).addScaledVector(Xs,r);var v=1/(p+h+c);return n=h*v,r=c*v,t.copy(i).addScaledVector(js,n).addScaledVector(Qs,r)}},{key:"equals",value:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}],[{key:"getNormal",value:function(e,t,n,r){r.subVectors(n,t),Gs.subVectors(e,t),r.cross(Gs);var i=r.lengthSq();return i>0?r.multiplyScalar(1/Math.sqrt(i)):r.set(0,0,0)}},{key:"getBarycoord",value:function(e,t,n,r,i){Gs.subVectors(r,t),Hs.subVectors(n,t),Vs.subVectors(e,t);var a=Gs.dot(Gs),A=Gs.dot(Hs),o=Gs.dot(Vs),s=Hs.dot(Hs),l=Hs.dot(Vs),u=a*s-A*A;if(0===u)return i.set(-2,-1,-1);var c=1/u,f=(s*o-A*l)*c,d=(a*l-A*o)*c;return i.set(1-f-d,d,f)}},{key:"containsPoint",value:function(e,t,n,r){return this.getBarycoord(e,t,n,r,Ws),Ws.x>=0&&Ws.y>=0&&Ws.x+Ws.y<=1}},{key:"getUV",value:function(e,t,n,r,i,a,A,o){return!1===qs&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),qs=!0),this.getInterpolation(e,t,n,r,i,a,A,o)}},{key:"getInterpolation",value:function(e,t,n,r,i,a,A,o){return this.getBarycoord(e,t,n,r,Ws),o.setScalar(0),o.addScaledVector(i,Ws.x),o.addScaledVector(a,Ws.y),o.addScaledVector(A,Ws.z),o}},{key:"isFrontFacing",value:function(e,t,n,r){return Gs.subVectors(n,t),Hs.subVectors(e,t),Gs.cross(Hs).dot(r)<0}}]),e}(),$s=0,el=function(e){br(n,e);var t=Er(n);function n(){var e;return vr(this,n),(e=t.call(this)).isMaterial=!0,Object.defineProperty(wr(e),"id",{value:$s++}),e.uuid=ZA(),e.name="",e.type="Material",e.blending=Jr,e.side=Vr,e.vertexColors=!1,e.opacity=1,e.transparent=!1,e.blendSrc=si,e.blendDst=li,e.blendEquation=$r,e.blendSrcAlpha=null,e.blendDstAlpha=null,e.blendEquationAlpha=null,e.depthFunc=gi,e.depthTest=!0,e.depthWrite=!0,e.stencilWriteMask=255,e.stencilFunc=DA,e.stencilRef=0,e.stencilFuncMask=255,e.stencilFail=bA,e.stencilZFail=bA,e.stencilZPass=bA,e.stencilWrite=!1,e.clippingPlanes=null,e.clipIntersection=!1,e.clipShadows=!1,e.shadowSide=null,e.colorWrite=!0,e.precision=null,e.polygonOffset=!1,e.polygonOffsetFactor=0,e.polygonOffsetUnits=0,e.dithering=!1,e.alphaToCoverage=!1,e.premultipliedAlpha=!1,e.forceSinglePass=!1,e.visible=!0,e.toneMapped=!0,e.userData={},e.version=0,e._alphaTest=0,e}return gr(n,[{key:"alphaTest",get:function(){return this._alphaTest},set:function(e){this._alphaTest>0!==e>0&&this.version++,this._alphaTest=e}},{key:"onBuild",value:function(){}},{key:"onBeforeRender",value:function(){}},{key:"onBeforeCompile",value:function(){}},{key:"customProgramCacheKey",value:function(){return this.onBeforeCompile.toString()}},{key:"setValues",value:function(e){if(void 0!==e)for(var t in e){var n=e[t];if(void 0!==n){var r=this[t];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n:console.warn("THREE.Material: '".concat(t,"' is not a property of THREE.").concat(this.type,"."))}else console.warn("THREE.Material: parameter '".concat(t,"' has value of undefined."))}}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e;t&&(e={textures:{},images:{}});var n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function r(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),void 0!==this.sheen&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.iridescence&&(n.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(n.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(n.combine=this.combine)),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(n.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(n.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(n.size=this.size),null!==this.shadowSide&&(n.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==Jr&&(n.blending=this.blending),this.side!==Vr&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.colorWrite=this.colorWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,void 0!==this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.alphaToCoverage&&(n.alphaToCoverage=this.alphaToCoverage),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.forceSinglePass&&(n.forceSinglePass=this.forceSinglePass),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(n.flatShading=this.flatShading),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),!1===this.fog&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData),t){var i=r(e.textures),a=r(e.images);i.length>0&&(n.textures=i),a.length>0&&(n.images=a)}return n}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;var t=e.clippingPlanes,n=null;if(null!==t){var r=t.length;n=new Array(r);for(var i=0;i!==r;++i)n[i]=t[i].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}}]),n}(XA),tl={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},nl={h:0,s:0,l:0},rl={h:0,s:0,l:0};function il(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}var al=function(e){function t(e,n,r){return vr(this,t),this.isColor=!0,this.r=1,this.g=1,this.b=1,void 0===n&&void 0===r?this.set(e):this.setRGB(e,n,r)}return gr(t,[{key:"set",value:function(e){return e&&e.isColor?this.copy(e):"number"===typeof e?this.setHex(e):"string"===typeof e&&this.setStyle(e),this}},{key:"setScalar",value:function(e){return this.r=e,this.g=e,this.b=e,this}},{key:"setHex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vA;return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,Mo.toWorkingColorSpace(this,t),this}},{key:"setRGB",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Mo.workingColorSpace;return this.r=e,this.g=t,this.b=n,Mo.toWorkingColorSpace(this,r),this}},{key:"setHSL",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Mo.workingColorSpace;if(e=eo(e,1),t=$A(t,0,1),n=$A(n,0,1),0===t)this.r=this.g=this.b=n;else{var i=n<=.5?n*(1+t):n+t-n*t,a=2*n-i;this.r=il(a,i,e+1/3),this.g=il(a,i,e),this.b=il(a,i,e-1/3)}return Mo.toWorkingColorSpace(this,r),this}},{key:"setStyle",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vA;function r(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}if(t=/^(\w+)\(([^\)]*)\)/.exec(e)){var i,a=t[1],A=t[2];switch(a){case"rgb":case"rgba":if(i=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(A))return r(i[4]),this.setRGB(Math.min(255,parseInt(i[1],10))/255,Math.min(255,parseInt(i[2],10))/255,Math.min(255,parseInt(i[3],10))/255,n);if(i=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(A))return r(i[4]),this.setRGB(Math.min(100,parseInt(i[1],10))/100,Math.min(100,parseInt(i[2],10))/100,Math.min(100,parseInt(i[3],10))/100,n);break;case"hsl":case"hsla":if(i=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(A))return r(i[4]),this.setHSL(parseFloat(i[1])/360,parseFloat(i[2])/100,parseFloat(i[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(t=/^\#([A-Fa-f\d]+)$/.exec(e)){var o=t[1],s=o.length;if(3===s)return this.setRGB(parseInt(o.charAt(0),16)/15,parseInt(o.charAt(1),16)/15,parseInt(o.charAt(2),16)/15,n);if(6===s)return this.setHex(parseInt(o,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}},{key:"setColorName",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vA,n=tl[e.toLowerCase()];return void 0!==n?this.setHex(n,t):console.warn("THREE.Color: Unknown color "+e),this}},{key:"clone",value:function(){return new this.constructor(this.r,this.g,this.b)}},{key:"copy",value:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}},{key:"copySRGBToLinear",value:function(e){return this.r=go(e.r),this.g=go(e.g),this.b=go(e.b),this}},{key:"copyLinearToSRGB",value:function(e){return this.r=yo(e.r),this.g=yo(e.g),this.b=yo(e.b),this}},{key:"convertSRGBToLinear",value:function(){return this.copySRGBToLinear(this),this}},{key:"convertLinearToSRGB",value:function(){return this.copyLinearToSRGB(this),this}},{key:"getHex",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vA;return Mo.fromWorkingColorSpace(Al.copy(this),e),65536*Math.round($A(255*Al.r,0,255))+256*Math.round($A(255*Al.g,0,255))+Math.round($A(255*Al.b,0,255))}},{key:"getHexString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vA;return("000000"+this.getHex(e).toString(16)).slice(-6)}},{key:"getHSL",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Mo.workingColorSpace;Mo.fromWorkingColorSpace(Al.copy(this),t);var n,r,i=Al.r,a=Al.g,A=Al.b,o=Math.max(i,a,A),s=Math.min(i,a,A),l=(s+o)/2;if(s===o)n=0,r=0;else{var u=o-s;switch(r=l<=.5?u/(o+s):u/(2-o-s),o){case i:n=(a-A)/u+(a<A?6:0);break;case a:n=(A-i)/u+2;break;case A:n=(i-a)/u+4}n/=6}return e.h=n,e.s=r,e.l=l,e}},{key:"getRGB",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Mo.workingColorSpace;return Mo.fromWorkingColorSpace(Al.copy(this),t),e.r=Al.r,e.g=Al.g,e.b=Al.b,e}},{key:"getStyle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vA;Mo.fromWorkingColorSpace(Al.copy(this),e);var t=Al.r,n=Al.g,r=Al.b;return e!==vA?"color(".concat(e," ").concat(t.toFixed(3)," ").concat(n.toFixed(3)," ").concat(r.toFixed(3),")"):"rgb(".concat(Math.round(255*t),",").concat(Math.round(255*n),",").concat(Math.round(255*r),")")}},{key:"offsetHSL",value:function(e,t,n){return this.getHSL(nl),nl.h+=e,nl.s+=t,nl.l+=n,this.setHSL(nl.h,nl.s,nl.l),this}},{key:"add",value:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}},{key:"addColors",value:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}},{key:"addScalar",value:function(e){return this.r+=e,this.g+=e,this.b+=e,this}},{key:"sub",value:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}},{key:"multiply",value:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}},{key:"multiplyScalar",value:function(e){return this.r*=e,this.g*=e,this.b*=e,this}},{key:"lerp",value:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}},{key:"lerpColors",value:function(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}},{key:"lerpHSL",value:function(e,t){this.getHSL(nl),e.getHSL(rl);var n=to(nl.h,rl.h,t),r=to(nl.s,rl.s,t),i=to(nl.l,rl.l,t);return this.setHSL(n,r,i),this}},{key:"setFromVector3",value:function(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}},{key:"applyMatrix3",value:function(e){var t=this.r,n=this.g,r=this.b,i=e.elements;return this.r=i[0]*t+i[3]*n+i[6]*r,this.g=i[1]*t+i[4]*n+i[7]*r,this.b=i[2]*t+i[5]*n+i[8]*r,this}},{key:"equals",value:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}},{key:"fromBufferAttribute",value:function(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}},{key:"toJSON",value:function(){return this.getHex()}},{key:Symbol.iterator,value:Rr().mark((function e(){return Rr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.r;case 2:return e.next=4,this.g;case 4:return e.next=6,this.b;case 6:case"end":return e.stop()}}),e,this)}))}]),t}(),Al=new al;al.NAMES=tl;var ol=function(e){br(n,e);var t=Er(n);function n(e){var r;return vr(this,n),(r=t.call(this)).isMeshBasicMaterial=!0,r.type="MeshBasicMaterial",r.color=new al(16777215),r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.specularMap=null,r.alphaMap=null,r.envMap=null,r.combine=wi,r.reflectivity=1,r.refractionRatio=.98,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.fog=!0,r.setValues(e),r}return gr(n,[{key:"copy",value:function(e){return Br(xr(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}]),n}(el),sl=ll();function ll(){for(var e=new ArrayBuffer(4),t=new Float32Array(e),n=new Uint32Array(e),r=new Uint32Array(512),i=new Uint32Array(512),a=0;a<256;++a){var A=a-127;A<-27?(r[a]=0,r[256|a]=32768,i[a]=24,i[256|a]=24):A<-14?(r[a]=1024>>-A-14,r[256|a]=1024>>-A-14|32768,i[a]=-A-1,i[256|a]=-A-1):A<=15?(r[a]=A+15<<10,r[256|a]=A+15<<10|32768,i[a]=13,i[256|a]=13):A<128?(r[a]=31744,r[256|a]=64512,i[a]=24,i[256|a]=24):(r[a]=31744,r[256|a]=64512,i[a]=13,i[256|a]=13)}for(var o=new Uint32Array(2048),s=new Uint32Array(64),l=new Uint32Array(64),u=1;u<1024;++u){for(var c=u<<13,f=0;0===(8388608&c);)c<<=1,f-=8388608;c&=-8388609,f+=947912704,o[u]=c|f}for(var d=1024;d<2048;++d)o[d]=939524096+(d-1024<<13);for(var h=1;h<31;++h)s[h]=h<<23;s[31]=1199570944,s[32]=2147483648;for(var p=33;p<63;++p)s[p]=2147483648+(p-32<<23);s[63]=3347054592;for(var v=1;v<64;++v)32!==v&&(l[v]=1024);return{floatView:t,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:o,exponentTable:s,offsetTable:l}}function ul(e){Math.abs(e)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),e=$A(e,-65504,65504),sl.floatView[0]=e;var t=sl.uint32View[0],n=t>>23&511;return sl.baseTable[n]+((8388607&t)>>sl.shiftTable[n])}function cl(e){var t=e>>10;return sl.uint32View[0]=sl.mantissaTable[sl.offsetTable[t]+(1023&e)]+sl.exponentTable[t],sl.floatView[0]}var fl={toHalfFloat:ul,fromHalfFloat:cl},dl=new Fo,hl=new so,pl=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(vr(this,e),Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=t,this.itemSize=n,this.count=void 0!==t?t.length/n:0,this.normalized=r,this.usage=LA,this.updateRange={offset:0,count:-1},this.version=0}return gr(e,[{key:"onUploadCallback",value:function(){}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"setUsage",value:function(e){return this.usage=e,this}},{key:"copy",value:function(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}},{key:"copyAt",value:function(e,t,n){e*=this.itemSize,n*=t.itemSize;for(var r=0,i=this.itemSize;r<i;r++)this.array[e+r]=t.array[n+r];return this}},{key:"copyArray",value:function(e){return this.array.set(e),this}},{key:"applyMatrix3",value:function(e){if(2===this.itemSize)for(var t=0,n=this.count;t<n;t++)hl.fromBufferAttribute(this,t),hl.applyMatrix3(e),this.setXY(t,hl.x,hl.y);else if(3===this.itemSize)for(var r=0,i=this.count;r<i;r++)dl.fromBufferAttribute(this,r),dl.applyMatrix3(e),this.setXYZ(r,dl.x,dl.y,dl.z);return this}},{key:"applyMatrix4",value:function(e){for(var t=0,n=this.count;t<n;t++)dl.fromBufferAttribute(this,t),dl.applyMatrix4(e),this.setXYZ(t,dl.x,dl.y,dl.z);return this}},{key:"applyNormalMatrix",value:function(e){for(var t=0,n=this.count;t<n;t++)dl.fromBufferAttribute(this,t),dl.applyNormalMatrix(e),this.setXYZ(t,dl.x,dl.y,dl.z);return this}},{key:"transformDirection",value:function(e){for(var t=0,n=this.count;t<n;t++)dl.fromBufferAttribute(this,t),dl.transformDirection(e),this.setXYZ(t,dl.x,dl.y,dl.z);return this}},{key:"set",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(e,t),this}},{key:"getX",value:function(e){var t=this.array[e*this.itemSize];return this.normalized&&(t=ao(t,this.array)),t}},{key:"setX",value:function(e,t){return this.normalized&&(t=Ao(t,this.array)),this.array[e*this.itemSize]=t,this}},{key:"getY",value:function(e){var t=this.array[e*this.itemSize+1];return this.normalized&&(t=ao(t,this.array)),t}},{key:"setY",value:function(e,t){return this.normalized&&(t=Ao(t,this.array)),this.array[e*this.itemSize+1]=t,this}},{key:"getZ",value:function(e){var t=this.array[e*this.itemSize+2];return this.normalized&&(t=ao(t,this.array)),t}},{key:"setZ",value:function(e,t){return this.normalized&&(t=Ao(t,this.array)),this.array[e*this.itemSize+2]=t,this}},{key:"getW",value:function(e){var t=this.array[e*this.itemSize+3];return this.normalized&&(t=ao(t,this.array)),t}},{key:"setW",value:function(e,t){return this.normalized&&(t=Ao(t,this.array)),this.array[e*this.itemSize+3]=t,this}},{key:"setXY",value:function(e,t,n){return e*=this.itemSize,this.normalized&&(t=Ao(t,this.array),n=Ao(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}},{key:"setXYZ",value:function(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=Ao(t,this.array),n=Ao(n,this.array),r=Ao(r,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this}},{key:"setXYZW",value:function(e,t,n,r,i){return e*=this.itemSize,this.normalized&&(t=Ao(t,this.array),n=Ao(n,this.array),r=Ao(r,this.array),i=Ao(i,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=i,this}},{key:"onUpload",value:function(e){return this.onUploadCallback=e,this}},{key:"clone",value:function(){return new this.constructor(this.array,this.itemSize).copy(this)}},{key:"toJSON",value:function(){var e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),this.usage!==LA&&(e.usage=this.usage),0===this.updateRange.offset&&-1===this.updateRange.count||(e.updateRange=this.updateRange),e}},{key:"copyColorsArray",value:function(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}},{key:"copyVector2sArray",value:function(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}},{key:"copyVector3sArray",value:function(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}},{key:"copyVector4sArray",value:function(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}]),e}(),vl=function(e){br(n,e);var t=Er(n);function n(e,r,i){return vr(this,n),t.call(this,new Int8Array(e),r,i)}return gr(n)}(pl),ml=function(e){br(n,e);var t=Er(n);function n(e,r,i){return vr(this,n),t.call(this,new Uint8Array(e),r,i)}return gr(n)}(pl),gl=function(e){br(n,e);var t=Er(n);function n(e,r,i){return vr(this,n),t.call(this,new Uint8ClampedArray(e),r,i)}return gr(n)}(pl),yl=function(e){br(n,e);var t=Er(n);function n(e,r,i){return vr(this,n),t.call(this,new Int16Array(e),r,i)}return gr(n)}(pl),bl=function(e){br(n,e);var t=Er(n);function n(e,r,i){return vr(this,n),t.call(this,new Uint16Array(e),r,i)}return gr(n)}(pl),xl=function(e){br(n,e);var t=Er(n);function n(e,r,i){return vr(this,n),t.call(this,new Int32Array(e),r,i)}return gr(n)}(pl),_l=function(e){br(n,e);var t=Er(n);function n(e,r,i){return vr(this,n),t.call(this,new Uint32Array(e),r,i)}return gr(n)}(pl),wl=function(e){br(n,e);var t=Er(n);function n(e,r,i){var a;return vr(this,n),(a=t.call(this,new Uint16Array(e),r,i)).isFloat16BufferAttribute=!0,a}return gr(n,[{key:"getX",value:function(e){var t=cl(this.array[e*this.itemSize]);return this.normalized&&(t=ao(t,this.array)),t}},{key:"setX",value:function(e,t){return this.normalized&&(t=Ao(t,this.array)),this.array[e*this.itemSize]=ul(t),this}},{key:"getY",value:function(e){var t=cl(this.array[e*this.itemSize+1]);return this.normalized&&(t=ao(t,this.array)),t}},{key:"setY",value:function(e,t){return this.normalized&&(t=Ao(t,this.array)),this.array[e*this.itemSize+1]=ul(t),this}},{key:"getZ",value:function(e){var t=cl(this.array[e*this.itemSize+2]);return this.normalized&&(t=ao(t,this.array)),t}},{key:"setZ",value:function(e,t){return this.normalized&&(t=Ao(t,this.array)),this.array[e*this.itemSize+2]=ul(t),this}},{key:"getW",value:function(e){var t=cl(this.array[e*this.itemSize+3]);return this.normalized&&(t=ao(t,this.array)),t}},{key:"setW",value:function(e,t){return this.normalized&&(t=Ao(t,this.array)),this.array[e*this.itemSize+3]=ul(t),this}},{key:"setXY",value:function(e,t,n){return e*=this.itemSize,this.normalized&&(t=Ao(t,this.array),n=Ao(n,this.array)),this.array[e+0]=ul(t),this.array[e+1]=ul(n),this}},{key:"setXYZ",value:function(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=Ao(t,this.array),n=Ao(n,this.array),r=Ao(r,this.array)),this.array[e+0]=ul(t),this.array[e+1]=ul(n),this.array[e+2]=ul(r),this}},{key:"setXYZW",value:function(e,t,n,r,i){return e*=this.itemSize,this.normalized&&(t=Ao(t,this.array),n=Ao(n,this.array),r=Ao(r,this.array),i=Ao(i,this.array)),this.array[e+0]=ul(t),this.array[e+1]=ul(n),this.array[e+2]=ul(r),this.array[e+3]=ul(i),this}}]),n}(pl),El=function(e){br(n,e);var t=Er(n);function n(e,r,i){return vr(this,n),t.call(this,new Float32Array(e),r,i)}return gr(n)}(pl),Ml=function(e){br(n,e);var t=Er(n);function n(e,r,i){return vr(this,n),t.call(this,new Float64Array(e),r,i)}return gr(n)}(pl),Sl=0,Cl=new ps,Tl=new zs,kl=new Fo,Bl=new Ho,Rl=new Ho,Pl=new Fo,Il=function(e){br(n,e);var t=Er(n);function n(){var e;return vr(this,n),(e=t.call(this)).isBufferGeometry=!0,Object.defineProperty(wr(e),"id",{value:Sl++}),e.uuid=ZA(),e.name="",e.type="BufferGeometry",e.index=null,e.attributes={},e.morphAttributes={},e.morphTargetsRelative=!1,e.groups=[],e.boundingBox=null,e.boundingSphere=null,e.drawRange={start:0,count:1/0},e.userData={},e}return gr(n,[{key:"getIndex",value:function(){return this.index}},{key:"setIndex",value:function(e){return Array.isArray(e)?this.index=new(co(e)?_l:bl)(e,1):this.index=e,this}},{key:"getAttribute",value:function(e){return this.attributes[e]}},{key:"setAttribute",value:function(e,t){return this.attributes[e]=t,this}},{key:"deleteAttribute",value:function(e){return delete this.attributes[e],this}},{key:"hasAttribute",value:function(e){return void 0!==this.attributes[e]}},{key:"addGroup",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.groups.push({start:e,count:t,materialIndex:n})}},{key:"clearGroups",value:function(){this.groups=[]}},{key:"setDrawRange",value:function(e,t){this.drawRange.start=e,this.drawRange.count=t}},{key:"applyMatrix4",value:function(e){var t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);var n=this.attributes.normal;if(void 0!==n){var r=(new lo).getNormalMatrix(e);n.applyNormalMatrix(r),n.needsUpdate=!0}var i=this.attributes.tangent;return void 0!==i&&(i.transformDirection(e),i.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}},{key:"applyQuaternion",value:function(e){return Cl.makeRotationFromQuaternion(e),this.applyMatrix4(Cl),this}},{key:"rotateX",value:function(e){return Cl.makeRotationX(e),this.applyMatrix4(Cl),this}},{key:"rotateY",value:function(e){return Cl.makeRotationY(e),this.applyMatrix4(Cl),this}},{key:"rotateZ",value:function(e){return Cl.makeRotationZ(e),this.applyMatrix4(Cl),this}},{key:"translate",value:function(e,t,n){return Cl.makeTranslation(e,t,n),this.applyMatrix4(Cl),this}},{key:"scale",value:function(e,t,n){return Cl.makeScale(e,t,n),this.applyMatrix4(Cl),this}},{key:"lookAt",value:function(e){return Tl.lookAt(e),Tl.updateMatrix(),this.applyMatrix4(Tl.matrix),this}},{key:"center",value:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(kl).negate(),this.translate(kl.x,kl.y,kl.z),this}},{key:"setFromPoints",value:function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];t.push(i.x,i.y,i.z||0)}return this.setAttribute("position",new El(t,3)),this}},{key:"computeBoundingBox",value:function(){null===this.boundingBox&&(this.boundingBox=new Ho);var e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new Fo(-1/0,-1/0,-1/0),new Fo(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(var n=0,r=t.length;n<r;n++){var i=t[n];Bl.setFromBufferAttribute(i),this.morphTargetsRelative?(Pl.addVectors(this.boundingBox.min,Bl.min),this.boundingBox.expandByPoint(Pl),Pl.addVectors(this.boundingBox.max,Bl.max),this.boundingBox.expandByPoint(Pl)):(this.boundingBox.expandByPoint(Bl.min),this.boundingBox.expandByPoint(Bl.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}},{key:"computeBoundingSphere",value:function(){null===this.boundingSphere&&(this.boundingSphere=new As);var e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new Fo,1/0);if(e){var n=this.boundingSphere.center;if(Bl.setFromBufferAttribute(e),t)for(var r=0,i=t.length;r<i;r++){var a=t[r];Rl.setFromBufferAttribute(a),this.morphTargetsRelative?(Pl.addVectors(Bl.min,Rl.min),Bl.expandByPoint(Pl),Pl.addVectors(Bl.max,Rl.max),Bl.expandByPoint(Pl)):(Bl.expandByPoint(Rl.min),Bl.expandByPoint(Rl.max))}Bl.getCenter(n);for(var A=0,o=0,s=e.count;o<s;o++)Pl.fromBufferAttribute(e,o),A=Math.max(A,n.distanceToSquared(Pl));if(t)for(var l=0,u=t.length;l<u;l++)for(var c=t[l],f=this.morphTargetsRelative,d=0,h=c.count;d<h;d++)Pl.fromBufferAttribute(c,d),f&&(kl.fromBufferAttribute(e,d),Pl.add(kl)),A=Math.max(A,n.distanceToSquared(Pl));this.boundingSphere.radius=Math.sqrt(A),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}},{key:"computeTangents",value:function(){var e=this.index,t=this.attributes;if(null!==e&&void 0!==t.position&&void 0!==t.normal&&void 0!==t.uv){var n=e.array,r=t.position.array,i=t.normal.array,a=t.uv.array,A=r.length/3;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new pl(new Float32Array(4*A),4));for(var o=this.getAttribute("tangent").array,s=[],l=[],u=0;u<A;u++)s[u]=new Fo,l[u]=new Fo;var c=new Fo,f=new Fo,d=new Fo,h=new so,p=new so,v=new so,m=new Fo,g=new Fo,y=this.groups;0===y.length&&(y=[{start:0,count:n.length}]);for(var b=0,x=y.length;b<x;++b)for(var _=y[b],w=_.start,E=w,M=w+_.count;E<M;E+=3)U(n[E+0],n[E+1],n[E+2]);for(var S=new Fo,C=new Fo,T=new Fo,k=new Fo,B=0,R=y.length;B<R;++B)for(var P=y[B],I=P.start,D=I,L=I+P.count;D<L;D+=3)N(n[D+0]),N(n[D+1]),N(n[D+2])}else console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");function U(e,t,n){c.fromArray(r,3*e),f.fromArray(r,3*t),d.fromArray(r,3*n),h.fromArray(a,2*e),p.fromArray(a,2*t),v.fromArray(a,2*n),f.sub(c),d.sub(c),p.sub(h),v.sub(h);var i=1/(p.x*v.y-v.x*p.y);isFinite(i)&&(m.copy(f).multiplyScalar(v.y).addScaledVector(d,-p.y).multiplyScalar(i),g.copy(d).multiplyScalar(p.x).addScaledVector(f,-v.x).multiplyScalar(i),s[e].add(m),s[t].add(m),s[n].add(m),l[e].add(g),l[t].add(g),l[n].add(g))}function N(e){T.fromArray(i,3*e),k.copy(T);var t=s[e];S.copy(t),S.sub(T.multiplyScalar(T.dot(t))).normalize(),C.crossVectors(k,t);var n=C.dot(l[e])<0?-1:1;o[4*e]=S.x,o[4*e+1]=S.y,o[4*e+2]=S.z,o[4*e+3]=n}}},{key:"computeVertexNormals",value:function(){var e=this.index,t=this.getAttribute("position");if(void 0!==t){var n=this.getAttribute("normal");if(void 0===n)n=new pl(new Float32Array(3*t.count),3),this.setAttribute("normal",n);else for(var r=0,i=n.count;r<i;r++)n.setXYZ(r,0,0,0);var a=new Fo,A=new Fo,o=new Fo,s=new Fo,l=new Fo,u=new Fo,c=new Fo,f=new Fo;if(e)for(var d=0,h=e.count;d<h;d+=3){var p=e.getX(d+0),v=e.getX(d+1),m=e.getX(d+2);a.fromBufferAttribute(t,p),A.fromBufferAttribute(t,v),o.fromBufferAttribute(t,m),c.subVectors(o,A),f.subVectors(a,A),c.cross(f),s.fromBufferAttribute(n,p),l.fromBufferAttribute(n,v),u.fromBufferAttribute(n,m),s.add(c),l.add(c),u.add(c),n.setXYZ(p,s.x,s.y,s.z),n.setXYZ(v,l.x,l.y,l.z),n.setXYZ(m,u.x,u.y,u.z)}else for(var g=0,y=t.count;g<y;g+=3)a.fromBufferAttribute(t,g+0),A.fromBufferAttribute(t,g+1),o.fromBufferAttribute(t,g+2),c.subVectors(o,A),f.subVectors(a,A),c.cross(f),n.setXYZ(g+0,c.x,c.y,c.z),n.setXYZ(g+1,c.x,c.y,c.z),n.setXYZ(g+2,c.x,c.y,c.z);this.normalizeNormals(),n.needsUpdate=!0}}},{key:"merge",value:function(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeGeometries() instead."),this}},{key:"normalizeNormals",value:function(){for(var e=this.attributes.normal,t=0,n=e.count;t<n;t++)Pl.fromBufferAttribute(e,t),Pl.normalize(),e.setXYZ(t,Pl.x,Pl.y,Pl.z)}},{key:"toNonIndexed",value:function(){function e(e,t){for(var n=e.array,r=e.itemSize,i=e.normalized,a=new n.constructor(t.length*r),A=0,o=0,s=0,l=t.length;s<l;s++){A=e.isInterleavedBufferAttribute?t[s]*e.data.stride+e.offset:t[s]*r;for(var u=0;u<r;u++)a[o++]=n[A++]}return new pl(a,r,i)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;var t=new n,r=this.index.array,i=this.attributes;for(var a in i){var A=e(i[a],r);t.setAttribute(a,A)}var o=this.morphAttributes;for(var s in o){for(var l=[],u=o[s],c=0,f=u.length;c<f;c++){var d=e(u[c],r);l.push(d)}t.morphAttributes[s]=l}t.morphTargetsRelative=this.morphTargetsRelative;for(var h=this.groups,p=0,v=h.length;p<v;p++){var m=h[p];t.addGroup(m.start,m.count,m.materialIndex)}return t}},{key:"toJSON",value:function(){var e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){var t=this.parameters;for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};var r=this.index;null!==r&&(e.data.index={type:r.array.constructor.name,array:Array.prototype.slice.call(r.array)});var i=this.attributes;for(var a in i){var A=i[a];e.data.attributes[a]=A.toJSON(e.data)}var o={},s=!1;for(var l in this.morphAttributes){for(var u=this.morphAttributes[l],c=[],f=0,d=u.length;f<d;f++){var h=u[f];c.push(h.toJSON(e.data))}c.length>0&&(o[l]=c,s=!0)}s&&(e.data.morphAttributes=o,e.data.morphTargetsRelative=this.morphTargetsRelative);var p=this.groups;p.length>0&&(e.data.groups=JSON.parse(JSON.stringify(p)));var v=this.boundingSphere;return null!==v&&(e.data.boundingSphere={center:v.center.toArray(),radius:v.radius}),e}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;var t={};this.name=e.name;var n=e.index;null!==n&&this.setIndex(n.clone(t));var r=e.attributes;for(var i in r){var a=r[i];this.setAttribute(i,a.clone(t))}var A=e.morphAttributes;for(var o in A){for(var s=[],l=A[o],u=0,c=l.length;u<c;u++)s.push(l[u].clone(t));this.morphAttributes[o]=s}this.morphTargetsRelative=e.morphTargetsRelative;for(var f=e.groups,d=0,h=f.length;d<h;d++){var p=f[d];this.addGroup(p.start,p.count,p.materialIndex)}var v=e.boundingBox;null!==v&&(this.boundingBox=v.clone());var m=e.boundingSphere;return null!==m&&(this.boundingSphere=m.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),n}(XA),Dl=new ps,Ll=new hs,Ul=new As,Nl=new Fo,Ol=new Fo,Fl=new Fo,zl=new Fo,Gl=new Fo,Hl=new Fo,Vl=new so,Wl=new so,jl=new so,Ql=new Fo,Xl=new Fo,Jl=new Fo,Kl=new Fo,Yl=new Fo,ql=function(e){br(n,e);var t=Er(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Il,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ol;return vr(this,n),(e=t.call(this)).isMesh=!0,e.type="Mesh",e.geometry=r,e.material=i,e.updateMorphTargets(),e}return gr(n,[{key:"copy",value:function(e,t){return Br(xr(n.prototype),"copy",this).call(this,e,t),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}},{key:"updateMorphTargets",value:function(){var e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){var n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var r=0,i=n.length;r<i;r++){var a=n[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}},{key:"getVertexPosition",value:function(e,t){var n=this.geometry,r=n.attributes.position,i=n.morphAttributes.position,a=n.morphTargetsRelative;t.fromBufferAttribute(r,e);var A=this.morphTargetInfluences;if(i&&A){Hl.set(0,0,0);for(var o=0,s=i.length;o<s;o++){var l=A[o],u=i[o];0!==l&&(Gl.fromBufferAttribute(u,e),a?Hl.addScaledVector(Gl,l):Hl.addScaledVector(Gl.sub(t),l))}t.add(Hl)}return t}},{key:"raycast",value:function(e,t){var n=this.geometry,r=this.material,i=this.matrixWorld;if(void 0!==r){if(null===n.boundingSphere&&n.computeBoundingSphere(),Ul.copy(n.boundingSphere),Ul.applyMatrix4(i),Ll.copy(e.ray).recast(e.near),!1===Ul.containsPoint(Ll.origin)){if(null===Ll.intersectSphere(Ul,Nl))return;if(Ll.origin.distanceToSquared(Nl)>Math.pow(e.far-e.near,2))return}Dl.copy(i).invert(),Ll.copy(e.ray).applyMatrix4(Dl),null!==n.boundingBox&&!1===Ll.intersectsBox(n.boundingBox)||this._computeIntersections(e,t)}}},{key:"_computeIntersections",value:function(e,t){var n,r=this.geometry,i=this.material,a=r.index,A=r.attributes.position,o=r.attributes.uv,s=r.attributes.uv1,l=r.attributes.normal,u=r.groups,c=r.drawRange;if(null!==a)if(Array.isArray(i))for(var f=0,d=u.length;f<d;f++)for(var h=u[f],p=i[h.materialIndex],v=Math.max(h.start,c.start),m=Math.min(a.count,Math.min(h.start+h.count,c.start+c.count));v<m;v+=3){var g=a.getX(v),y=a.getX(v+1),b=a.getX(v+2);(n=Zl(this,p,e,Ll,o,s,l,g,y,b))&&(n.faceIndex=Math.floor(v/3),n.face.materialIndex=h.materialIndex,t.push(n))}else for(var x=Math.max(0,c.start),_=Math.min(a.count,c.start+c.count);x<_;x+=3){var w=a.getX(x),E=a.getX(x+1),M=a.getX(x+2);(n=Zl(this,i,e,Ll,o,s,l,w,E,M))&&(n.faceIndex=Math.floor(x/3),t.push(n))}else if(void 0!==A)if(Array.isArray(i))for(var S=0,C=u.length;S<C;S++)for(var T=u[S],k=i[T.materialIndex],B=Math.max(T.start,c.start),R=Math.min(A.count,Math.min(T.start+T.count,c.start+c.count));B<R;B+=3){(n=Zl(this,k,e,Ll,o,s,l,B,B+1,B+2))&&(n.faceIndex=Math.floor(B/3),n.face.materialIndex=T.materialIndex,t.push(n))}else for(var P=Math.max(0,c.start),I=Math.min(A.count,c.start+c.count);P<I;P+=3){(n=Zl(this,i,e,Ll,o,s,l,P,P+1,P+2))&&(n.faceIndex=Math.floor(P/3),t.push(n))}}}]),n}(zs);function Zl(e,t,n,r,i,a,A,o,s,l){e.getVertexPosition(o,Ol),e.getVertexPosition(s,Fl),e.getVertexPosition(l,zl);var u=function(e,t,n,r,i,a,A,o){if(null===(t.side===Wr?r.intersectTriangle(A,a,i,!0,o):r.intersectTriangle(i,a,A,t.side===Vr,o)))return null;Yl.copy(o),Yl.applyMatrix4(e.matrixWorld);var s=n.ray.origin.distanceTo(Yl);return s<n.near||s>n.far?null:{distance:s,point:Yl.clone(),object:e}}(e,t,n,r,Ol,Fl,zl,Kl);if(u){i&&(Vl.fromBufferAttribute(i,o),Wl.fromBufferAttribute(i,s),jl.fromBufferAttribute(i,l),u.uv=Zs.getInterpolation(Kl,Ol,Fl,zl,Vl,Wl,jl,new so)),a&&(Vl.fromBufferAttribute(a,o),Wl.fromBufferAttribute(a,s),jl.fromBufferAttribute(a,l),u.uv1=Zs.getInterpolation(Kl,Ol,Fl,zl,Vl,Wl,jl,new so),u.uv2=u.uv1),A&&(Ql.fromBufferAttribute(A,o),Xl.fromBufferAttribute(A,s),Jl.fromBufferAttribute(A,l),u.normal=Zs.getInterpolation(Kl,Ol,Fl,zl,Ql,Xl,Jl,new Fo),u.normal.dot(r.direction)>0&&u.normal.multiplyScalar(-1));var c={a:o,b:s,c:l,normal:new Fo,materialIndex:0};Zs.getNormal(Ol,Fl,zl,c.normal),u.face=c}return u}var $l=function(e){br(n,e);var t=Er(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,A=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;vr(this,n),(e=t.call(this)).type="BoxGeometry",e.parameters={width:r,height:i,depth:a,widthSegments:A,heightSegments:o,depthSegments:s};var l=wr(e);A=Math.floor(A),o=Math.floor(o),s=Math.floor(s);var u=[],c=[],f=[],d=[],h=0,p=0;function v(e,t,n,r,i,a,A,o,s,v,m){for(var g=a/s,y=A/v,b=a/2,x=A/2,_=o/2,w=s+1,E=v+1,M=0,S=0,C=new Fo,T=0;T<E;T++)for(var k=T*y-x,B=0;B<w;B++){var R=B*g-b;C[e]=R*r,C[t]=k*i,C[n]=_,c.push(C.x,C.y,C.z),C[e]=0,C[t]=0,C[n]=o>0?1:-1,f.push(C.x,C.y,C.z),d.push(B/s),d.push(1-T/v),M+=1}for(var P=0;P<v;P++)for(var I=0;I<s;I++){var D=h+I+w*P,L=h+I+w*(P+1),U=h+(I+1)+w*(P+1),N=h+(I+1)+w*P;u.push(D,L,N),u.push(L,U,N),S+=6}l.addGroup(p,S,m),p+=S,h+=M}return v("z","y","x",-1,-1,a,i,r,s,o,0),v("z","y","x",1,-1,a,i,-r,s,o,1),v("x","z","y",1,1,r,a,i,A,s,2),v("x","z","y",1,-1,r,a,-i,A,s,3),v("x","y","z",1,-1,r,i,a,A,o,4),v("x","y","z",-1,-1,r,i,-a,A,o,5),e.setIndex(u),e.setAttribute("position",new El(c,3)),e.setAttribute("normal",new El(f,3)),e.setAttribute("uv",new El(d,2)),e}return gr(n,[{key:"copy",value:function(e){return Br(xr(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}],[{key:"fromJSON",value:function(e){return new n(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}]),n}(Il);function eu(e){var t={};for(var n in e)for(var r in t[n]={},e[n]){var i=e[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),t[n][r]=null):t[n][r]=i.clone():Array.isArray(i)?t[n][r]=i.slice():t[n][r]=i}return t}function tu(e){for(var t={},n=0;n<e.length;n++){var r=eu(e[n]);for(var i in r)t[i]=r[i]}return t}function nu(e){return null===e.getRenderTarget()?e.outputColorSpace:mA}var ru={clone:eu,merge:tu},iu=function(e){br(n,e);var t=Er(n);function n(e){var r;return vr(this,n),(r=t.call(this)).isShaderMaterial=!0,r.type="ShaderMaterial",r.defines={},r.uniforms={},r.uniformsGroups=[],r.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",r.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",r.linewidth=1,r.wireframe=!1,r.wireframeLinewidth=1,r.fog=!1,r.lights=!1,r.clipping=!1,r.forceSinglePass=!0,r.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},r.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},r.index0AttributeName=void 0,r.uniformsNeedUpdate=!1,r.glslVersion=null,void 0!==e&&r.setValues(e),r}return gr(n,[{key:"copy",value:function(e){return Br(xr(n.prototype),"copy",this).call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=eu(e.uniforms),this.uniformsGroups=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n].clone());return t}(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}},{key:"toJSON",value:function(e){var t=Br(xr(n.prototype),"toJSON",this).call(this,e);for(var r in t.glslVersion=this.glslVersion,t.uniforms={},this.uniforms){var i=this.uniforms[r].value;i&&i.isTexture?t.uniforms[r]={type:"t",value:i.toJSON(e).uuid}:i&&i.isColor?t.uniforms[r]={type:"c",value:i.getHex()}:i&&i.isVector2?t.uniforms[r]={type:"v2",value:i.toArray()}:i&&i.isVector3?t.uniforms[r]={type:"v3",value:i.toArray()}:i&&i.isVector4?t.uniforms[r]={type:"v4",value:i.toArray()}:i&&i.isMatrix3?t.uniforms[r]={type:"m3",value:i.toArray()}:i&&i.isMatrix4?t.uniforms[r]={type:"m4",value:i.toArray()}:t.uniforms[r]={value:i}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;var a={};for(var A in this.extensions)!0===this.extensions[A]&&(a[A]=!0);return Object.keys(a).length>0&&(t.extensions=a),t}}]),n}(el),au=function(e){br(n,e);var t=Er(n);function n(){var e;return vr(this,n),(e=t.call(this)).isCamera=!0,e.type="Camera",e.matrixWorldInverse=new ps,e.projectionMatrix=new ps,e.projectionMatrixInverse=new ps,e}return gr(n,[{key:"copy",value:function(e,t){return Br(xr(n.prototype),"copy",this).call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}},{key:"getWorldDirection",value:function(e){this.updateWorldMatrix(!0,!1);var t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}},{key:"updateMatrixWorld",value:function(e){Br(xr(n.prototype),"updateMatrixWorld",this).call(this,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}},{key:"updateWorldMatrix",value:function(e,t){Br(xr(n.prototype),"updateWorldMatrix",this).call(this,e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),n}(zs),Au=function(e){br(n,e);var t=Er(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,A=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2e3;return vr(this,n),(e=t.call(this)).isPerspectiveCamera=!0,e.type="PerspectiveCamera",e.fov=r,e.zoom=1,e.near=a,e.far=A,e.focus=10,e.aspect=i,e.view=null,e.filmGauge=35,e.filmOffset=0,e.updateProjectionMatrix(),e}return gr(n,[{key:"copy",value:function(e,t){return Br(xr(n.prototype),"copy",this).call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}},{key:"setFocalLength",value:function(e){var t=.5*this.getFilmHeight()/e;this.fov=2*qA*Math.atan(t),this.updateProjectionMatrix()}},{key:"getFocalLength",value:function(){var e=Math.tan(.5*YA*this.fov);return.5*this.getFilmHeight()/e}},{key:"getEffectiveFOV",value:function(){return 2*qA*Math.atan(Math.tan(.5*YA*this.fov)/this.zoom)}},{key:"getFilmWidth",value:function(){return this.filmGauge*Math.min(this.aspect,1)}},{key:"getFilmHeight",value:function(){return this.filmGauge/Math.max(this.aspect,1)}},{key:"setViewOffset",value:function(e,t,n,r,i,a){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()}},{key:"clearViewOffset",value:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}},{key:"updateProjectionMatrix",value:function(){var e=this.near,t=e*Math.tan(.5*YA*this.fov)/this.zoom,n=2*t,r=this.aspect*n,i=-.5*r,a=this.view;if(null!==this.view&&this.view.enabled){var A=a.fullWidth,o=a.fullHeight;i+=a.offsetX*r/A,t-=a.offsetY*n/o,r*=a.width/A,n*=a.height/o}var s=this.filmOffset;0!==s&&(i+=e*s/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,t,t-n,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}},{key:"toJSON",value:function(e){var t=Br(xr(n.prototype),"toJSON",this).call(this,e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}]),n}(au),ou=-90,su=function(e){br(n,e);var t=Er(n);function n(e,r,i){var a;vr(this,n),(a=t.call(this)).type="CubeCamera",a.renderTarget=i;var A=new Au(ou,1,e,r);A.layers=a.layers,A.up.set(0,1,0),A.lookAt(1,0,0),a.add(A);var o=new Au(ou,1,e,r);o.layers=a.layers,o.up.set(0,1,0),o.lookAt(-1,0,0),a.add(o);var s=new Au(ou,1,e,r);s.layers=a.layers,s.up.set(0,0,-1),s.lookAt(0,1,0),a.add(s);var l=new Au(ou,1,e,r);l.layers=a.layers,l.up.set(0,0,1),l.lookAt(0,-1,0),a.add(l);var u=new Au(ou,1,e,r);u.layers=a.layers,u.up.set(0,1,0),u.lookAt(0,0,1),a.add(u);var c=new Au(ou,1,e,r);return c.layers=a.layers,c.up.set(0,1,0),c.lookAt(0,0,-1),a.add(c),a}return gr(n,[{key:"update",value:function(e,t){null===this.parent&&this.updateMatrixWorld();var n=this.renderTarget,r=m(this.children,6),i=r[0],a=r[1],A=r[2],o=r[3],s=r[4],l=r[5],u=e.getRenderTarget(),c=e.toneMapping,f=e.xr.enabled;e.toneMapping=Si,e.xr.enabled=!1;var d=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0),e.render(t,i),e.setRenderTarget(n,1),e.render(t,a),e.setRenderTarget(n,2),e.render(t,A),e.setRenderTarget(n,3),e.render(t,o),e.setRenderTarget(n,4),e.render(t,s),n.texture.generateMipmaps=d,e.setRenderTarget(n,5),e.render(t,l),e.setRenderTarget(u),e.toneMapping=c,e.xr.enabled=f,n.texture.needsPMREMUpdate=!0}}]),n}(zs),lu=function(e){br(n,e);var t=Er(n);function n(e,r,i,a,A,o,s,l,u,c){var f;return vr(this,n),e=void 0!==e?e:[],r=void 0!==r?r:Ii,(f=t.call(this,e,r,i,a,A,o,s,l,u,c)).isCubeTexture=!0,f.flipY=!1,f}return gr(n,[{key:"images",get:function(){return this.image},set:function(e){this.image=e}}]),n}(Bo),uu=function(e){br(n,e);var t=Er(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};vr(this,n),(e=t.call(this,r,r,i)).isWebGLCubeRenderTarget=!0;var a={width:r,height:r,depth:1},A=[a,a,a,a,a,a];return void 0!==i.encoding&&(mo("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),i.colorSpace=i.encoding===uA?vA:pA),e.texture=new lu(A,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace),e.texture.isRenderTargetTexture=!0,e.texture.generateMipmaps=void 0!==i.generateMipmaps&&i.generateMipmaps,e.texture.minFilter=void 0!==i.minFilter?i.minFilter:Qi,e}return gr(n,[{key:"fromEquirectangularTexture",value:function(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;var n={tEquirect:{value:null}},r="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",i="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",a=new $l(5,5,5),A=new iu({name:"CubemapFromEquirect",uniforms:eu(n),vertexShader:r,fragmentShader:i,side:Wr,blending:Xr});A.uniforms.tEquirect.value=t;var o=new ql(a,A),s=t.minFilter;return t.minFilter===Ki&&(t.minFilter=Qi),new su(1,10,this).update(e,o),t.minFilter=s,o.geometry.dispose(),o.material.dispose(),this}},{key:"clear",value:function(e,t,n,r){for(var i=e.getRenderTarget(),a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(t,n,r);e.setRenderTarget(i)}}]),n}(Po),cu=new Fo,fu=new Fo,du=new lo,hu=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Fo(1,0,0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;vr(this,e),this.isPlane=!0,this.normal=t,this.constant=n}return gr(e,[{key:"set",value:function(e,t){return this.normal.copy(e),this.constant=t,this}},{key:"setComponents",value:function(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this}},{key:"setFromNormalAndCoplanarPoint",value:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}},{key:"setFromCoplanarPoints",value:function(e,t,n){var r=cu.subVectors(n,t).cross(fu.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}},{key:"copy",value:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this}},{key:"normalize",value:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}},{key:"negate",value:function(){return this.constant*=-1,this.normal.negate(),this}},{key:"distanceToPoint",value:function(e){return this.normal.dot(e)+this.constant}},{key:"distanceToSphere",value:function(e){return this.distanceToPoint(e.center)-e.radius}},{key:"projectPoint",value:function(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}},{key:"intersectLine",value:function(e,t){var n=e.delta(cu),r=this.normal.dot(n);if(0===r)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;var i=-(e.start.dot(this.normal)+this.constant)/r;return i<0||i>1?null:t.copy(e.start).addScaledVector(n,i)}},{key:"intersectsLine",value:function(e){var t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}},{key:"intersectsBox",value:function(e){return e.intersectsPlane(this)}},{key:"intersectsSphere",value:function(e){return e.intersectsPlane(this)}},{key:"coplanarPoint",value:function(e){return e.copy(this.normal).multiplyScalar(-this.constant)}},{key:"applyMatrix4",value:function(e,t){var n=t||du.getNormalMatrix(e),r=this.coplanarPoint(cu).applyMatrix4(e),i=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(i),this}},{key:"translate",value:function(e){return this.constant-=e.dot(this.normal),this}},{key:"equals",value:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),pu=new As,vu=new Fo,mu=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new hu,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new hu,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new hu,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new hu,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new hu,A=arguments.length>5&&void 0!==arguments[5]?arguments[5]:new hu;vr(this,e),this.planes=[t,n,r,i,a,A]}return gr(e,[{key:"set",value:function(e,t,n,r,i,a){var A=this.planes;return A[0].copy(e),A[1].copy(t),A[2].copy(n),A[3].copy(r),A[4].copy(i),A[5].copy(a),this}},{key:"copy",value:function(e){for(var t=this.planes,n=0;n<6;n++)t[n].copy(e.planes[n]);return this}},{key:"setFromProjectionMatrix",value:function(e){var t=this.planes,n=e.elements,r=n[0],i=n[1],a=n[2],A=n[3],o=n[4],s=n[5],l=n[6],u=n[7],c=n[8],f=n[9],d=n[10],h=n[11],p=n[12],v=n[13],m=n[14],g=n[15];return t[0].setComponents(A-r,u-o,h-c,g-p).normalize(),t[1].setComponents(A+r,u+o,h+c,g+p).normalize(),t[2].setComponents(A+i,u+s,h+f,g+v).normalize(),t[3].setComponents(A-i,u-s,h-f,g-v).normalize(),t[4].setComponents(A-a,u-l,h-d,g-m).normalize(),t[5].setComponents(A+a,u+l,h+d,g+m).normalize(),this}},{key:"intersectsObject",value:function(e){if(void 0!==e.boundingSphere)null===e.boundingSphere&&e.computeBoundingSphere(),pu.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{var t=e.geometry;null===t.boundingSphere&&t.computeBoundingSphere(),pu.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(pu)}},{key:"intersectsSprite",value:function(e){return pu.center.set(0,0,0),pu.radius=.7071067811865476,pu.applyMatrix4(e.matrixWorld),this.intersectsSphere(pu)}},{key:"intersectsSphere",value:function(e){for(var t=this.planes,n=e.center,r=-e.radius,i=0;i<6;i++){if(t[i].distanceToPoint(n)<r)return!1}return!0}},{key:"intersectsBox",value:function(e){for(var t=this.planes,n=0;n<6;n++){var r=t[n];if(vu.x=r.normal.x>0?e.max.x:e.min.x,vu.y=r.normal.y>0?e.max.y:e.min.y,vu.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(vu)<0)return!1}return!0}},{key:"containsPoint",value:function(e){for(var t=this.planes,n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}();function gu(){var e=null,t=!1,n=null,r=null;function i(t,a){n(t,a),r=e.requestAnimationFrame(i)}return{start:function(){!0!==t&&null!==n&&(r=e.requestAnimationFrame(i),t=!0)},stop:function(){e.cancelAnimationFrame(r),t=!1},setAnimationLoop:function(e){n=e},setContext:function(t){e=t}}}function yu(e,t){var n=t.isWebGL2,r=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),r.get(e)},remove:function(t){t.isInterleavedBufferAttribute&&(t=t.data);var n=r.get(t);n&&(e.deleteBuffer(n.buffer),r.delete(t))},update:function(t,i){if(t.isGLBufferAttribute){var a=r.get(t);(!a||a.version<t.version)&&r.set(t,{buffer:t.buffer,type:t.type,bytesPerElement:t.elementSize,version:t.version})}else{t.isInterleavedBufferAttribute&&(t=t.data);var A=r.get(t);void 0===A?r.set(t,function(t,r){var i,a=t.array,A=t.usage,o=e.createBuffer();if(e.bindBuffer(r,o),e.bufferData(r,a,A),t.onUploadCallback(),a instanceof Float32Array)i=e.FLOAT;else if(a instanceof Uint16Array)if(t.isFloat16BufferAttribute){if(!n)throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");i=e.HALF_FLOAT}else i=e.UNSIGNED_SHORT;else if(a instanceof Int16Array)i=e.SHORT;else if(a instanceof Uint32Array)i=e.UNSIGNED_INT;else if(a instanceof Int32Array)i=e.INT;else if(a instanceof Int8Array)i=e.BYTE;else if(a instanceof Uint8Array)i=e.UNSIGNED_BYTE;else{if(!(a instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+a);i=e.UNSIGNED_BYTE}return{buffer:o,type:i,bytesPerElement:a.BYTES_PER_ELEMENT,version:t.version}}(t,i)):A.version<t.version&&(!function(t,r,i){var a=r.array,A=r.updateRange;e.bindBuffer(i,t),-1===A.count?e.bufferSubData(i,0,a):(n?e.bufferSubData(i,A.offset*a.BYTES_PER_ELEMENT,a,A.offset,A.count):e.bufferSubData(i,A.offset*a.BYTES_PER_ELEMENT,a.subarray(A.offset,A.offset+A.count)),A.count=-1),r.onUploadCallback()}(A.buffer,t,i),A.version=t.version)}}}}var bu=function(e){br(n,e);var t=Er(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,A=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;vr(this,n),(e=t.call(this)).type="PlaneGeometry",e.parameters={width:r,height:i,widthSegments:a,heightSegments:A};for(var o=r/2,s=i/2,l=Math.floor(a),u=Math.floor(A),c=l+1,f=u+1,d=r/l,h=i/u,p=[],v=[],m=[],g=[],y=0;y<f;y++)for(var b=y*h-s,x=0;x<c;x++){var _=x*d-o;v.push(_,-b,0),m.push(0,0,1),g.push(x/l),g.push(1-y/u)}for(var w=0;w<u;w++)for(var E=0;E<l;E++){var M=E+c*w,S=E+c*(w+1),C=E+1+c*(w+1),T=E+1+c*w;p.push(M,S,T),p.push(S,C,T)}return e.setIndex(p),e.setAttribute("position",new El(v,3)),e.setAttribute("normal",new El(m,3)),e.setAttribute("uv",new El(g,2)),e}return gr(n,[{key:"copy",value:function(e){return Br(xr(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}],[{key:"fromJSON",value:function(e){return new n(e.width,e.height,e.widthSegments,e.heightSegments)}}]),n}(Il),xu={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\tif ( diffuseColor.a < alphaTest ) discard;\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"float G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n} // validated",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\t return vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat R21 = R12;\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vBumpMapUv );\n\t\tvec2 dSTdy = dFdy( vBumpMapUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = dFdx( surf_pos.xyz );\n\t\tvec3 vSigmaY = dFdy( surf_pos.xyz );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat luminance( const in vec3 rgb ) {\n\tconst vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );\n\treturn dot( weights, rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}\nvec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n} // validated",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\thighp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_v0 0.339\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_v1 0.276\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_v4 0.046\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_v5 0.016\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_v6 0.0038\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"vec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\treflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( LEGACY_LIGHTS )\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#else\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef USE_SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULAR_COLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;\n\t\t#endif\n\t\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;\n\t#endif\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n};\nvec3 clearcoatSpecular = vec3( 0.0 );\nvec3 sheenSpecular = vec3( 0.0 );\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\n#ifdef USE_CLEARCOAT\n\tvec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {\n\t\tvec3 f0 = material.clearcoatF0;\n\t\tfloat f90 = material.clearcoatF90;\n\t\tfloat roughness = material.clearcoatRoughness;\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {\n\tvec3 f0 = material.specularColor;\n\tfloat f90 = material.specularF90;\n\tfloat roughness = material.roughness;\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t#ifdef USE_IRIDESCENCE\n\t\tF = mix( F, material.iridescenceFresnel, material.iridescence );\n\t#endif\n\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecular += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef USE_CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometry.viewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometry, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry.normal );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometry.normal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, vMapUv );\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t#if defined( USE_POINTS_UV )\n\t\tvec2 uv = vUv;\n\t#else\n\t\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_POINTS_UV )\n\tvarying vec2 vUv;\n#else\n\t#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t\tuniform mat3 uvTransform;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform ivec2 morphTargetsTextureSize;\n\t\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal *= faceDirection;\n\t#endif\n#endif\n#ifdef USE_NORMALMAP_TANGENTSPACE\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn = getTangentFrame( - vViewPosition, normal, vNormalMapUv );\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn[0] *= faceDirection;\n\t\ttbn[1] *= faceDirection;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn2[0] *= faceDirection;\n\t\ttbn2[1] *= faceDirection;\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef USE_NORMALMAP_OBJECTSPACE\n\tnormal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( USE_NORMALMAP_TANGENTSPACE )\n\tvec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\tnormal = normalize( tbn * mapN );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef USE_NORMALMAP_OBJECTSPACE\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tmat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( uv.st );\n\t\tvec2 st1 = dFdy( uv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );\n\t\treturn mat3( T * scale, B * scale, N );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\tclearcoatNormal = normalize( tbn2 * clearcoatMapN );\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",output_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha + 0.1;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec2 packDepthToRG( in highp float v ) {\n\treturn packDepthToRGBA( v ).yx;\n}\nfloat unpackRGToDepth( const in highp vec2 v ) {\n\treturn unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn depth * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * depth - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n\tuniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tuniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tuniform int boneTextureSize;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tfloat j = i * 4.0;\n\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\ty = dy * ( y + 0.5 );\n\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\treturn bone;\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmission = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tfloat w0( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n\t}\n\tfloat w1( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n\t}\n\tfloat w2( float a ){\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n\t}\n\tfloat w3( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * a * a );\n\t}\n\tfloat g0( float a ) {\n\t\treturn w0( a ) + w1( a );\n\t}\n\tfloat g1( float a ) {\n\t\treturn w2( a ) + w3( a );\n\t}\n\tfloat h0( float a ) {\n\t\treturn - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n\t}\n\tfloat h1( float a ) {\n\t\treturn 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n\t}\n\tvec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {\n\t\tuv = uv * texelSize.zw + 0.5;\n\t\tvec2 iuv = floor( uv );\n\t\tvec2 fuv = fract( uv );\n\t\tfloat g0x = g0( fuv.x );\n\t\tfloat g1x = g1( fuv.x );\n\t\tfloat h0x = h0( fuv.x );\n\t\tfloat h1x = h1( fuv.x );\n\t\tfloat h0y = h0( fuv.y );\n\t\tfloat h1y = h1( fuv.y );\n\t\tvec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\treturn g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n\t\t\tg1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n\t}\n\tvec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n\t\tvec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\n\t\tvec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n\t\tvec2 fLodSizeInv = 1.0 / fLodSize;\n\t\tvec2 cLodSizeInv = 1.0 / cLodSize;\n\t\tvec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );\n\t\tvec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );\n\t\treturn mix( fSample, cSample, fract( lod ) );\n\t}\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\treturn textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n\t}\n\tvec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn radiance;\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance * radiance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );\n\t}\n#endif",uv_pars_fragment:"#ifdef USE_UV\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tuniform mat3 mapTransform;\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform mat3 alphaMapTransform;\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tuniform mat3 lightMapTransform;\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tuniform mat3 aoMapTransform;\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tuniform mat3 bumpMapTransform;\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tuniform mat3 normalMapTransform;\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tuniform mat3 displacementMapTransform;\n\tvarying vec2 vDisplacementMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tuniform mat3 emissiveMapTransform;\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tuniform mat3 metalnessMapTransform;\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tuniform mat3 roughnessMapTransform;\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tuniform mat3 clearcoatMapTransform;\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform mat3 clearcoatNormalMapTransform;\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform mat3 clearcoatRoughnessMapTransform;\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tuniform mat3 sheenColorMapTransform;\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tuniform mat3 sheenRoughnessMapTransform;\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tuniform mat3 iridescenceMapTransform;\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform mat3 iridescenceThicknessMapTransform;\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tuniform mat3 specularMapTransform;\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tuniform mat3 specularColorMapTransform;\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tuniform mat3 specularIntensityMapTransform;\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = vec3( uv, 1 ).xy;\n#endif\n#ifdef USE_MAP\n\tvMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ALPHAMAP\n\tvAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_LIGHTMAP\n\tvLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_AOMAP\n\tvAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_BUMPMAP\n\tvBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_NORMALMAP\n\tvNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tvDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_METALNESSMAP\n\tvMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULARMAP\n\tvSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tvTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_THICKNESSMAP\n\tvThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",backgroundCube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = texColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define USE_SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef USE_SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULAR_COLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;\n\t#endif\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n#ifdef USE_POINTS_UV\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\nvoid main() {\n\t#ifdef USE_POINTS_UV\n\t\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\t#endif\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <logdepthbuf_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}"},_u={common:{diffuse:{value:new al(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new lo},alphaMap:{value:null},alphaMapTransform:{value:new lo},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new lo}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new lo}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new lo}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new lo},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new lo},normalScale:{value:new so(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new lo},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new lo}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new lo}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new lo}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new al(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new al(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new lo}},sprite:{diffuse:{value:new al(16777215)},opacity:{value:1},center:{value:new so(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new lo},alphaMap:{value:null},alphaTest:{value:0}}},wu={basic:{uniforms:tu([_u.common,_u.specularmap,_u.envmap,_u.aomap,_u.lightmap,_u.fog]),vertexShader:xu.meshbasic_vert,fragmentShader:xu.meshbasic_frag},lambert:{uniforms:tu([_u.common,_u.specularmap,_u.envmap,_u.aomap,_u.lightmap,_u.emissivemap,_u.bumpmap,_u.normalmap,_u.displacementmap,_u.fog,_u.lights,{emissive:{value:new al(0)}}]),vertexShader:xu.meshlambert_vert,fragmentShader:xu.meshlambert_frag},phong:{uniforms:tu([_u.common,_u.specularmap,_u.envmap,_u.aomap,_u.lightmap,_u.emissivemap,_u.bumpmap,_u.normalmap,_u.displacementmap,_u.fog,_u.lights,{emissive:{value:new al(0)},specular:{value:new al(1118481)},shininess:{value:30}}]),vertexShader:xu.meshphong_vert,fragmentShader:xu.meshphong_frag},standard:{uniforms:tu([_u.common,_u.envmap,_u.aomap,_u.lightmap,_u.emissivemap,_u.bumpmap,_u.normalmap,_u.displacementmap,_u.roughnessmap,_u.metalnessmap,_u.fog,_u.lights,{emissive:{value:new al(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:xu.meshphysical_vert,fragmentShader:xu.meshphysical_frag},toon:{uniforms:tu([_u.common,_u.aomap,_u.lightmap,_u.emissivemap,_u.bumpmap,_u.normalmap,_u.displacementmap,_u.gradientmap,_u.fog,_u.lights,{emissive:{value:new al(0)}}]),vertexShader:xu.meshtoon_vert,fragmentShader:xu.meshtoon_frag},matcap:{uniforms:tu([_u.common,_u.bumpmap,_u.normalmap,_u.displacementmap,_u.fog,{matcap:{value:null}}]),vertexShader:xu.meshmatcap_vert,fragmentShader:xu.meshmatcap_frag},points:{uniforms:tu([_u.points,_u.fog]),vertexShader:xu.points_vert,fragmentShader:xu.points_frag},dashed:{uniforms:tu([_u.common,_u.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:xu.linedashed_vert,fragmentShader:xu.linedashed_frag},depth:{uniforms:tu([_u.common,_u.displacementmap]),vertexShader:xu.depth_vert,fragmentShader:xu.depth_frag},normal:{uniforms:tu([_u.common,_u.bumpmap,_u.normalmap,_u.displacementmap,{opacity:{value:1}}]),vertexShader:xu.meshnormal_vert,fragmentShader:xu.meshnormal_frag},sprite:{uniforms:tu([_u.sprite,_u.fog]),vertexShader:xu.sprite_vert,fragmentShader:xu.sprite_frag},background:{uniforms:{uvTransform:{value:new lo},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:xu.background_vert,fragmentShader:xu.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:xu.backgroundCube_vert,fragmentShader:xu.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:xu.cube_vert,fragmentShader:xu.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:xu.equirect_vert,fragmentShader:xu.equirect_frag},distanceRGBA:{uniforms:tu([_u.common,_u.displacementmap,{referencePosition:{value:new Fo},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:xu.distanceRGBA_vert,fragmentShader:xu.distanceRGBA_frag},shadow:{uniforms:tu([_u.lights,_u.fog,{color:{value:new al(0)},opacity:{value:1}}]),vertexShader:xu.shadow_vert,fragmentShader:xu.shadow_frag}};wu.physical={uniforms:tu([wu.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new lo},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new lo},clearcoatNormalScale:{value:new so(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new lo},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new lo},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new lo},sheen:{value:0},sheenColor:{value:new al(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new lo},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new lo},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new lo},transmissionSamplerSize:{value:new so},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new lo},attenuationDistance:{value:0},attenuationColor:{value:new al(0)},specularColor:{value:new al(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new lo},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new lo}}]),vertexShader:xu.meshphysical_vert,fragmentShader:xu.meshphysical_frag};var Eu={r:0,b:0,g:0};function Mu(e,t,n,r,i,a,A){var o,s,l=new al(0),u=!0===a?0:1,c=null,f=0,d=null;function h(t,n){t.getRGB(Eu,nu(e)),r.buffers.color.setClear(Eu.r,Eu.g,Eu.b,n,A)}return{getClearColor:function(){return l},setClearColor:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;l.set(e),h(l,u=t)},getClearAlpha:function(){return u},setClearAlpha:function(e){h(l,u=e)},render:function(a,p){var v=!1,m=!0===p.isScene?p.background:null;switch(m&&m.isTexture&&(m=(p.backgroundBlurriness>0?n:t).get(m)),null===m?h(l,u):m&&m.isColor&&(h(m,1),v=!0),e.xr.getEnvironmentBlendMode()){case"opaque":v=!0;break;case"additive":r.buffers.color.setClear(0,0,0,1,A),v=!0;break;case"alpha-blend":r.buffers.color.setClear(0,0,0,0,A),v=!0}(e.autoClear||v)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),m&&(m.isCubeTexture||m.mapping===Ni)?(void 0===s&&((s=new ql(new $l(1,1,1),new iu({name:"BackgroundCubeMaterial",uniforms:eu(wu.backgroundCube.uniforms),vertexShader:wu.backgroundCube.vertexShader,fragmentShader:wu.backgroundCube.fragmentShader,side:Wr,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),s.geometry.deleteAttribute("uv"),s.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(s.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(s)),s.material.uniforms.envMap.value=m,s.material.uniforms.flipEnvMap.value=m.isCubeTexture&&!1===m.isRenderTargetTexture?-1:1,s.material.uniforms.backgroundBlurriness.value=p.backgroundBlurriness,s.material.uniforms.backgroundIntensity.value=p.backgroundIntensity,s.material.toneMapped=m.colorSpace!==vA,c===m&&f===m.version&&d===e.toneMapping||(s.material.needsUpdate=!0,c=m,f=m.version,d=e.toneMapping),s.layers.enableAll(),a.unshift(s,s.geometry,s.material,0,0,null)):m&&m.isTexture&&(void 0===o&&((o=new ql(new bu(2,2),new iu({name:"BackgroundMaterial",uniforms:eu(wu.background.uniforms),vertexShader:wu.background.vertexShader,fragmentShader:wu.background.fragmentShader,side:Vr,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),Object.defineProperty(o.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(o)),o.material.uniforms.t2D.value=m,o.material.uniforms.backgroundIntensity.value=p.backgroundIntensity,o.material.toneMapped=m.colorSpace!==vA,!0===m.matrixAutoUpdate&&m.updateMatrix(),o.material.uniforms.uvTransform.value.copy(m.matrix),c===m&&f===m.version&&d===e.toneMapping||(o.material.needsUpdate=!0,c=m,f=m.version,d=e.toneMapping),o.layers.enableAll(),a.unshift(o,o.geometry,o.material,0,0,null))}}}function Su(e,t,n,r){var i=e.getParameter(e.MAX_VERTEX_ATTRIBS),a=r.isWebGL2?null:t.get("OES_vertex_array_object"),A=r.isWebGL2||null!==a,o={},s=d(null),l=s,u=!1;function c(t){return r.isWebGL2?e.bindVertexArray(t):a.bindVertexArrayOES(t)}function f(t){return r.isWebGL2?e.deleteVertexArray(t):a.deleteVertexArrayOES(t)}function d(e){for(var t=[],n=[],r=[],a=0;a<i;a++)t[a]=0,n[a]=0,r[a]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:t,enabledAttributes:n,attributeDivisors:r,object:e,attributes:{},index:null}}function h(){for(var e=l.newAttributes,t=0,n=e.length;t<n;t++)e[t]=0}function p(e){v(e,0)}function v(n,i){var a=l.newAttributes,A=l.enabledAttributes,o=l.attributeDivisors;(a[n]=1,0===A[n]&&(e.enableVertexAttribArray(n),A[n]=1),o[n]!==i)&&((r.isWebGL2?e:t.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,i),o[n]=i)}function m(){for(var t=l.newAttributes,n=l.enabledAttributes,r=0,i=n.length;r<i;r++)n[r]!==t[r]&&(e.disableVertexAttribArray(r),n[r]=0)}function g(t,n,i,a,A,o){!0!==r.isWebGL2||i!==e.INT&&i!==e.UNSIGNED_INT?e.vertexAttribPointer(t,n,i,a,A,o):e.vertexAttribIPointer(t,n,i,A,o)}function y(){b(),u=!0,l!==s&&c((l=s).object)}function b(){s.geometry=null,s.program=null,s.wireframe=!1}return{setup:function(i,s,f,y,b){var x=!1;if(A){var _=function(t,n,i){var A=!0===i.wireframe,s=o[t.id];void 0===s&&(s={},o[t.id]=s);var l=s[n.id];void 0===l&&(l={},s[n.id]=l);var u=l[A];void 0===u&&(u=d(r.isWebGL2?e.createVertexArray():a.createVertexArrayOES()),l[A]=u);return u}(y,f,s);l!==_&&c((l=_).object),x=function(e,t,n,r){var i=l.attributes,a=t.attributes,A=0,o=n.getAttributes();for(var s in o){if(o[s].location>=0){var u=i[s],c=a[s];if(void 0===c&&("instanceMatrix"===s&&e.instanceMatrix&&(c=e.instanceMatrix),"instanceColor"===s&&e.instanceColor&&(c=e.instanceColor)),void 0===u)return!0;if(u.attribute!==c)return!0;if(c&&u.data!==c.data)return!0;A++}}return l.attributesNum!==A||l.index!==r}(i,y,f,b),x&&function(e,t,n,r){var i={},a=t.attributes,A=0,o=n.getAttributes();for(var s in o){if(o[s].location>=0){var u=a[s];void 0===u&&("instanceMatrix"===s&&e.instanceMatrix&&(u=e.instanceMatrix),"instanceColor"===s&&e.instanceColor&&(u=e.instanceColor));var c={};c.attribute=u,u&&u.data&&(c.data=u.data),i[s]=c,A++}}l.attributes=i,l.attributesNum=A,l.index=r}(i,y,f,b)}else{var w=!0===s.wireframe;l.geometry===y.id&&l.program===f.id&&l.wireframe===w||(l.geometry=y.id,l.program=f.id,l.wireframe=w,x=!0)}null!==b&&n.update(b,e.ELEMENT_ARRAY_BUFFER),(x||u)&&(u=!1,function(i,a,A,o){if(!1===r.isWebGL2&&(i.isInstancedMesh||o.isInstancedBufferGeometry)&&null===t.get("ANGLE_instanced_arrays"))return;h();var s=o.attributes,l=A.getAttributes(),u=a.defaultAttributeValues;for(var c in l){var f=l[c];if(f.location>=0){var d=s[c];if(void 0===d&&("instanceMatrix"===c&&i.instanceMatrix&&(d=i.instanceMatrix),"instanceColor"===c&&i.instanceColor&&(d=i.instanceColor)),void 0!==d){var y=d.normalized,b=d.itemSize,x=n.get(d);if(void 0===x)continue;var _=x.buffer,w=x.type,E=x.bytesPerElement;if(d.isInterleavedBufferAttribute){var M=d.data,S=M.stride,C=d.offset;if(M.isInstancedInterleavedBuffer){for(var T=0;T<f.locationSize;T++)v(f.location+T,M.meshPerAttribute);!0!==i.isInstancedMesh&&void 0===o._maxInstanceCount&&(o._maxInstanceCount=M.meshPerAttribute*M.count)}else for(var k=0;k<f.locationSize;k++)p(f.location+k);e.bindBuffer(e.ARRAY_BUFFER,_);for(var B=0;B<f.locationSize;B++)g(f.location+B,b/f.locationSize,w,y,S*E,(C+b/f.locationSize*B)*E)}else{if(d.isInstancedBufferAttribute){for(var R=0;R<f.locationSize;R++)v(f.location+R,d.meshPerAttribute);!0!==i.isInstancedMesh&&void 0===o._maxInstanceCount&&(o._maxInstanceCount=d.meshPerAttribute*d.count)}else for(var P=0;P<f.locationSize;P++)p(f.location+P);e.bindBuffer(e.ARRAY_BUFFER,_);for(var I=0;I<f.locationSize;I++)g(f.location+I,b/f.locationSize,w,y,b*E,b/f.locationSize*I*E)}}else if(void 0!==u){var D=u[c];if(void 0!==D)switch(D.length){case 2:e.vertexAttrib2fv(f.location,D);break;case 3:e.vertexAttrib3fv(f.location,D);break;case 4:e.vertexAttrib4fv(f.location,D);break;default:e.vertexAttrib1fv(f.location,D)}}}}m()}(i,s,f,y),null!==b&&e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,n.get(b).buffer))},reset:y,resetDefaultState:b,dispose:function(){for(var e in y(),o){var t=o[e];for(var n in t){var r=t[n];for(var i in r)f(r[i].object),delete r[i];delete t[n]}delete o[e]}},releaseStatesOfGeometry:function(e){if(void 0!==o[e.id]){var t=o[e.id];for(var n in t){var r=t[n];for(var i in r)f(r[i].object),delete r[i];delete t[n]}delete o[e.id]}},releaseStatesOfProgram:function(e){for(var t in o){var n=o[t];if(void 0!==n[e.id]){var r=n[e.id];for(var i in r)f(r[i].object),delete r[i];delete n[e.id]}}},initAttributes:h,enableAttribute:p,disableUnusedAttributes:m}}function Cu(e,t,n,r){var i,a=r.isWebGL2;this.setMode=function(e){i=e},this.render=function(t,r){e.drawArrays(i,t,r),n.update(r,i,1)},this.renderInstances=function(r,A,o){if(0!==o){var s,l;if(a)s=e,l="drawArraysInstanced";else if(l="drawArraysInstancedANGLE",null===(s=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");s[l](i,r,A,o),n.update(A,i,o)}}}function Tu(e,t,n){var r;function i(t){if("highp"===t){if(e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}var a="undefined"!==typeof WebGL2RenderingContext&&"WebGL2RenderingContext"===e.constructor.name,A=void 0!==n.precision?n.precision:"highp",o=i(A);o!==A&&(console.warn("THREE.WebGLRenderer:",A,"not supported, using",o,"instead."),A=o);var s=a||t.has("WEBGL_draw_buffers"),l=!0===n.logarithmicDepthBuffer,u=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),c=e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS),f=e.getParameter(e.MAX_TEXTURE_SIZE),d=e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE),h=e.getParameter(e.MAX_VERTEX_ATTRIBS),p=e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS),v=e.getParameter(e.MAX_VARYING_VECTORS),m=e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS),g=c>0,y=a||t.has("OES_texture_float");return{isWebGL2:a,drawBuffers:s,getMaxAnisotropy:function(){if(void 0!==r)return r;if(!0===t.has("EXT_texture_filter_anisotropic")){var n=t.get("EXT_texture_filter_anisotropic");r=e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r},getMaxPrecision:i,precision:A,logarithmicDepthBuffer:l,maxTextures:u,maxVertexTextures:c,maxTextureSize:f,maxCubemapSize:d,maxAttributes:h,maxVertexUniforms:p,maxVaryings:v,maxFragmentUniforms:m,vertexTextures:g,floatFragmentTextures:y,floatVertexTextures:g&&y,maxSamples:a?e.getParameter(e.MAX_SAMPLES):0}}function ku(e){var t=this,n=null,r=0,i=!1,a=!1,A=new hu,o=new lo,s={value:null,needsUpdate:!1};function l(e,n,r,i){var a=null!==e?e.length:0,l=null;if(0!==a){if(l=s.value,!0!==i||null===l){var u=r+4*a,c=n.matrixWorldInverse;o.getNormalMatrix(c),(null===l||l.length<u)&&(l=new Float32Array(u));for(var f=0,d=r;f!==a;++f,d+=4)A.copy(e[f]).applyMatrix4(c,o),A.normal.toArray(l,d),l[d+3]=A.constant}s.value=l,s.needsUpdate=!0}return t.numPlanes=a,t.numIntersection=0,l}this.uniform=s,this.numPlanes=0,this.numIntersection=0,this.init=function(e,t){var n=0!==e.length||t||0!==r||i;return i=t,r=e.length,n},this.beginShadows=function(){a=!0,l(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(e,t){n=l(e,t,0)},this.setState=function(A,o,u){var c=A.clippingPlanes,f=A.clipIntersection,d=A.clipShadows,h=e.get(A);if(!i||null===c||0===c.length||a&&!d)a?l(null):function(){s.value!==n&&(s.value=n,s.needsUpdate=r>0);t.numPlanes=r,t.numIntersection=0}();else{var p=a?0:r,v=4*p,m=h.clippingState||null;s.value=m,m=l(c,o,v,u);for(var g=0;g!==v;++g)m[g]=n[g];h.clippingState=m,this.numIntersection=f?this.numPlanes:0,this.numPlanes+=p}}}function Bu(e){var t=new WeakMap;function n(e,t){return t===Li?e.mapping=Ii:t===Ui&&(e.mapping=Di),e}function r(e){var n=e.target;n.removeEventListener("dispose",r);var i=t.get(n);void 0!==i&&(t.delete(n),i.dispose())}return{get:function(i){if(i&&i.isTexture&&!1===i.isRenderTargetTexture){var a=i.mapping;if(a===Li||a===Ui){if(t.has(i))return n(t.get(i).texture,i.mapping);var A=i.image;if(A&&A.height>0){var o=new uu(A.height/2);return o.fromEquirectangularTexture(e,i),t.set(i,o),i.addEventListener("dispose",r),n(o.texture,i.mapping)}return null}}return i},dispose:function(){t=new WeakMap}}}var Ru=function(e){br(n,e);var t=Er(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,A=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.1,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2e3;return vr(this,n),(e=t.call(this)).isOrthographicCamera=!0,e.type="OrthographicCamera",e.zoom=1,e.view=null,e.left=r,e.right=i,e.top=a,e.bottom=A,e.near=o,e.far=s,e.updateProjectionMatrix(),e}return gr(n,[{key:"copy",value:function(e,t){return Br(xr(n.prototype),"copy",this).call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}},{key:"setViewOffset",value:function(e,t,n,r,i,a){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()}},{key:"clearViewOffset",value:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}},{key:"updateProjectionMatrix",value:function(){var e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2,i=n-e,a=n+e,A=r+t,o=r-t;if(null!==this.view&&this.view.enabled){var s=(this.right-this.left)/this.view.fullWidth/this.zoom,l=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a=(i+=s*this.view.offsetX)+s*this.view.width,o=(A-=l*this.view.offsetY)-l*this.view.height}this.projectionMatrix.makeOrthographic(i,a,A,o,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}},{key:"toJSON",value:function(e){var t=Br(xr(n.prototype),"toJSON",this).call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}]),n}(au),Pu=[.125,.215,.35,.446,.526,.582],Iu=20,Du=new Ru,Lu=new al,Uu=null,Nu=(1+Math.sqrt(5))/2,Ou=1/Nu,Fu=[new Fo(1,1,1),new Fo(-1,1,1),new Fo(1,1,-1),new Fo(-1,1,-1),new Fo(0,Nu,Ou),new Fo(0,Nu,-Ou),new Fo(Ou,0,Nu),new Fo(-Ou,0,Nu),new Fo(Nu,Ou,0),new Fo(-Nu,Ou,0)],zu=function(){function e(t){vr(this,e),this._renderer=t,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}return gr(e,[{key:"fromScene",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;Uu=this._renderer.getRenderTarget(),this._setSize(256);var i=this._allocateTargets();return i.depthBuffer=!0,this._sceneToCubeUV(e,n,r,i),t>0&&this._blur(i,0,0,t),this._applyPMREM(i),this._cleanup(i),i}},{key:"fromEquirectangular",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._fromTexture(e,t)}},{key:"fromCubemap",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._fromTexture(e,t)}},{key:"compileCubemapShader",value:function(){null===this._cubemapMaterial&&(this._cubemapMaterial=Wu(),this._compileMaterial(this._cubemapMaterial))}},{key:"compileEquirectangularShader",value:function(){null===this._equirectMaterial&&(this._equirectMaterial=Vu(),this._compileMaterial(this._equirectMaterial))}},{key:"dispose",value:function(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}},{key:"_setSize",value:function(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}},{key:"_dispose",value:function(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(var e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}},{key:"_cleanup",value:function(e){this._renderer.setRenderTarget(Uu),e.scissorTest=!1,Hu(e,0,0,e.width,e.height)}},{key:"_fromTexture",value:function(e,t){e.mapping===Ii||e.mapping===Di?this._setSize(0===e.image.length?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),Uu=this._renderer.getRenderTarget();var n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}},{key:"_allocateTargets",value:function(){var e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:Qi,minFilter:Qi,generateMipmaps:!1,type:ia,format:la,colorSpace:mA,depthBuffer:!1},r=Gu(e,t,n);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=Gu(e,t,n);var i=this._lodMax,a=function(e){for(var t=[],n=[],r=[],i=e,a=e-4+1+Pu.length,A=0;A<a;A++){var o=Math.pow(2,i);n.push(o);var s=1/o;A>e-4?s=Pu[A-e+4-1]:0===A&&(s=0),r.push(s);for(var l=1/(o-2),u=-l,c=1+l,f=[u,u,c,u,c,c,u,u,c,c,u,c],d=6,h=6,p=3,v=2,m=1,g=new Float32Array(p*h*d),y=new Float32Array(v*h*d),b=new Float32Array(m*h*d),x=0;x<d;x++){var _=x%3*2/3-1,w=x>2?0:-1,E=[_,w,0,_+2/3,w,0,_+2/3,w+1,0,_,w,0,_+2/3,w+1,0,_,w+1,0];g.set(E,p*h*x),y.set(f,v*h*x);var M=[x,x,x,x,x,x];b.set(M,m*h*x)}var S=new Il;S.setAttribute("position",new pl(g,p)),S.setAttribute("uv",new pl(y,v)),S.setAttribute("faceIndex",new pl(b,m)),t.push(S),i>4&&i--}return{lodPlanes:t,sizeLods:n,sigmas:r}}(i);this._sizeLods=a.sizeLods,this._lodPlanes=a.lodPlanes,this._sigmas=a.sigmas,this._blurMaterial=function(e,t,n){var r=new Float32Array(Iu),i=new Fo(0,1,0),a=new iu({name:"SphericalGaussianBlur",defines:{n:Iu,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:"".concat(e,".0")},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:Xr,depthTest:!1,depthWrite:!1});return a}(i,e,t)}return r}},{key:"_compileMaterial",value:function(e){var t=new ql(this._lodPlanes[0],e);this._renderer.compile(t,Du)}},{key:"_sceneToCubeUV",value:function(e,t,n,r){var i=new Au(90,1,t,n),a=[1,-1,1,1,1,1],A=[1,1,1,-1,-1,-1],o=this._renderer,s=o.autoClear,l=o.toneMapping;o.getClearColor(Lu),o.toneMapping=Si,o.autoClear=!1;var u=new ol({name:"PMREM.Background",side:Wr,depthWrite:!1,depthTest:!1}),c=new ql(new $l,u),f=!1,d=e.background;d?d.isColor&&(u.color.copy(d),e.background=null,f=!0):(u.color.copy(Lu),f=!0);for(var h=0;h<6;h++){var p=h%3;0===p?(i.up.set(0,a[h],0),i.lookAt(A[h],0,0)):1===p?(i.up.set(0,0,a[h]),i.lookAt(0,A[h],0)):(i.up.set(0,a[h],0),i.lookAt(0,0,A[h]));var v=this._cubeSize;Hu(r,p*v,h>2?v:0,v,v),o.setRenderTarget(r),f&&o.render(c,i),o.render(e,i)}c.geometry.dispose(),c.material.dispose(),o.toneMapping=l,o.autoClear=s,e.background=d}},{key:"_textureToCubeUV",value:function(e,t){var n=this._renderer,r=e.mapping===Ii||e.mapping===Di;r?(null===this._cubemapMaterial&&(this._cubemapMaterial=Wu()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=Vu());var i=r?this._cubemapMaterial:this._equirectMaterial,a=new ql(this._lodPlanes[0],i);i.uniforms.envMap.value=e;var A=this._cubeSize;Hu(t,0,0,3*A,2*A),n.setRenderTarget(t),n.render(a,Du)}},{key:"_applyPMREM",value:function(e){var t=this._renderer,n=t.autoClear;t.autoClear=!1;for(var r=1;r<this._lodPlanes.length;r++){var i=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),a=Fu[(r-1)%Fu.length];this._blur(e,r-1,r,i,a)}t.autoClear=n}},{key:"_blur",value:function(e,t,n,r,i){var a=this._pingPongRenderTarget;this._halfBlur(e,a,t,n,r,"latitudinal",i),this._halfBlur(a,e,n,n,r,"longitudinal",i)}},{key:"_halfBlur",value:function(e,t,n,r,i,a,A){var o=this._renderer,s=this._blurMaterial;"latitudinal"!==a&&"longitudinal"!==a&&console.error("blur direction must be either latitudinal or longitudinal!");var l=new ql(this._lodPlanes[r],s),u=s.uniforms,c=this._sizeLods[n]-1,f=isFinite(i)?Math.PI/(2*c):2*Math.PI/39,d=i/f,h=isFinite(i)?1+Math.floor(3*d):Iu;h>Iu&&console.warn("sigmaRadians, ".concat(i,", is too large and will clip, as it requested ").concat(h," samples when the maximum is set to ").concat(Iu));for(var p=[],v=0,m=0;m<Iu;++m){var g=m/d,y=Math.exp(-g*g/2);p.push(y),0===m?v+=y:m<h&&(v+=2*y)}for(var b=0;b<p.length;b++)p[b]=p[b]/v;u.envMap.value=e.texture,u.samples.value=h,u.weights.value=p,u.latitudinal.value="latitudinal"===a,A&&(u.poleAxis.value=A);var x=this._lodMax;u.dTheta.value=f,u.mipInt.value=x-n;var _=this._sizeLods[r];Hu(t,3*_*(r>x-4?r-x+4:0),4*(this._cubeSize-_),3*_,2*_),o.setRenderTarget(t),o.render(l,Du)}}]),e}();function Gu(e,t,n){var r=new Po(e,t,n);return r.texture.mapping=Ni,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function Hu(e,t,n,r,i){e.viewport.set(t,n,r,i),e.scissor.set(t,n,r,i)}function Vu(){return new iu({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:Xr,depthTest:!1,depthWrite:!1})}function Wu(){return new iu({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:Xr,depthTest:!1,depthWrite:!1})}function ju(e){var t=new WeakMap,n=null;function r(e){var n=e.target;n.removeEventListener("dispose",r);var i=t.get(n);void 0!==i&&(t.delete(n),i.dispose())}return{get:function(i){if(i&&i.isTexture){var a=i.mapping,A=a===Li||a===Ui,o=a===Ii||a===Di;if(A||o){if(i.isRenderTargetTexture&&!0===i.needsPMREMUpdate){i.needsPMREMUpdate=!1;var s=t.get(i);return null===n&&(n=new zu(e)),s=A?n.fromEquirectangular(i,s):n.fromCubemap(i,s),t.set(i,s),s.texture}if(t.has(i))return t.get(i).texture;var l=i.image;if(A&&l&&l.height>0||o&&l&&function(e){for(var t=0,n=6,r=0;r<n;r++)void 0!==e[r]&&t++;return t===n}(l)){null===n&&(n=new zu(e));var u=A?n.fromEquirectangular(i):n.fromCubemap(i);return t.set(i,u),i.addEventListener("dispose",r),u.texture}return null}}return i},dispose:function(){t=new WeakMap,null!==n&&(n.dispose(),n=null)}}}function Qu(e){var t={};function n(n){if(void 0!==t[n])return t[n];var r;switch(n){case"WEBGL_depth_texture":r=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=e.getExtension(n)}return t[n]=r,r}return{has:function(e){return null!==n(e)},init:function(e){e.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(e){var t=n(e);return null===t&&console.warn("THREE.WebGLRenderer: "+e+" extension not supported."),t}}}function Xu(e,t,n,r){var i={},a=new WeakMap;function A(e){var o=e.target;for(var s in null!==o.index&&t.remove(o.index),o.attributes)t.remove(o.attributes[s]);o.removeEventListener("dispose",A),delete i[o.id];var l=a.get(o);l&&(t.remove(l),a.delete(o)),r.releaseStatesOfGeometry(o),!0===o.isInstancedBufferGeometry&&delete o._maxInstanceCount,n.memory.geometries--}function o(e){var n=[],r=e.index,i=e.attributes.position,A=0;if(null!==r){var o=r.array;A=r.version;for(var s=0,l=o.length;s<l;s+=3){var u=o[s+0],c=o[s+1],f=o[s+2];n.push(u,c,c,f,f,u)}}else{var d=i.array;A=i.version;for(var h=0,p=d.length/3-1;h<p;h+=3){var v=h+0,m=h+1,g=h+2;n.push(v,m,m,g,g,v)}}var y=new(co(n)?_l:bl)(n,1);y.version=A;var b=a.get(e);b&&t.remove(b),a.set(e,y)}return{get:function(e,t){return!0===i[t.id]||(t.addEventListener("dispose",A),i[t.id]=!0,n.memory.geometries++),t},update:function(n){var r=n.attributes;for(var i in r)t.update(r[i],e.ARRAY_BUFFER);var a=n.morphAttributes;for(var A in a)for(var o=a[A],s=0,l=o.length;s<l;s++)t.update(o[s],e.ARRAY_BUFFER)},getWireframeAttribute:function(e){var t=a.get(e);if(t){var n=e.index;null!==n&&t.version<n.version&&o(e)}else o(e);return a.get(e)}}}function Ju(e,t,n,r){var i,a,A,o=r.isWebGL2;this.setMode=function(e){i=e},this.setIndex=function(e){a=e.type,A=e.bytesPerElement},this.render=function(t,r){e.drawElements(i,r,a,t*A),n.update(r,i,1)},this.renderInstances=function(r,s,l){if(0!==l){var u,c;if(o)u=e,c="drawElementsInstanced";else if(c="drawElementsInstancedANGLE",null===(u=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");u[c](i,s,a,r*A,l),n.update(s,i,l)}}}function Ku(e){var t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(n,r,i){switch(t.calls++,r){case e.TRIANGLES:t.triangles+=i*(n/3);break;case e.LINES:t.lines+=i*(n/2);break;case e.LINE_STRIP:t.lines+=i*(n-1);break;case e.LINE_LOOP:t.lines+=i*n;break;case e.POINTS:t.points+=i*n;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",r)}}}}function Yu(e,t){return e[0]-t[0]}function qu(e,t){return Math.abs(t[1])-Math.abs(e[1])}function Zu(e,t,n){for(var r={},i=new Float32Array(8),a=new WeakMap,A=new Ro,o=[],s=0;s<8;s++)o[s]=[s,0];return{update:function(s,l,u){var c=s.morphTargetInfluences;if(!0===t.isWebGL2){var f=l.morphAttributes.position||l.morphAttributes.normal||l.morphAttributes.color,d=void 0!==f?f.length:0,h=a.get(l);if(void 0===h||h.count!==d){void 0!==h&&h.texture.dispose();var p=void 0!==l.morphAttributes.position,v=void 0!==l.morphAttributes.normal,m=void 0!==l.morphAttributes.color,g=l.morphAttributes.position||[],y=l.morphAttributes.normal||[],b=l.morphAttributes.color||[],x=0;!0===p&&(x=1),!0===v&&(x=2),!0===m&&(x=3);var _=l.attributes.position.count*x,w=1;_>t.maxTextureSize&&(w=Math.ceil(_/t.maxTextureSize),_=t.maxTextureSize);var E=new Float32Array(_*w*4*d),M=new Io(E,_,w,d);M.type=ra,M.needsUpdate=!0;for(var S=4*x,C=0;C<d;C++)for(var T=g[C],k=y[C],B=b[C],R=_*w*4*C,P=0;P<T.count;P++){var I=P*S;!0===p&&(A.fromBufferAttribute(T,P),E[R+I+0]=A.x,E[R+I+1]=A.y,E[R+I+2]=A.z,E[R+I+3]=0),!0===v&&(A.fromBufferAttribute(k,P),E[R+I+4]=A.x,E[R+I+5]=A.y,E[R+I+6]=A.z,E[R+I+7]=0),!0===m&&(A.fromBufferAttribute(B,P),E[R+I+8]=A.x,E[R+I+9]=A.y,E[R+I+10]=A.z,E[R+I+11]=4===B.itemSize?A.w:1)}h={count:d,texture:M,size:new so(_,w)},a.set(l,h),l.addEventListener("dispose",(function e(){M.dispose(),a.delete(l),l.removeEventListener("dispose",e)}))}for(var D=0,L=0;L<c.length;L++)D+=c[L];var U=l.morphTargetsRelative?1:1-D;u.getUniforms().setValue(e,"morphTargetBaseInfluence",U),u.getUniforms().setValue(e,"morphTargetInfluences",c),u.getUniforms().setValue(e,"morphTargetsTexture",h.texture,n),u.getUniforms().setValue(e,"morphTargetsTextureSize",h.size)}else{var N=void 0===c?0:c.length,O=r[l.id];if(void 0===O||O.length!==N){O=[];for(var F=0;F<N;F++)O[F]=[F,0];r[l.id]=O}for(var z=0;z<N;z++){var G=O[z];G[0]=z,G[1]=c[z]}O.sort(qu);for(var H=0;H<8;H++)H<N&&O[H][1]?(o[H][0]=O[H][0],o[H][1]=O[H][1]):(o[H][0]=Number.MAX_SAFE_INTEGER,o[H][1]=0);o.sort(Yu);for(var V=l.morphAttributes.position,W=l.morphAttributes.normal,j=0,Q=0;Q<8;Q++){var X=o[Q],J=X[0],K=X[1];J!==Number.MAX_SAFE_INTEGER&&K?(V&&l.getAttribute("morphTarget"+Q)!==V[J]&&l.setAttribute("morphTarget"+Q,V[J]),W&&l.getAttribute("morphNormal"+Q)!==W[J]&&l.setAttribute("morphNormal"+Q,W[J]),i[Q]=K,j+=K):(V&&!0===l.hasAttribute("morphTarget"+Q)&&l.deleteAttribute("morphTarget"+Q),W&&!0===l.hasAttribute("morphNormal"+Q)&&l.deleteAttribute("morphNormal"+Q),i[Q]=0)}var Y=l.morphTargetsRelative?1:1-j;u.getUniforms().setValue(e,"morphTargetBaseInfluence",Y),u.getUniforms().setValue(e,"morphTargetInfluences",i)}}}}function $u(e,t,n,r){var i=new WeakMap;function a(e){var t=e.target;t.removeEventListener("dispose",a),n.remove(t.instanceMatrix),null!==t.instanceColor&&n.remove(t.instanceColor)}return{update:function(A){var o=r.render.frame,s=A.geometry,l=t.get(A,s);return i.get(l)!==o&&(t.update(l),i.set(l,o)),A.isInstancedMesh&&(!1===A.hasEventListener("dispose",a)&&A.addEventListener("dispose",a),n.update(A.instanceMatrix,e.ARRAY_BUFFER),null!==A.instanceColor&&n.update(A.instanceColor,e.ARRAY_BUFFER)),l},dispose:function(){i=new WeakMap}}}var ec=new Bo,tc=new Io,nc=new Lo,rc=new lu,ic=[],ac=[],Ac=new Float32Array(16),oc=new Float32Array(9),sc=new Float32Array(4);function lc(e,t,n){var r=e[0];if(r<=0||r>0)return e;var i=t*n,a=ic[i];if(void 0===a&&(a=new Float32Array(i),ic[i]=a),0!==t){r.toArray(a,0);for(var A=1,o=0;A!==t;++A)o+=n,e[A].toArray(a,o)}return a}function uc(e,t){if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function cc(e,t){for(var n=0,r=t.length;n<r;n++)e[n]=t[n]}function fc(e,t){var n=ac[t];void 0===n&&(n=new Int32Array(t),ac[t]=n);for(var r=0;r!==t;++r)n[r]=e.allocateTextureUnit();return n}function dc(e,t){var n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function hc(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(uc(n,t))return;e.uniform2fv(this.addr,t),cc(n,t)}}function pc(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(void 0!==t.r)n[0]===t.r&&n[1]===t.g&&n[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(uc(n,t))return;e.uniform3fv(this.addr,t),cc(n,t)}}function vc(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(uc(n,t))return;e.uniform4fv(this.addr,t),cc(n,t)}}function mc(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(uc(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),cc(n,t)}else{if(uc(n,r))return;sc.set(r),e.uniformMatrix2fv(this.addr,!1,sc),cc(n,r)}}function gc(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(uc(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),cc(n,t)}else{if(uc(n,r))return;oc.set(r),e.uniformMatrix3fv(this.addr,!1,oc),cc(n,r)}}function yc(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(uc(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),cc(n,t)}else{if(uc(n,r))return;Ac.set(r),e.uniformMatrix4fv(this.addr,!1,Ac),cc(n,r)}}function bc(e,t){var n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function xc(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2i(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(uc(n,t))return;e.uniform2iv(this.addr,t),cc(n,t)}}function _c(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3i(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(uc(n,t))return;e.uniform3iv(this.addr,t),cc(n,t)}}function wc(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4i(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(uc(n,t))return;e.uniform4iv(this.addr,t),cc(n,t)}}function Ec(e,t){var n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function Mc(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2ui(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(uc(n,t))return;e.uniform2uiv(this.addr,t),cc(n,t)}}function Sc(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3ui(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(uc(n,t))return;e.uniform3uiv(this.addr,t),cc(n,t)}}function Cc(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4ui(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(uc(n,t))return;e.uniform4uiv(this.addr,t),cc(n,t)}}function Tc(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2D(t||ec,i)}function kc(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(t||nc,i)}function Bc(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(t||rc,i)}function Rc(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(t||tc,i)}function Pc(e,t){e.uniform1fv(this.addr,t)}function Ic(e,t){var n=lc(t,this.size,2);e.uniform2fv(this.addr,n)}function Dc(e,t){var n=lc(t,this.size,3);e.uniform3fv(this.addr,n)}function Lc(e,t){var n=lc(t,this.size,4);e.uniform4fv(this.addr,n)}function Uc(e,t){var n=lc(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function Nc(e,t){var n=lc(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function Oc(e,t){var n=lc(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function Fc(e,t){e.uniform1iv(this.addr,t)}function zc(e,t){e.uniform2iv(this.addr,t)}function Gc(e,t){e.uniform3iv(this.addr,t)}function Hc(e,t){e.uniform4iv(this.addr,t)}function Vc(e,t){e.uniform1uiv(this.addr,t)}function Wc(e,t){e.uniform2uiv(this.addr,t)}function jc(e,t){e.uniform3uiv(this.addr,t)}function Qc(e,t){e.uniform4uiv(this.addr,t)}function Xc(e,t,n){var r=this.cache,i=t.length,a=fc(n,i);uc(r,a)||(e.uniform1iv(this.addr,a),cc(r,a));for(var A=0;A!==i;++A)n.setTexture2D(t[A]||ec,a[A])}function Jc(e,t,n){var r=this.cache,i=t.length,a=fc(n,i);uc(r,a)||(e.uniform1iv(this.addr,a),cc(r,a));for(var A=0;A!==i;++A)n.setTexture3D(t[A]||nc,a[A])}function Kc(e,t,n){var r=this.cache,i=t.length,a=fc(n,i);uc(r,a)||(e.uniform1iv(this.addr,a),cc(r,a));for(var A=0;A!==i;++A)n.setTextureCube(t[A]||rc,a[A])}function Yc(e,t,n){var r=this.cache,i=t.length,a=fc(n,i);uc(r,a)||(e.uniform1iv(this.addr,a),cc(r,a));for(var A=0;A!==i;++A)n.setTexture2DArray(t[A]||tc,a[A])}var qc=gr((function e(t,n,r){vr(this,e),this.id=t,this.addr=r,this.cache=[],this.setValue=function(e){switch(e){case 5126:return dc;case 35664:return hc;case 35665:return pc;case 35666:return vc;case 35674:return mc;case 35675:return gc;case 35676:return yc;case 5124:case 35670:return bc;case 35667:case 35671:return xc;case 35668:case 35672:return _c;case 35669:case 35673:return wc;case 5125:return Ec;case 36294:return Mc;case 36295:return Sc;case 36296:return Cc;case 35678:case 36198:case 36298:case 36306:case 35682:return Tc;case 35679:case 36299:case 36307:return kc;case 35680:case 36300:case 36308:case 36293:return Bc;case 36289:case 36303:case 36311:case 36292:return Rc}}(n.type)})),Zc=gr((function e(t,n,r){vr(this,e),this.id=t,this.addr=r,this.cache=[],this.size=n.size,this.setValue=function(e){switch(e){case 5126:return Pc;case 35664:return Ic;case 35665:return Dc;case 35666:return Lc;case 35674:return Uc;case 35675:return Nc;case 35676:return Oc;case 5124:case 35670:return Fc;case 35667:case 35671:return zc;case 35668:case 35672:return Gc;case 35669:case 35673:return Hc;case 5125:return Vc;case 36294:return Wc;case 36295:return jc;case 36296:return Qc;case 35678:case 36198:case 36298:case 36306:case 35682:return Xc;case 35679:case 36299:case 36307:return Jc;case 35680:case 36300:case 36308:case 36293:return Kc;case 36289:case 36303:case 36311:case 36292:return Yc}}(n.type)})),$c=function(){function e(t){vr(this,e),this.id=t,this.seq=[],this.map={}}return gr(e,[{key:"setValue",value:function(e,t,n){for(var r=this.seq,i=0,a=r.length;i!==a;++i){var A=r[i];A.setValue(e,t[A.id],n)}}}]),e}(),ef=/(\w+)(\])?(\[|\.)?/g;function tf(e,t){e.seq.push(t),e.map[t.id]=t}function nf(e,t,n){var r=e.name,i=r.length;for(ef.lastIndex=0;;){var a=ef.exec(r),A=ef.lastIndex,o=a[1],s="]"===a[2],l=a[3];if(s&&(o|=0),void 0===l||"["===l&&A+2===i){tf(n,void 0===l?new qc(o,e,t):new Zc(o,e,t));break}var u=n.map[o];void 0===u&&tf(n,u=new $c(o)),n=u}}var rf=function(){function e(t,n){vr(this,e),this.seq=[],this.map={};for(var r=t.getProgramParameter(n,t.ACTIVE_UNIFORMS),i=0;i<r;++i){var a=t.getActiveUniform(n,i);nf(a,t.getUniformLocation(n,a.name),this)}}return gr(e,[{key:"setValue",value:function(e,t,n,r){var i=this.map[t];void 0!==i&&i.setValue(e,n,r)}},{key:"setOptional",value:function(e,t,n){var r=t[n];void 0!==r&&this.setValue(e,n,r)}}],[{key:"upload",value:function(e,t,n,r){for(var i=0,a=t.length;i!==a;++i){var A=t[i],o=n[A.id];!1!==o.needsUpdate&&A.setValue(e,o.value,r)}}},{key:"seqWithValue",value:function(e,t){for(var n=[],r=0,i=e.length;r!==i;++r){var a=e[r];a.id in t&&n.push(a)}return n}}]),e}();function af(e,t,n){var r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),r}var Af=0;function of(e,t,n){var r=e.getShaderParameter(t,e.COMPILE_STATUS),i=e.getShaderInfoLog(t).trim();if(r&&""===i)return"";var a=/ERROR: 0:(\d+)/.exec(i);if(a){var A=parseInt(a[1]);return n.toUpperCase()+"\n\n"+i+"\n\n"+function(e,t){for(var n=e.split("\n"),r=[],i=Math.max(t-6,0),a=Math.min(t+6,n.length),A=i;A<a;A++){var o=A+1;r.push("".concat(o===t?">":" "," ").concat(o,": ").concat(n[A]))}return r.join("\n")}(e.getShaderSource(t),A)}return i}function sf(e,t){var n=function(e){switch(e){case mA:return["Linear","( value )"];case vA:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",e),["Linear","( value )"]}}(t);return"vec4 "+e+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function lf(e,t){var n;switch(t){case Ci:n="Linear";break;case Ti:n="Reinhard";break;case ki:n="OptimizedCineon";break;case Bi:n="ACESFilmic";break;case Ri:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),n="Linear"}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function uf(e){return""!==e}function cf(e,t){var n=t.numSpotLightShadows+t.numSpotLightMaps-t.numSpotLightShadowsWithMaps;return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,t.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,t.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function ff(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}var df=/^[ \t]*#include +<([\w\d./]+)>/gm;function hf(e){return e.replace(df,pf)}function pf(e,t){var n=xu[t];if(void 0===n)throw new Error("Can not resolve #include <"+t+">");return hf(n)}var vf=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function mf(e){return e.replace(vf,gf)}function gf(e,t,n,r){for(var i="",a=parseInt(t);a<parseInt(n);a++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return i}function yf(e){var t="precision "+e.precision+" float;\nprecision "+e.precision+" int;";return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}function bf(e,t,n,r){var i,a,A=e.getContext(),o=n.defines,s=n.vertexShader,l=n.fragmentShader,u=function(e){var t="SHADOWMAP_TYPE_BASIC";return e.shadowMapType===zr?t="SHADOWMAP_TYPE_PCF":e.shadowMapType===Gr?t="SHADOWMAP_TYPE_PCF_SOFT":e.shadowMapType===Hr&&(t="SHADOWMAP_TYPE_VSM"),t}(n),c=function(e){var t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case Ii:case Di:t="ENVMAP_TYPE_CUBE";break;case Ni:t="ENVMAP_TYPE_CUBE_UV"}return t}(n),f=function(e){var t="ENVMAP_MODE_REFLECTION";e.envMap&&e.envMapMode===Di&&(t="ENVMAP_MODE_REFRACTION");return t}(n),d=function(e){var t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case wi:t="ENVMAP_BLENDING_MULTIPLY";break;case Ei:t="ENVMAP_BLENDING_MIX";break;case Mi:t="ENVMAP_BLENDING_ADD"}return t}(n),h=function(e){var t=e.envMapCubeUVHeight;if(null===t)return null;var n=Math.log2(t)-2,r=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,n),112)),texelHeight:r,maxMip:n}}(n),p=n.isWebGL2?"":function(e){return[e.extensionDerivatives||e.envMapCubeUVHeight||e.bumpMap||e.normalMapTangentSpace||e.clearcoatNormalMap||e.flatShading||"physical"===e.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(e.extensionFragDepth||e.logarithmicDepthBuffer)&&e.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",e.extensionDrawBuffers&&e.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(e.extensionShaderTextureLOD||e.envMap||e.transmission)&&e.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(uf).join("\n")}(n),v=function(e){var t=[];for(var n in e){var r=e[n];!1!==r&&t.push("#define "+n+" "+r)}return t.join("\n")}(o),m=A.createProgram(),g=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?((i=[v].filter(uf).join("\n")).length>0&&(i+="\n"),(a=[p,v].filter(uf).join("\n")).length>0&&(a+="\n")):(i=[yf(n),"#define SHADER_NAME "+n.shaderName,v,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+f:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+u:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","\tattribute vec2 uv1;","#endif","#ifdef USE_UV2","\tattribute vec2 uv2;","#endif","#ifdef USE_UV3","\tattribute vec2 uv3;","#endif","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(uf).join("\n"),a=[p,yf(n),"#define SHADER_NAME "+n.shaderName,v,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+f:"",n.envMap?"#define "+d:"",h?"#define CUBEUV_TEXEL_WIDTH "+h.texelWidth:"",h?"#define CUBEUV_TEXEL_HEIGHT "+h.texelHeight:"",h?"#define CUBEUV_MAX_MIP "+h.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+u:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Si?"#define TONE_MAPPING":"",n.toneMapping!==Si?xu.tonemapping_pars_fragment:"",n.toneMapping!==Si?lf("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",xu.encodings_pars_fragment,sf("linearToOutputTexel",n.outputColorSpace),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(uf).join("\n")),s=ff(s=cf(s=hf(s),n),n),l=ff(l=cf(l=hf(l),n),n),s=mf(s),l=mf(l),n.isWebGL2&&!0!==n.isRawShaderMaterial&&(g="#version 300 es\n",i=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+i,a=["#define varying in",n.glslVersion===jA?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===jA?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+a);var y,b,x=g+i+s,_=g+a+l,w=af(A,A.VERTEX_SHADER,x),E=af(A,A.FRAGMENT_SHADER,_);if(A.attachShader(m,w),A.attachShader(m,E),void 0!==n.index0AttributeName?A.bindAttribLocation(m,0,n.index0AttributeName):!0===n.morphTargets&&A.bindAttribLocation(m,0,"position"),A.linkProgram(m),e.debug.checkShaderErrors){var M=A.getProgramInfoLog(m).trim(),S=A.getShaderInfoLog(w).trim(),C=A.getShaderInfoLog(E).trim(),T=!0,k=!0;if(!1===A.getProgramParameter(m,A.LINK_STATUS))if(T=!1,"function"===typeof e.debug.onShaderError)e.debug.onShaderError(A,m,w,E);else{var B=of(A,w,"vertex"),R=of(A,E,"fragment");console.error("THREE.WebGLProgram: Shader Error "+A.getError()+" - VALIDATE_STATUS "+A.getProgramParameter(m,A.VALIDATE_STATUS)+"\n\nProgram Info Log: "+M+"\n"+B+"\n"+R)}else""!==M?console.warn("THREE.WebGLProgram: Program Info Log:",M):""!==S&&""!==C||(k=!1);k&&(this.diagnostics={runnable:T,programLog:M,vertexShader:{log:S,prefix:i},fragmentShader:{log:C,prefix:a}})}return A.deleteShader(w),A.deleteShader(E),this.getUniforms=function(){return void 0===y&&(y=new rf(A,m)),y},this.getAttributes=function(){return void 0===b&&(b=function(e,t){for(var n={},r=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),i=0;i<r;i++){var a=e.getActiveAttrib(t,i),A=a.name,o=1;a.type===e.FLOAT_MAT2&&(o=2),a.type===e.FLOAT_MAT3&&(o=3),a.type===e.FLOAT_MAT4&&(o=4),n[A]={type:a.type,location:e.getAttribLocation(t,A),locationSize:o}}return n}(A,m)),b},this.destroy=function(){r.releaseStatesOfProgram(this),A.deleteProgram(m),this.program=void 0},this.name=n.shaderName,this.id=Af++,this.cacheKey=t,this.usedTimes=1,this.program=m,this.vertexShader=w,this.fragmentShader=E,this}var xf=0,_f=function(){function e(){vr(this,e),this.shaderCache=new Map,this.materialCache=new Map}return gr(e,[{key:"update",value:function(e){var t=e.vertexShader,n=e.fragmentShader,r=this._getShaderStage(t),i=this._getShaderStage(n),a=this._getShaderCacheForMaterial(e);return!1===a.has(r)&&(a.add(r),r.usedTimes++),!1===a.has(i)&&(a.add(i),i.usedTimes++),this}},{key:"remove",value:function(e){var t,n=Mr(this.materialCache.get(e));try{for(n.s();!(t=n.n()).done;){var r=t.value;r.usedTimes--,0===r.usedTimes&&this.shaderCache.delete(r.code)}}catch(i){n.e(i)}finally{n.f()}return this.materialCache.delete(e),this}},{key:"getVertexShaderID",value:function(e){return this._getShaderStage(e.vertexShader).id}},{key:"getFragmentShaderID",value:function(e){return this._getShaderStage(e.fragmentShader).id}},{key:"dispose",value:function(){this.shaderCache.clear(),this.materialCache.clear()}},{key:"_getShaderCacheForMaterial",value:function(e){var t=this.materialCache,n=t.get(e);return void 0===n&&(n=new Set,t.set(e,n)),n}},{key:"_getShaderStage",value:function(e){var t=this.shaderCache,n=t.get(e);return void 0===n&&(n=new wf(e),t.set(e,n)),n}}]),e}(),wf=gr((function e(t){vr(this,e),this.id=xf++,this.code=t,this.usedTimes=0}));function Ef(e,t,n,r,i,a,A){var o=new Ss,s=new _f,l=[],u=i.isWebGL2,c=i.logarithmicDepthBuffer,f=i.vertexTextures,d=i.precision,h={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function p(e){return 1===e?"uv1":2===e?"uv2":3===e?"uv3":"uv"}return{getParameters:function(a,o,l,v,m){var g=v.fog,y=m.geometry,b=a.isMeshStandardMaterial?v.environment:null,x=(a.isMeshStandardMaterial?n:t).get(a.envMap||b),_=x&&x.mapping===Ni?x.image.height:null,w=h[a.type];null!==a.precision&&(d=i.getMaxPrecision(a.precision))!==a.precision&&console.warn("THREE.WebGLProgram.getParameters:",a.precision,"not supported, using",d,"instead.");var E,M,S,C,T=y.morphAttributes.position||y.morphAttributes.normal||y.morphAttributes.color,k=void 0!==T?T.length:0,B=0;if(void 0!==y.morphAttributes.position&&(B=1),void 0!==y.morphAttributes.normal&&(B=2),void 0!==y.morphAttributes.color&&(B=3),w){var R=wu[w];E=R.vertexShader,M=R.fragmentShader}else E=a.vertexShader,M=a.fragmentShader,s.update(a),S=s.getVertexShaderID(a),C=s.getFragmentShaderID(a);var P=e.getRenderTarget(),I=!0===m.isInstancedMesh,D=!!a.map,L=!!a.matcap,U=!!x,N=!!a.aoMap,O=!!a.lightMap,F=!!a.bumpMap,z=!!a.normalMap,G=!!a.displacementMap,H=!!a.emissiveMap,V=!!a.metalnessMap,W=!!a.roughnessMap,j=a.clearcoat>0,Q=a.iridescence>0,X=a.sheen>0,J=a.transmission>0,K=j&&!!a.clearcoatMap,Y=j&&!!a.clearcoatNormalMap,q=j&&!!a.clearcoatRoughnessMap,Z=Q&&!!a.iridescenceMap,$=Q&&!!a.iridescenceThicknessMap,ee=X&&!!a.sheenColorMap,te=X&&!!a.sheenRoughnessMap,ne=!!a.specularMap,re=!!a.specularColorMap,ie=!!a.specularIntensityMap,ae=J&&!!a.transmissionMap,Ae=J&&!!a.thicknessMap,oe=!!a.gradientMap,se=!!a.alphaMap,le=a.alphaTest>0,ue=!!a.extensions,ce=!!y.attributes.uv1,fe=!!y.attributes.uv2,de=!!y.attributes.uv3;return{isWebGL2:u,shaderID:w,shaderName:a.type,vertexShader:E,fragmentShader:M,defines:a.defines,customVertexShaderID:S,customFragmentShaderID:C,isRawShaderMaterial:!0===a.isRawShaderMaterial,glslVersion:a.glslVersion,precision:d,instancing:I,instancingColor:I&&null!==m.instanceColor,supportsVertexTextures:f,outputColorSpace:null===P?e.outputColorSpace:!0===P.isXRRenderTarget?P.texture.colorSpace:mA,map:D,matcap:L,envMap:U,envMapMode:U&&x.mapping,envMapCubeUVHeight:_,aoMap:N,lightMap:O,bumpMap:F,normalMap:z,displacementMap:f&&G,emissiveMap:H,normalMapObjectSpace:z&&a.normalMapType===hA,normalMapTangentSpace:z&&a.normalMapType===dA,metalnessMap:V,roughnessMap:W,clearcoat:j,clearcoatMap:K,clearcoatNormalMap:Y,clearcoatRoughnessMap:q,iridescence:Q,iridescenceMap:Z,iridescenceThicknessMap:$,sheen:X,sheenColorMap:ee,sheenRoughnessMap:te,specularMap:ne,specularColorMap:re,specularIntensityMap:ie,transmission:J,transmissionMap:ae,thicknessMap:Ae,gradientMap:oe,opaque:!1===a.transparent&&a.blending===Jr,alphaMap:se,alphaTest:le,combine:a.combine,mapUv:D&&p(a.map.channel),aoMapUv:N&&p(a.aoMap.channel),lightMapUv:O&&p(a.lightMap.channel),bumpMapUv:F&&p(a.bumpMap.channel),normalMapUv:z&&p(a.normalMap.channel),displacementMapUv:G&&p(a.displacementMap.channel),emissiveMapUv:H&&p(a.emissiveMap.channel),metalnessMapUv:V&&p(a.metalnessMap.channel),roughnessMapUv:W&&p(a.roughnessMap.channel),clearcoatMapUv:K&&p(a.clearcoatMap.channel),clearcoatNormalMapUv:Y&&p(a.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:q&&p(a.clearcoatRoughnessMap.channel),iridescenceMapUv:Z&&p(a.iridescenceMap.channel),iridescenceThicknessMapUv:$&&p(a.iridescenceThicknessMap.channel),sheenColorMapUv:ee&&p(a.sheenColorMap.channel),sheenRoughnessMapUv:te&&p(a.sheenRoughnessMap.channel),specularMapUv:ne&&p(a.specularMap.channel),specularColorMapUv:re&&p(a.specularColorMap.channel),specularIntensityMapUv:ie&&p(a.specularIntensityMap.channel),transmissionMapUv:ae&&p(a.transmissionMap.channel),thicknessMapUv:Ae&&p(a.thicknessMap.channel),alphaMapUv:se&&p(a.alphaMap.channel),vertexTangents:z&&!!y.attributes.tangent,vertexColors:a.vertexColors,vertexAlphas:!0===a.vertexColors&&!!y.attributes.color&&4===y.attributes.color.itemSize,vertexUv1s:ce,vertexUv2s:fe,vertexUv3s:de,pointsUvs:!0===m.isPoints&&!!y.attributes.uv&&(D||se),fog:!!g,useFog:!0===a.fog,fogExp2:g&&g.isFogExp2,flatShading:!0===a.flatShading,sizeAttenuation:!0===a.sizeAttenuation,logarithmicDepthBuffer:c,skinning:!0===m.isSkinnedMesh,morphTargets:void 0!==y.morphAttributes.position,morphNormals:void 0!==y.morphAttributes.normal,morphColors:void 0!==y.morphAttributes.color,morphTargetsCount:k,morphTextureStride:B,numDirLights:o.directional.length,numPointLights:o.point.length,numSpotLights:o.spot.length,numSpotLightMaps:o.spotLightMap.length,numRectAreaLights:o.rectArea.length,numHemiLights:o.hemi.length,numDirLightShadows:o.directionalShadowMap.length,numPointLightShadows:o.pointShadowMap.length,numSpotLightShadows:o.spotShadowMap.length,numSpotLightShadowsWithMaps:o.numSpotLightShadowsWithMaps,numClippingPlanes:A.numPlanes,numClipIntersection:A.numIntersection,dithering:a.dithering,shadowMapEnabled:e.shadowMap.enabled&&l.length>0,shadowMapType:e.shadowMap.type,toneMapping:a.toneMapped?e.toneMapping:Si,useLegacyLights:e.useLegacyLights,premultipliedAlpha:a.premultipliedAlpha,doubleSided:a.side===jr,flipSided:a.side===Wr,useDepthPacking:a.depthPacking>=0,depthPacking:a.depthPacking||0,index0AttributeName:a.index0AttributeName,extensionDerivatives:ue&&!0===a.extensions.derivatives,extensionFragDepth:ue&&!0===a.extensions.fragDepth,extensionDrawBuffers:ue&&!0===a.extensions.drawBuffers,extensionShaderTextureLOD:ue&&!0===a.extensions.shaderTextureLOD,rendererExtensionFragDepth:u||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:u||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:u||r.has("EXT_shader_texture_lod"),customProgramCacheKey:a.customProgramCacheKey()}},getProgramCacheKey:function(t){var n=[];if(t.shaderID?n.push(t.shaderID):(n.push(t.customVertexShaderID),n.push(t.customFragmentShaderID)),void 0!==t.defines)for(var r in t.defines)n.push(r),n.push(t.defines[r]);return!1===t.isRawShaderMaterial&&(!function(e,t){e.push(t.precision),e.push(t.outputColorSpace),e.push(t.envMapMode),e.push(t.envMapCubeUVHeight),e.push(t.mapUv),e.push(t.alphaMapUv),e.push(t.lightMapUv),e.push(t.aoMapUv),e.push(t.bumpMapUv),e.push(t.normalMapUv),e.push(t.displacementMapUv),e.push(t.emissiveMapUv),e.push(t.metalnessMapUv),e.push(t.roughnessMapUv),e.push(t.clearcoatMapUv),e.push(t.clearcoatNormalMapUv),e.push(t.clearcoatRoughnessMapUv),e.push(t.iridescenceMapUv),e.push(t.iridescenceThicknessMapUv),e.push(t.sheenColorMapUv),e.push(t.sheenRoughnessMapUv),e.push(t.specularMapUv),e.push(t.specularColorMapUv),e.push(t.specularIntensityMapUv),e.push(t.transmissionMapUv),e.push(t.thicknessMapUv),e.push(t.combine),e.push(t.fogExp2),e.push(t.sizeAttenuation),e.push(t.morphTargetsCount),e.push(t.morphAttributeCount),e.push(t.numDirLights),e.push(t.numPointLights),e.push(t.numSpotLights),e.push(t.numSpotLightMaps),e.push(t.numHemiLights),e.push(t.numRectAreaLights),e.push(t.numDirLightShadows),e.push(t.numPointLightShadows),e.push(t.numSpotLightShadows),e.push(t.numSpotLightShadowsWithMaps),e.push(t.shadowMapType),e.push(t.toneMapping),e.push(t.numClippingPlanes),e.push(t.numClipIntersection),e.push(t.depthPacking)}(n,t),function(e,t){o.disableAll(),t.isWebGL2&&o.enable(0);t.supportsVertexTextures&&o.enable(1);t.instancing&&o.enable(2);t.instancingColor&&o.enable(3);t.matcap&&o.enable(4);t.envMap&&o.enable(5);t.normalMapObjectSpace&&o.enable(6);t.normalMapTangentSpace&&o.enable(7);t.clearcoat&&o.enable(8);t.iridescence&&o.enable(9);t.alphaTest&&o.enable(10);t.vertexColors&&o.enable(11);t.vertexAlphas&&o.enable(12);t.vertexUv1s&&o.enable(13);t.vertexUv2s&&o.enable(14);t.vertexUv3s&&o.enable(15);t.vertexTangents&&o.enable(16);e.push(o.mask),o.disableAll(),t.fog&&o.enable(0);t.useFog&&o.enable(1);t.flatShading&&o.enable(2);t.logarithmicDepthBuffer&&o.enable(3);t.skinning&&o.enable(4);t.morphTargets&&o.enable(5);t.morphNormals&&o.enable(6);t.morphColors&&o.enable(7);t.premultipliedAlpha&&o.enable(8);t.shadowMapEnabled&&o.enable(9);t.useLegacyLights&&o.enable(10);t.doubleSided&&o.enable(11);t.flipSided&&o.enable(12);t.useDepthPacking&&o.enable(13);t.dithering&&o.enable(14);t.transmission&&o.enable(15);t.sheen&&o.enable(16);t.opaque&&o.enable(17);t.pointsUvs&&o.enable(18);e.push(o.mask)}(n,t),n.push(e.outputColorSpace)),n.push(t.customProgramCacheKey),n.join()},getUniforms:function(e){var t,n=h[e.type];if(n){var r=wu[n];t=ru.clone(r.uniforms)}else t=e.uniforms;return t},acquireProgram:function(t,n){for(var r,i=0,A=l.length;i<A;i++){var o=l[i];if(o.cacheKey===n){++(r=o).usedTimes;break}}return void 0===r&&(r=new bf(e,n,t,a),l.push(r)),r},releaseProgram:function(e){if(0===--e.usedTimes){var t=l.indexOf(e);l[t]=l[l.length-1],l.pop(),e.destroy()}},releaseShaderCache:function(e){s.remove(e)},programs:l,dispose:function(){s.dispose()}}}function Mf(){var e=new WeakMap;return{get:function(t){var n=e.get(t);return void 0===n&&(n={},e.set(t,n)),n},remove:function(t){e.delete(t)},update:function(t,n,r){e.get(t)[n]=r},dispose:function(){e=new WeakMap}}}function Sf(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function Cf(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function Tf(){var e=[],t=0,n=[],r=[],i=[];function a(n,r,i,a,A,o){var s=e[t];return void 0===s?(s={id:n.id,object:n,geometry:r,material:i,groupOrder:a,renderOrder:n.renderOrder,z:A,group:o},e[t]=s):(s.id=n.id,s.object=n,s.geometry=r,s.material=i,s.groupOrder=a,s.renderOrder=n.renderOrder,s.z=A,s.group=o),t++,s}return{opaque:n,transmissive:r,transparent:i,init:function(){t=0,n.length=0,r.length=0,i.length=0},push:function(e,t,A,o,s,l){var u=a(e,t,A,o,s,l);A.transmission>0?r.push(u):!0===A.transparent?i.push(u):n.push(u)},unshift:function(e,t,A,o,s,l){var u=a(e,t,A,o,s,l);A.transmission>0?r.unshift(u):!0===A.transparent?i.unshift(u):n.unshift(u)},finish:function(){for(var n=t,r=e.length;n<r;n++){var i=e[n];if(null===i.id)break;i.id=null,i.object=null,i.geometry=null,i.material=null,i.group=null}},sort:function(e,t){n.length>1&&n.sort(e||Sf),r.length>1&&r.sort(t||Cf),i.length>1&&i.sort(t||Cf)}}}function kf(){var e=new WeakMap;return{get:function(t,n){var r,i=e.get(t);return void 0===i?(r=new Tf,e.set(t,[r])):n>=i.length?(r=new Tf,i.push(r)):r=i[n],r},dispose:function(){e=new WeakMap}}}function Bf(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var n;switch(t.type){case"DirectionalLight":n={direction:new Fo,color:new al};break;case"SpotLight":n={position:new Fo,direction:new Fo,color:new al,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new Fo,color:new al,distance:0,decay:0};break;case"HemisphereLight":n={direction:new Fo,skyColor:new al,groundColor:new al};break;case"RectAreaLight":n={color:new al,position:new Fo,halfWidth:new Fo,halfHeight:new Fo}}return e[t.id]=n,n}}}var Rf=0;function Pf(e,t){return(t.castShadow?2:0)-(e.castShadow?2:0)+(t.map?1:0)-(e.map?1:0)}function If(e,t){for(var n=new Bf,r=function(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var n;switch(t.type){case"DirectionalLight":case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new so};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new so,shadowCameraNear:1,shadowCameraFar:1e3}}return e[t.id]=n,n}}}(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0},a=0;a<9;a++)i.probe.push(new Fo);var A=new Fo,o=new ps,s=new ps;return{setup:function(a,A){for(var o=0,s=0,l=0,u=0;u<9;u++)i.probe[u].set(0,0,0);var c=0,f=0,d=0,h=0,p=0,v=0,m=0,g=0,y=0,b=0;a.sort(Pf);for(var x=!0===A?Math.PI:1,_=0,w=a.length;_<w;_++){var E=a[_],M=E.color,S=E.intensity,C=E.distance,T=E.shadow&&E.shadow.map?E.shadow.map.texture:null;if(E.isAmbientLight)o+=M.r*S*x,s+=M.g*S*x,l+=M.b*S*x;else if(E.isLightProbe)for(var k=0;k<9;k++)i.probe[k].addScaledVector(E.sh.coefficients[k],S);else if(E.isDirectionalLight){var B=n.get(E);if(B.color.copy(E.color).multiplyScalar(E.intensity*x),E.castShadow){var R=E.shadow,P=r.get(E);P.shadowBias=R.bias,P.shadowNormalBias=R.normalBias,P.shadowRadius=R.radius,P.shadowMapSize=R.mapSize,i.directionalShadow[c]=P,i.directionalShadowMap[c]=T,i.directionalShadowMatrix[c]=E.shadow.matrix,v++}i.directional[c]=B,c++}else if(E.isSpotLight){var I=n.get(E);I.position.setFromMatrixPosition(E.matrixWorld),I.color.copy(M).multiplyScalar(S*x),I.distance=C,I.coneCos=Math.cos(E.angle),I.penumbraCos=Math.cos(E.angle*(1-E.penumbra)),I.decay=E.decay,i.spot[d]=I;var D=E.shadow;if(E.map&&(i.spotLightMap[y]=E.map,y++,D.updateMatrices(E),E.castShadow&&b++),i.spotLightMatrix[d]=D.matrix,E.castShadow){var L=r.get(E);L.shadowBias=D.bias,L.shadowNormalBias=D.normalBias,L.shadowRadius=D.radius,L.shadowMapSize=D.mapSize,i.spotShadow[d]=L,i.spotShadowMap[d]=T,g++}d++}else if(E.isRectAreaLight){var U=n.get(E);U.color.copy(M).multiplyScalar(S),U.halfWidth.set(.5*E.width,0,0),U.halfHeight.set(0,.5*E.height,0),i.rectArea[h]=U,h++}else if(E.isPointLight){var N=n.get(E);if(N.color.copy(E.color).multiplyScalar(E.intensity*x),N.distance=E.distance,N.decay=E.decay,E.castShadow){var O=E.shadow,F=r.get(E);F.shadowBias=O.bias,F.shadowNormalBias=O.normalBias,F.shadowRadius=O.radius,F.shadowMapSize=O.mapSize,F.shadowCameraNear=O.camera.near,F.shadowCameraFar=O.camera.far,i.pointShadow[f]=F,i.pointShadowMap[f]=T,i.pointShadowMatrix[f]=E.shadow.matrix,m++}i.point[f]=N,f++}else if(E.isHemisphereLight){var z=n.get(E);z.skyColor.copy(E.color).multiplyScalar(S*x),z.groundColor.copy(E.groundColor).multiplyScalar(S*x),i.hemi[p]=z,p++}}h>0&&(t.isWebGL2||!0===e.has("OES_texture_float_linear")?(i.rectAreaLTC1=_u.LTC_FLOAT_1,i.rectAreaLTC2=_u.LTC_FLOAT_2):!0===e.has("OES_texture_half_float_linear")?(i.rectAreaLTC1=_u.LTC_HALF_1,i.rectAreaLTC2=_u.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=o,i.ambient[1]=s,i.ambient[2]=l;var G=i.hash;G.directionalLength===c&&G.pointLength===f&&G.spotLength===d&&G.rectAreaLength===h&&G.hemiLength===p&&G.numDirectionalShadows===v&&G.numPointShadows===m&&G.numSpotShadows===g&&G.numSpotMaps===y||(i.directional.length=c,i.spot.length=d,i.rectArea.length=h,i.point.length=f,i.hemi.length=p,i.directionalShadow.length=v,i.directionalShadowMap.length=v,i.pointShadow.length=m,i.pointShadowMap.length=m,i.spotShadow.length=g,i.spotShadowMap.length=g,i.directionalShadowMatrix.length=v,i.pointShadowMatrix.length=m,i.spotLightMatrix.length=g+y-b,i.spotLightMap.length=y,i.numSpotLightShadowsWithMaps=b,G.directionalLength=c,G.pointLength=f,G.spotLength=d,G.rectAreaLength=h,G.hemiLength=p,G.numDirectionalShadows=v,G.numPointShadows=m,G.numSpotShadows=g,G.numSpotMaps=y,i.version=Rf++)},setupView:function(e,t){for(var n=0,r=0,a=0,l=0,u=0,c=t.matrixWorldInverse,f=0,d=e.length;f<d;f++){var h=e[f];if(h.isDirectionalLight){var p=i.directional[n];p.direction.setFromMatrixPosition(h.matrixWorld),A.setFromMatrixPosition(h.target.matrixWorld),p.direction.sub(A),p.direction.transformDirection(c),n++}else if(h.isSpotLight){var v=i.spot[a];v.position.setFromMatrixPosition(h.matrixWorld),v.position.applyMatrix4(c),v.direction.setFromMatrixPosition(h.matrixWorld),A.setFromMatrixPosition(h.target.matrixWorld),v.direction.sub(A),v.direction.transformDirection(c),a++}else if(h.isRectAreaLight){var m=i.rectArea[l];m.position.setFromMatrixPosition(h.matrixWorld),m.position.applyMatrix4(c),s.identity(),o.copy(h.matrixWorld),o.premultiply(c),s.extractRotation(o),m.halfWidth.set(.5*h.width,0,0),m.halfHeight.set(0,.5*h.height,0),m.halfWidth.applyMatrix4(s),m.halfHeight.applyMatrix4(s),l++}else if(h.isPointLight){var g=i.point[r];g.position.setFromMatrixPosition(h.matrixWorld),g.position.applyMatrix4(c),r++}else if(h.isHemisphereLight){var y=i.hemi[u];y.direction.setFromMatrixPosition(h.matrixWorld),y.direction.transformDirection(c),u++}}},state:i}}function Df(e,t){var n=new If(e,t),r=[],i=[];return{init:function(){r.length=0,i.length=0},state:{lightsArray:r,shadowsArray:i,lights:n},setupLights:function(e){n.setup(r,e)},setupLightsView:function(e){n.setupView(r,e)},pushLight:function(e){r.push(e)},pushShadow:function(e){i.push(e)}}}function Lf(e,t){var n=new WeakMap;return{get:function(r){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,A=n.get(r);return void 0===A?(i=new Df(e,t),n.set(r,[i])):a>=A.length?(i=new Df(e,t),A.push(i)):i=A[a],i},dispose:function(){n=new WeakMap}}}var Uf=function(e){br(n,e);var t=Er(n);function n(e){var r;return vr(this,n),(r=t.call(this)).isMeshDepthMaterial=!0,r.type="MeshDepthMaterial",r.depthPacking=cA,r.map=null,r.alphaMap=null,r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.wireframe=!1,r.wireframeLinewidth=1,r.setValues(e),r}return gr(n,[{key:"copy",value:function(e){return Br(xr(n.prototype),"copy",this).call(this,e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}]),n}(el),Nf=function(e){br(n,e);var t=Er(n);function n(e){var r;return vr(this,n),(r=t.call(this)).isMeshDistanceMaterial=!0,r.type="MeshDistanceMaterial",r.map=null,r.alphaMap=null,r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.setValues(e),r}return gr(n,[{key:"copy",value:function(e){return Br(xr(n.prototype),"copy",this).call(this,e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}]),n}(el);function Of(e,t,n){var r,i=new mu,a=new so,A=new so,o=new Ro,s=new Uf({depthPacking:fA}),l=new Nf,u={},c=n.maxTextureSize,f=(dr(r={},Vr,Wr),dr(r,Wr,Vr),dr(r,jr,jr),r),d=new iu({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new so},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),h=d.clone();h.defines.HORIZONTAL_PASS=1;var p=new Il;p.setAttribute("position",new pl(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));var v=new ql(p,d),m=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=zr;var g=this.type;function y(n,r){var i=t.update(v);d.defines.VSM_SAMPLES!==n.blurSamples&&(d.defines.VSM_SAMPLES=n.blurSamples,h.defines.VSM_SAMPLES=n.blurSamples,d.needsUpdate=!0,h.needsUpdate=!0),null===n.mapPass&&(n.mapPass=new Po(a.x,a.y)),d.uniforms.shadow_pass.value=n.map.texture,d.uniforms.resolution.value=n.mapSize,d.uniforms.radius.value=n.radius,e.setRenderTarget(n.mapPass),e.clear(),e.renderBufferDirect(r,null,i,d,v,null),h.uniforms.shadow_pass.value=n.mapPass.texture,h.uniforms.resolution.value=n.mapSize,h.uniforms.radius.value=n.radius,e.setRenderTarget(n.map),e.clear(),e.renderBufferDirect(r,null,i,h,v,null)}function b(t,n,r,i){var a=null,A=!0===r.isPointLight?t.customDistanceMaterial:t.customDepthMaterial;if(void 0!==A)a=A;else if(a=!0===r.isPointLight?l:s,e.localClippingEnabled&&!0===n.clipShadows&&Array.isArray(n.clippingPlanes)&&0!==n.clippingPlanes.length||n.displacementMap&&0!==n.displacementScale||n.alphaMap&&n.alphaTest>0||n.map&&n.alphaTest>0){var o=a.uuid,c=n.uuid,d=u[o];void 0===d&&(d={},u[o]=d);var h=d[c];void 0===h&&(h=a.clone(),d[c]=h),a=h}(a.visible=n.visible,a.wireframe=n.wireframe,a.side=i===Hr?null!==n.shadowSide?n.shadowSide:n.side:null!==n.shadowSide?n.shadowSide:f[n.side],a.alphaMap=n.alphaMap,a.alphaTest=n.alphaTest,a.map=n.map,a.clipShadows=n.clipShadows,a.clippingPlanes=n.clippingPlanes,a.clipIntersection=n.clipIntersection,a.displacementMap=n.displacementMap,a.displacementScale=n.displacementScale,a.displacementBias=n.displacementBias,a.wireframeLinewidth=n.wireframeLinewidth,a.linewidth=n.linewidth,!0===r.isPointLight&&!0===a.isMeshDistanceMaterial)&&(e.properties.get(a).light=r);return a}function x(n,r,a,A,o){if(!1!==n.visible){if(n.layers.test(r.layers)&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&o===Hr)&&(!n.frustumCulled||i.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(a.matrixWorldInverse,n.matrixWorld);var s=t.update(n),l=n.material;if(Array.isArray(l))for(var u=s.groups,c=0,f=u.length;c<f;c++){var d=u[c],h=l[d.materialIndex];if(h&&h.visible){var p=b(n,h,A,o);e.renderBufferDirect(a,null,s,p,n,d)}}else if(l.visible){var v=b(n,l,A,o);e.renderBufferDirect(a,null,s,v,n,null)}}for(var m=n.children,g=0,y=m.length;g<y;g++)x(m[g],r,a,A,o)}}this.render=function(t,n,r){if(!1!==m.enabled&&(!1!==m.autoUpdate||!1!==m.needsUpdate)&&0!==t.length){var s=e.getRenderTarget(),l=e.getActiveCubeFace(),u=e.getActiveMipmapLevel(),f=e.state;f.setBlending(Xr),f.buffers.color.setClear(1,1,1,1),f.buffers.depth.setTest(!0),f.setScissorTest(!1);for(var d=g!==Hr&&this.type===Hr,h=g===Hr&&this.type!==Hr,p=0,v=t.length;p<v;p++){var b=t[p],_=b.shadow;if(void 0!==_){if(!1!==_.autoUpdate||!1!==_.needsUpdate){a.copy(_.mapSize);var w=_.getFrameExtents();if(a.multiply(w),A.copy(_.mapSize),(a.x>c||a.y>c)&&(a.x>c&&(A.x=Math.floor(c/w.x),a.x=A.x*w.x,_.mapSize.x=A.x),a.y>c&&(A.y=Math.floor(c/w.y),a.y=A.y*w.y,_.mapSize.y=A.y)),null===_.map||!0===d||!0===h){var E=this.type!==Hr?{minFilter:Gi,magFilter:Gi}:{};null!==_.map&&_.map.dispose(),_.map=new Po(a.x,a.y,E),_.map.texture.name=b.name+".shadowMap",_.camera.updateProjectionMatrix()}e.setRenderTarget(_.map),e.clear();for(var M=_.getViewportCount(),S=0;S<M;S++){var C=_.getViewport(S);o.set(A.x*C.x,A.y*C.y,A.x*C.z,A.y*C.w),f.viewport(o),_.updateMatrices(b,S),i=_.getFrustum(),x(n,r,_.camera,b,this.type)}!0!==_.isPointLightShadow&&this.type===Hr&&y(_,r),_.needsUpdate=!1}}else console.warn("THREE.WebGLShadowMap:",b,"has no shadow.")}g=this.type,m.needsUpdate=!1,e.setRenderTarget(s,l,u)}}}function Ff(e,t,n){var r,i,a=n.isWebGL2;var A=new function(){var t=!1,n=new Ro,r=null,i=new Ro(0,0,0,0);return{setMask:function(n){r===n||t||(e.colorMask(n,n,n,n),r=n)},setLocked:function(e){t=e},setClear:function(t,r,a,A,o){!0===o&&(t*=A,r*=A,a*=A),n.set(t,r,a,A),!1===i.equals(n)&&(e.clearColor(t,r,a,A),i.copy(n))},reset:function(){t=!1,r=null,i.set(-1,0,0,0)}}},o=new function(){var t=!1,n=null,r=null,i=null;return{setTest:function(t){t?H(e.DEPTH_TEST):V(e.DEPTH_TEST)},setMask:function(r){n===r||t||(e.depthMask(r),n=r)},setFunc:function(t){if(r!==t){switch(t){case pi:e.depthFunc(e.NEVER);break;case vi:e.depthFunc(e.ALWAYS);break;case mi:e.depthFunc(e.LESS);break;case gi:e.depthFunc(e.LEQUAL);break;case yi:e.depthFunc(e.EQUAL);break;case bi:e.depthFunc(e.GEQUAL);break;case xi:e.depthFunc(e.GREATER);break;case _i:e.depthFunc(e.NOTEQUAL);break;default:e.depthFunc(e.LEQUAL)}r=t}},setLocked:function(e){t=e},setClear:function(t){i!==t&&(e.clearDepth(t),i=t)},reset:function(){t=!1,n=null,r=null,i=null}}},s=new function(){var t=!1,n=null,r=null,i=null,a=null,A=null,o=null,s=null,l=null;return{setTest:function(n){t||(n?H(e.STENCIL_TEST):V(e.STENCIL_TEST))},setMask:function(r){n===r||t||(e.stencilMask(r),n=r)},setFunc:function(t,n,A){r===t&&i===n&&a===A||(e.stencilFunc(t,n,A),r=t,i=n,a=A)},setOp:function(t,n,r){A===t&&o===n&&s===r||(e.stencilOp(t,n,r),A=t,o=n,s=r)},setLocked:function(e){t=e},setClear:function(t){l!==t&&(e.clearStencil(t),l=t)},reset:function(){t=!1,n=null,r=null,i=null,a=null,A=null,o=null,s=null,l=null}}},l=new WeakMap,u=new WeakMap,c={},f={},d=new WeakMap,h=[],p=null,v=!1,m=null,g=null,y=null,b=null,x=null,_=null,w=null,E=!1,M=null,S=null,C=null,T=null,k=null,B=e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS),R=!1,P=0,I=e.getParameter(e.VERSION);-1!==I.indexOf("WebGL")?(P=parseFloat(/^WebGL (\d)/.exec(I)[1]),R=P>=1):-1!==I.indexOf("OpenGL ES")&&(P=parseFloat(/^OpenGL ES (\d)/.exec(I)[1]),R=P>=2);var D=null,L={},U=e.getParameter(e.SCISSOR_BOX),N=e.getParameter(e.VIEWPORT),O=(new Ro).fromArray(U),F=(new Ro).fromArray(N);function z(t,n,r,i){var A=new Uint8Array(4),o=e.createTexture();e.bindTexture(t,o),e.texParameteri(t,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(t,e.TEXTURE_MAG_FILTER,e.NEAREST);for(var s=0;s<r;s++)!a||t!==e.TEXTURE_3D&&t!==e.TEXTURE_2D_ARRAY?e.texImage2D(n+s,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,A):e.texImage3D(n,0,e.RGBA,1,1,i,0,e.RGBA,e.UNSIGNED_BYTE,A);return o}var G={};function H(t){!0!==c[t]&&(e.enable(t),c[t]=!0)}function V(t){!1!==c[t]&&(e.disable(t),c[t]=!1)}G[e.TEXTURE_2D]=z(e.TEXTURE_2D,e.TEXTURE_2D,1),G[e.TEXTURE_CUBE_MAP]=z(e.TEXTURE_CUBE_MAP,e.TEXTURE_CUBE_MAP_POSITIVE_X,6),a&&(G[e.TEXTURE_2D_ARRAY]=z(e.TEXTURE_2D_ARRAY,e.TEXTURE_2D_ARRAY,1,1),G[e.TEXTURE_3D]=z(e.TEXTURE_3D,e.TEXTURE_3D,1,1)),A.setClear(0,0,0,1),o.setClear(1),s.setClear(0),H(e.DEPTH_TEST),o.setFunc(gi),J(!1),K(Ur),H(e.CULL_FACE),X(Xr);var W=(dr(r={},$r,e.FUNC_ADD),dr(r,ei,e.FUNC_SUBTRACT),dr(r,ti,e.FUNC_REVERSE_SUBTRACT),r);if(a)W[ni]=e.MIN,W[ri]=e.MAX;else{var j=t.get("EXT_blend_minmax");null!==j&&(W[ni]=j.MIN_EXT,W[ri]=j.MAX_EXT)}var Q=(dr(i={},ii,e.ZERO),dr(i,ai,e.ONE),dr(i,Ai,e.SRC_COLOR),dr(i,si,e.SRC_ALPHA),dr(i,hi,e.SRC_ALPHA_SATURATE),dr(i,fi,e.DST_COLOR),dr(i,ui,e.DST_ALPHA),dr(i,oi,e.ONE_MINUS_SRC_COLOR),dr(i,li,e.ONE_MINUS_SRC_ALPHA),dr(i,di,e.ONE_MINUS_DST_COLOR),dr(i,ci,e.ONE_MINUS_DST_ALPHA),i);function X(t,n,r,i,a,A,o,s){if(t!==Xr){if(!1===v&&(H(e.BLEND),v=!0),t===Zr)a=a||n,A=A||r,o=o||i,n===g&&a===x||(e.blendEquationSeparate(W[n],W[a]),g=n,x=a),r===y&&i===b&&A===_&&o===w||(e.blendFuncSeparate(Q[r],Q[i],Q[A],Q[o]),y=r,b=i,_=A,w=o),m=t,E=!1;else if(t!==m||s!==E){if(g===$r&&x===$r||(e.blendEquation(e.FUNC_ADD),g=$r,x=$r),s)switch(t){case Jr:e.blendFuncSeparate(e.ONE,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case Kr:e.blendFunc(e.ONE,e.ONE);break;case Yr:e.blendFuncSeparate(e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ZERO,e.ONE);break;case qr:e.blendFuncSeparate(e.ZERO,e.SRC_COLOR,e.ZERO,e.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}else switch(t){case Jr:e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case Kr:e.blendFunc(e.SRC_ALPHA,e.ONE);break;case Yr:e.blendFuncSeparate(e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ZERO,e.ONE);break;case qr:e.blendFunc(e.ZERO,e.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}y=null,b=null,_=null,w=null,m=t,E=s}}else!0===v&&(V(e.BLEND),v=!1)}function J(t){M!==t&&(t?e.frontFace(e.CW):e.frontFace(e.CCW),M=t)}function K(t){t!==Lr?(H(e.CULL_FACE),t!==S&&(t===Ur?e.cullFace(e.BACK):t===Nr?e.cullFace(e.FRONT):e.cullFace(e.FRONT_AND_BACK))):V(e.CULL_FACE),S=t}function Y(t,n,r){t?(H(e.POLYGON_OFFSET_FILL),T===n&&k===r||(e.polygonOffset(n,r),T=n,k=r)):V(e.POLYGON_OFFSET_FILL)}return{buffers:{color:A,depth:o,stencil:s},enable:H,disable:V,bindFramebuffer:function(t,n){return f[t]!==n&&(e.bindFramebuffer(t,n),f[t]=n,a&&(t===e.DRAW_FRAMEBUFFER&&(f[e.FRAMEBUFFER]=n),t===e.FRAMEBUFFER&&(f[e.DRAW_FRAMEBUFFER]=n)),!0)},drawBuffers:function(r,i){var a=h,A=!1;if(r)if(void 0===(a=d.get(i))&&(a=[],d.set(i,a)),r.isWebGLMultipleRenderTargets){var o=r.texture;if(a.length!==o.length||a[0]!==e.COLOR_ATTACHMENT0){for(var s=0,l=o.length;s<l;s++)a[s]=e.COLOR_ATTACHMENT0+s;a.length=o.length,A=!0}}else a[0]!==e.COLOR_ATTACHMENT0&&(a[0]=e.COLOR_ATTACHMENT0,A=!0);else a[0]!==e.BACK&&(a[0]=e.BACK,A=!0);A&&(n.isWebGL2?e.drawBuffers(a):t.get("WEBGL_draw_buffers").drawBuffersWEBGL(a))},useProgram:function(t){return p!==t&&(e.useProgram(t),p=t,!0)},setBlending:X,setMaterial:function(t,n){t.side===jr?V(e.CULL_FACE):H(e.CULL_FACE);var r=t.side===Wr;n&&(r=!r),J(r),t.blending===Jr&&!1===t.transparent?X(Xr):X(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.premultipliedAlpha),o.setFunc(t.depthFunc),o.setTest(t.depthTest),o.setMask(t.depthWrite),A.setMask(t.colorWrite);var i=t.stencilWrite;s.setTest(i),i&&(s.setMask(t.stencilWriteMask),s.setFunc(t.stencilFunc,t.stencilRef,t.stencilFuncMask),s.setOp(t.stencilFail,t.stencilZFail,t.stencilZPass)),Y(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits),!0===t.alphaToCoverage?H(e.SAMPLE_ALPHA_TO_COVERAGE):V(e.SAMPLE_ALPHA_TO_COVERAGE)},setFlipSided:J,setCullFace:K,setLineWidth:function(t){t!==C&&(R&&e.lineWidth(t),C=t)},setPolygonOffset:Y,setScissorTest:function(t){t?H(e.SCISSOR_TEST):V(e.SCISSOR_TEST)},activeTexture:function(t){void 0===t&&(t=e.TEXTURE0+B-1),D!==t&&(e.activeTexture(t),D=t)},bindTexture:function(t,n,r){void 0===r&&(r=null===D?e.TEXTURE0+B-1:D);var i=L[r];void 0===i&&(i={type:void 0,texture:void 0},L[r]=i),i.type===t&&i.texture===n||(D!==r&&(e.activeTexture(r),D=r),e.bindTexture(t,n||G[t]),i.type=t,i.texture=n)},unbindTexture:function(){var t=L[D];void 0!==t&&void 0!==t.type&&(e.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},compressedTexImage3D:function(){try{e.compressedTexImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage3D:function(){try{e.texImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},updateUBOMapping:function(t,n){var r=u.get(n);void 0===r&&(r=new WeakMap,u.set(n,r));var i=r.get(t);void 0===i&&(i=e.getUniformBlockIndex(n,t.name),r.set(t,i))},uniformBlockBinding:function(t,n){var r=u.get(n).get(t);l.get(n)!==r&&(e.uniformBlockBinding(n,r,t.__bindingPointIndex),l.set(n,r))},texStorage2D:function(){try{e.texStorage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texStorage3D:function(){try{e.texStorage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texSubImage2D:function(){try{e.texSubImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texSubImage3D:function(){try{e.texSubImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},compressedTexSubImage2D:function(){try{e.compressedTexSubImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},compressedTexSubImage3D:function(){try{e.compressedTexSubImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},scissor:function(t){!1===O.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),O.copy(t))},viewport:function(t){!1===F.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),F.copy(t))},reset:function(){e.disable(e.BLEND),e.disable(e.CULL_FACE),e.disable(e.DEPTH_TEST),e.disable(e.POLYGON_OFFSET_FILL),e.disable(e.SCISSOR_TEST),e.disable(e.STENCIL_TEST),e.disable(e.SAMPLE_ALPHA_TO_COVERAGE),e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ONE,e.ZERO),e.blendFuncSeparate(e.ONE,e.ZERO,e.ONE,e.ZERO),e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.depthMask(!0),e.depthFunc(e.LESS),e.clearDepth(1),e.stencilMask(4294967295),e.stencilFunc(e.ALWAYS,0,4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP),e.clearStencil(0),e.cullFace(e.BACK),e.frontFace(e.CCW),e.polygonOffset(0,0),e.activeTexture(e.TEXTURE0),e.bindFramebuffer(e.FRAMEBUFFER,null),!0===a&&(e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),e.bindFramebuffer(e.READ_FRAMEBUFFER,null)),e.useProgram(null),e.lineWidth(1),e.scissor(0,0,e.canvas.width,e.canvas.height),e.viewport(0,0,e.canvas.width,e.canvas.height),c={},D=null,L={},f={},d=new WeakMap,h=[],p=null,v=!1,m=null,g=null,y=null,b=null,x=null,_=null,w=null,E=!1,M=null,S=null,C=null,T=null,k=null,O.set(0,0,e.canvas.width,e.canvas.height),F.set(0,0,e.canvas.width,e.canvas.height),A.reset(),o.reset(),s.reset()}}}function zf(e,t,n,r,i,a,A){var o,s,l,u=i.isWebGL2,c=i.maxTextures,f=i.maxCubemapSize,d=i.maxTextureSize,h=i.maxSamples,p=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,v="undefined"!==typeof navigator&&/OculusBrowser/g.test(navigator.userAgent),m=new WeakMap,g=new WeakMap,y=!1;try{y="undefined"!==typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(W){}function b(e,t){return y?new OffscreenCanvas(e,t):po("canvas")}function x(e,t,n,r){var i=1;if((e.width>r||e.height>r)&&(i=r/Math.max(e.width,e.height)),i<1||!0===t){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap){var a=t?io:Math.floor,A=a(i*e.width),o=a(i*e.height);void 0===l&&(l=b(A,o));var s=n?b(A,o):l;return s.width=A,s.height=o,s.getContext("2d").drawImage(e,0,0,A,o),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+e.width+"x"+e.height+") to ("+A+"x"+o+")."),s}return"data"in e&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+e.width+"x"+e.height+")."),e}return e}function _(e){return no(e.width)&&no(e.height)}function w(e,t){return e.generateMipmaps&&t&&e.minFilter!==Gi&&e.minFilter!==Qi}function E(t){e.generateMipmap(t)}function M(n,r,i,a){var A=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!1===u)return r;if(null!==n){if(void 0!==e[n])return e[n];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+n+"'")}var o=r;return r===e.RED&&(i===e.FLOAT&&(o=e.R32F),i===e.HALF_FLOAT&&(o=e.R16F),i===e.UNSIGNED_BYTE&&(o=e.R8)),r===e.RG&&(i===e.FLOAT&&(o=e.RG32F),i===e.HALF_FLOAT&&(o=e.RG16F),i===e.UNSIGNED_BYTE&&(o=e.RG8)),r===e.RGBA&&(i===e.FLOAT&&(o=e.RGBA32F),i===e.HALF_FLOAT&&(o=e.RGBA16F),i===e.UNSIGNED_BYTE&&(o=a===vA&&!1===A?e.SRGB8_ALPHA8:e.RGBA8),i===e.UNSIGNED_SHORT_4_4_4_4&&(o=e.RGBA4),i===e.UNSIGNED_SHORT_5_5_5_1&&(o=e.RGB5_A1)),o!==e.R16F&&o!==e.R32F&&o!==e.RG16F&&o!==e.RG32F&&o!==e.RGBA16F&&o!==e.RGBA32F||t.get("EXT_color_buffer_float"),o}function S(e,t,n){return!0===w(e,n)||e.isFramebufferTexture&&e.minFilter!==Gi&&e.minFilter!==Qi?Math.log2(Math.max(t.width,t.height))+1:void 0!==e.mipmaps&&e.mipmaps.length>0?e.mipmaps.length:e.isCompressedTexture&&Array.isArray(e.image)?t.mipmaps.length:1}function C(t){return t===Gi||t===Hi||t===Wi?e.NEAREST:e.LINEAR}function T(e){var t=e.target;t.removeEventListener("dispose",T),function(e){var t=r.get(e);if(void 0===t.__webglInit)return;var n=e.source,i=g.get(n);if(i){var a=i[t.__cacheKey];a.usedTimes--,0===a.usedTimes&&B(e),0===Object.keys(i).length&&g.delete(n)}r.remove(e)}(t),t.isVideoTexture&&m.delete(t)}function k(t){var n=t.target;n.removeEventListener("dispose",k),function(t){var n=t.texture,i=r.get(t),a=r.get(n);void 0!==a.__webglTexture&&(e.deleteTexture(a.__webglTexture),A.memory.textures--);t.depthTexture&&t.depthTexture.dispose();if(t.isWebGLCubeRenderTarget)for(var o=0;o<6;o++)e.deleteFramebuffer(i.__webglFramebuffer[o]),i.__webglDepthbuffer&&e.deleteRenderbuffer(i.__webglDepthbuffer[o]);else{if(e.deleteFramebuffer(i.__webglFramebuffer),i.__webglDepthbuffer&&e.deleteRenderbuffer(i.__webglDepthbuffer),i.__webglMultisampledFramebuffer&&e.deleteFramebuffer(i.__webglMultisampledFramebuffer),i.__webglColorRenderbuffer)for(var s=0;s<i.__webglColorRenderbuffer.length;s++)i.__webglColorRenderbuffer[s]&&e.deleteRenderbuffer(i.__webglColorRenderbuffer[s]);i.__webglDepthRenderbuffer&&e.deleteRenderbuffer(i.__webglDepthRenderbuffer)}if(t.isWebGLMultipleRenderTargets)for(var l=0,u=n.length;l<u;l++){var c=r.get(n[l]);c.__webglTexture&&(e.deleteTexture(c.__webglTexture),A.memory.textures--),r.remove(n[l])}r.remove(n),r.remove(t)}(n)}function B(t){var n=r.get(t);e.deleteTexture(n.__webglTexture);var i=t.source;delete g.get(i)[n.__cacheKey],A.memory.textures--}var R=0;function P(t,i){var a=r.get(t);if(t.isVideoTexture&&function(e){var t=A.render.frame;m.get(e)!==t&&(m.set(e,t),e.update())}(t),!1===t.isRenderTargetTexture&&t.version>0&&a.__version!==t.version){var o=t.image;if(null===o)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==o.complete)return void N(a,t,i);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.bindTexture(e.TEXTURE_2D,a.__webglTexture,e.TEXTURE0+i)}var I=(dr(o={},Oi,e.REPEAT),dr(o,Fi,e.CLAMP_TO_EDGE),dr(o,zi,e.MIRRORED_REPEAT),o),D=(dr(s={},Gi,e.NEAREST),dr(s,Hi,e.NEAREST_MIPMAP_NEAREST),dr(s,Wi,e.NEAREST_MIPMAP_LINEAR),dr(s,Qi,e.LINEAR),dr(s,Xi,e.LINEAR_MIPMAP_NEAREST),dr(s,Ki,e.LINEAR_MIPMAP_LINEAR),s);function L(n,a,A){if(A?(e.texParameteri(n,e.TEXTURE_WRAP_S,I[a.wrapS]),e.texParameteri(n,e.TEXTURE_WRAP_T,I[a.wrapT]),n!==e.TEXTURE_3D&&n!==e.TEXTURE_2D_ARRAY||e.texParameteri(n,e.TEXTURE_WRAP_R,I[a.wrapR]),e.texParameteri(n,e.TEXTURE_MAG_FILTER,D[a.magFilter]),e.texParameteri(n,e.TEXTURE_MIN_FILTER,D[a.minFilter])):(e.texParameteri(n,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(n,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),n!==e.TEXTURE_3D&&n!==e.TEXTURE_2D_ARRAY||e.texParameteri(n,e.TEXTURE_WRAP_R,e.CLAMP_TO_EDGE),a.wrapS===Fi&&a.wrapT===Fi||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(n,e.TEXTURE_MAG_FILTER,C(a.magFilter)),e.texParameteri(n,e.TEXTURE_MIN_FILTER,C(a.minFilter)),a.minFilter!==Gi&&a.minFilter!==Qi&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),!0===t.has("EXT_texture_filter_anisotropic")){var o=t.get("EXT_texture_filter_anisotropic");if(a.magFilter===Gi)return;if(a.minFilter!==Wi&&a.minFilter!==Ki)return;if(a.type===ra&&!1===t.has("OES_texture_float_linear"))return;if(!1===u&&a.type===ia&&!1===t.has("OES_texture_half_float_linear"))return;(a.anisotropy>1||r.get(a).__currentAnisotropy)&&(e.texParameterf(n,o.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(a.anisotropy,i.getMaxAnisotropy())),r.get(a).__currentAnisotropy=a.anisotropy)}}function U(t,n){var r=!1;void 0===t.__webglInit&&(t.__webglInit=!0,n.addEventListener("dispose",T));var i=n.source,a=g.get(i);void 0===a&&(a={},g.set(i,a));var o=function(e){var t=[];return t.push(e.wrapS),t.push(e.wrapT),t.push(e.wrapR||0),t.push(e.magFilter),t.push(e.minFilter),t.push(e.anisotropy),t.push(e.internalFormat),t.push(e.format),t.push(e.type),t.push(e.generateMipmaps),t.push(e.premultiplyAlpha),t.push(e.flipY),t.push(e.unpackAlignment),t.push(e.colorSpace),t.join()}(n);if(o!==t.__cacheKey){void 0===a[o]&&(a[o]={texture:e.createTexture(),usedTimes:0},A.memory.textures++,r=!0),a[o].usedTimes++;var s=a[t.__cacheKey];void 0!==s&&(a[t.__cacheKey].usedTimes--,0===s.usedTimes&&B(n)),t.__cacheKey=o,t.__webglTexture=a[o].texture}return r}function N(t,i,A){var o=e.TEXTURE_2D;(i.isDataArrayTexture||i.isCompressedArrayTexture)&&(o=e.TEXTURE_2D_ARRAY),i.isData3DTexture&&(o=e.TEXTURE_3D);var s=U(t,i),l=i.source;n.bindTexture(o,t.__webglTexture,e.TEXTURE0+A);var c=r.get(l);if(l.version!==c.__version||!0===s){n.activeTexture(e.TEXTURE0+A),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,i.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,i.unpackAlignment),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,e.NONE);var f,h=function(e){return!u&&(e.wrapS!==Fi||e.wrapT!==Fi||e.minFilter!==Gi&&e.minFilter!==Qi)}(i)&&!1===_(i.image),p=x(i.image,h,!1,d),v=_(p=V(i,p))||u,m=a.convert(i.format,i.colorSpace),g=a.convert(i.type),y=M(i.internalFormat,m,g,i.colorSpace);L(o,i,v);var b=i.mipmaps,C=u&&!0!==i.isVideoTexture,T=void 0===c.__version||!0===s,k=S(i,p,v);if(i.isDepthTexture)y=e.DEPTH_COMPONENT,u?y=i.type===ra?e.DEPTH_COMPONENT32F:i.type===na?e.DEPTH_COMPONENT24:i.type===oa?e.DEPTH24_STENCIL8:e.DEPTH_COMPONENT16:i.type===ra&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),i.format===fa&&y===e.DEPTH_COMPONENT&&i.type!==ea&&i.type!==na&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),i.type=na,g=a.convert(i.type)),i.format===da&&y===e.DEPTH_COMPONENT&&(y=e.DEPTH_STENCIL,i.type!==oa&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),i.type=oa,g=a.convert(i.type))),T&&(C?n.texStorage2D(e.TEXTURE_2D,1,y,p.width,p.height):n.texImage2D(e.TEXTURE_2D,0,y,p.width,p.height,0,m,g,null));else if(i.isDataTexture)if(b.length>0&&v){C&&T&&n.texStorage2D(e.TEXTURE_2D,k,y,b[0].width,b[0].height);for(var B=0,R=b.length;B<R;B++)f=b[B],C?n.texSubImage2D(e.TEXTURE_2D,B,0,0,f.width,f.height,m,g,f.data):n.texImage2D(e.TEXTURE_2D,B,y,f.width,f.height,0,m,g,f.data);i.generateMipmaps=!1}else C?(T&&n.texStorage2D(e.TEXTURE_2D,k,y,p.width,p.height),n.texSubImage2D(e.TEXTURE_2D,0,0,0,p.width,p.height,m,g,p.data)):n.texImage2D(e.TEXTURE_2D,0,y,p.width,p.height,0,m,g,p.data);else if(i.isCompressedTexture)if(i.isCompressedArrayTexture){C&&T&&n.texStorage3D(e.TEXTURE_2D_ARRAY,k,y,b[0].width,b[0].height,p.depth);for(var P=0,I=b.length;P<I;P++)f=b[P],i.format!==la?null!==m?C?n.compressedTexSubImage3D(e.TEXTURE_2D_ARRAY,P,0,0,0,f.width,f.height,p.depth,m,f.data,0,0):n.compressedTexImage3D(e.TEXTURE_2D_ARRAY,P,y,f.width,f.height,p.depth,0,f.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):C?n.texSubImage3D(e.TEXTURE_2D_ARRAY,P,0,0,0,f.width,f.height,p.depth,m,g,f.data):n.texImage3D(e.TEXTURE_2D_ARRAY,P,y,f.width,f.height,p.depth,0,m,g,f.data)}else{C&&T&&n.texStorage2D(e.TEXTURE_2D,k,y,b[0].width,b[0].height);for(var D=0,N=b.length;D<N;D++)f=b[D],i.format!==la?null!==m?C?n.compressedTexSubImage2D(e.TEXTURE_2D,D,0,0,f.width,f.height,m,f.data):n.compressedTexImage2D(e.TEXTURE_2D,D,y,f.width,f.height,0,f.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):C?n.texSubImage2D(e.TEXTURE_2D,D,0,0,f.width,f.height,m,g,f.data):n.texImage2D(e.TEXTURE_2D,D,y,f.width,f.height,0,m,g,f.data)}else if(i.isDataArrayTexture)C?(T&&n.texStorage3D(e.TEXTURE_2D_ARRAY,k,y,p.width,p.height,p.depth),n.texSubImage3D(e.TEXTURE_2D_ARRAY,0,0,0,0,p.width,p.height,p.depth,m,g,p.data)):n.texImage3D(e.TEXTURE_2D_ARRAY,0,y,p.width,p.height,p.depth,0,m,g,p.data);else if(i.isData3DTexture)C?(T&&n.texStorage3D(e.TEXTURE_3D,k,y,p.width,p.height,p.depth),n.texSubImage3D(e.TEXTURE_3D,0,0,0,0,p.width,p.height,p.depth,m,g,p.data)):n.texImage3D(e.TEXTURE_3D,0,y,p.width,p.height,p.depth,0,m,g,p.data);else if(i.isFramebufferTexture){if(T)if(C)n.texStorage2D(e.TEXTURE_2D,k,y,p.width,p.height);else for(var O=p.width,F=p.height,z=0;z<k;z++)n.texImage2D(e.TEXTURE_2D,z,y,O,F,0,m,g,null),O>>=1,F>>=1}else if(b.length>0&&v){C&&T&&n.texStorage2D(e.TEXTURE_2D,k,y,b[0].width,b[0].height);for(var G=0,H=b.length;G<H;G++)f=b[G],C?n.texSubImage2D(e.TEXTURE_2D,G,0,0,m,g,f):n.texImage2D(e.TEXTURE_2D,G,y,m,g,f);i.generateMipmaps=!1}else C?(T&&n.texStorage2D(e.TEXTURE_2D,k,y,p.width,p.height),n.texSubImage2D(e.TEXTURE_2D,0,0,0,m,g,p)):n.texImage2D(e.TEXTURE_2D,0,y,m,g,p);w(i,v)&&E(o),c.__version=l.version,i.onUpdate&&i.onUpdate(i)}t.__version=i.version}function O(t,i,A,o,s){var l=a.convert(A.format,A.colorSpace),u=a.convert(A.type),c=M(A.internalFormat,l,u,A.colorSpace);r.get(i).__hasExternalTextures||(s===e.TEXTURE_3D||s===e.TEXTURE_2D_ARRAY?n.texImage3D(s,0,c,i.width,i.height,i.depth,0,l,u,null):n.texImage2D(s,0,c,i.width,i.height,0,l,u,null)),n.bindFramebuffer(e.FRAMEBUFFER,t),H(i)?p.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,o,s,r.get(A).__webglTexture,0,G(i)):(s===e.TEXTURE_2D||s>=e.TEXTURE_CUBE_MAP_POSITIVE_X&&s<=e.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&e.framebufferTexture2D(e.FRAMEBUFFER,o,s,r.get(A).__webglTexture,0),n.bindFramebuffer(e.FRAMEBUFFER,null)}function F(t,n,r){if(e.bindRenderbuffer(e.RENDERBUFFER,t),n.depthBuffer&&!n.stencilBuffer){var i=e.DEPTH_COMPONENT16;if(r||H(n)){var A=n.depthTexture;A&&A.isDepthTexture&&(A.type===ra?i=e.DEPTH_COMPONENT32F:A.type===na&&(i=e.DEPTH_COMPONENT24));var o=G(n);H(n)?p.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,o,i,n.width,n.height):e.renderbufferStorageMultisample(e.RENDERBUFFER,o,i,n.width,n.height)}else e.renderbufferStorage(e.RENDERBUFFER,i,n.width,n.height);e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,t)}else if(n.depthBuffer&&n.stencilBuffer){var s=G(n);r&&!1===H(n)?e.renderbufferStorageMultisample(e.RENDERBUFFER,s,e.DEPTH24_STENCIL8,n.width,n.height):H(n)?p.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,s,e.DEPTH24_STENCIL8,n.width,n.height):e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,n.width,n.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,t)}else for(var l=!0===n.isWebGLMultipleRenderTargets?n.texture:[n.texture],u=0;u<l.length;u++){var c=l[u],f=a.convert(c.format,c.colorSpace),d=a.convert(c.type),h=M(c.internalFormat,f,d,c.colorSpace),v=G(n);r&&!1===H(n)?e.renderbufferStorageMultisample(e.RENDERBUFFER,v,h,n.width,n.height):H(n)?p.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,v,h,n.width,n.height):e.renderbufferStorage(e.RENDERBUFFER,h,n.width,n.height)}e.bindRenderbuffer(e.RENDERBUFFER,null)}function z(t){var i=r.get(t),a=!0===t.isWebGLCubeRenderTarget;if(t.depthTexture&&!i.__autoAllocateDepthBuffer){if(a)throw new Error("target.depthTexture not supported in Cube render targets");!function(t,i){if(i&&i.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(e.FRAMEBUFFER,t),!i.depthTexture||!i.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(i.depthTexture).__webglTexture&&i.depthTexture.image.width===i.width&&i.depthTexture.image.height===i.height||(i.depthTexture.image.width=i.width,i.depthTexture.image.height=i.height,i.depthTexture.needsUpdate=!0),P(i.depthTexture,0);var a=r.get(i.depthTexture).__webglTexture,A=G(i);if(i.depthTexture.format===fa)H(i)?p.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,a,0,A):e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,a,0);else{if(i.depthTexture.format!==da)throw new Error("Unknown depthTexture format");H(i)?p.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,a,0,A):e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,a,0)}}(i.__webglFramebuffer,t)}else if(a){i.__webglDepthbuffer=[];for(var A=0;A<6;A++)n.bindFramebuffer(e.FRAMEBUFFER,i.__webglFramebuffer[A]),i.__webglDepthbuffer[A]=e.createRenderbuffer(),F(i.__webglDepthbuffer[A],t,!1)}else n.bindFramebuffer(e.FRAMEBUFFER,i.__webglFramebuffer),i.__webglDepthbuffer=e.createRenderbuffer(),F(i.__webglDepthbuffer,t,!1);n.bindFramebuffer(e.FRAMEBUFFER,null)}function G(e){return Math.min(h,e.samples)}function H(e){var n=r.get(e);return u&&e.samples>0&&!0===t.has("WEBGL_multisampled_render_to_texture")&&!1!==n.__useRenderToTexture}function V(e,n){var r=e.colorSpace,i=e.format,a=e.type;return!0===e.isCompressedTexture||e.format===QA||r!==mA&&r!==pA&&(r===vA?!1===u?!0===t.has("EXT_sRGB")&&i===la?(e.format=QA,e.minFilter=Qi,e.generateMipmaps=!1):n=So.sRGBToLinear(n):i===la&&a===qi||console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",r)),n}this.allocateTextureUnit=function(){var e=R;return e>=c&&console.warn("THREE.WebGLTextures: Trying to use "+e+" texture units while this GPU supports only "+c),R+=1,e},this.resetTextureUnits=function(){R=0},this.setTexture2D=P,this.setTexture2DArray=function(t,i){var a=r.get(t);t.version>0&&a.__version!==t.version?N(a,t,i):n.bindTexture(e.TEXTURE_2D_ARRAY,a.__webglTexture,e.TEXTURE0+i)},this.setTexture3D=function(t,i){var a=r.get(t);t.version>0&&a.__version!==t.version?N(a,t,i):n.bindTexture(e.TEXTURE_3D,a.__webglTexture,e.TEXTURE0+i)},this.setTextureCube=function(t,i){var A=r.get(t);t.version>0&&A.__version!==t.version?function(t,i,A){if(6!==i.image.length)return;var o=U(t,i),s=i.source;n.bindTexture(e.TEXTURE_CUBE_MAP,t.__webglTexture,e.TEXTURE0+A);var l=r.get(s);if(s.version!==l.__version||!0===o){n.activeTexture(e.TEXTURE0+A),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,i.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,i.unpackAlignment),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,e.NONE);for(var c=i.isCompressedTexture||i.image[0].isCompressedTexture,d=i.image[0]&&i.image[0].isDataTexture,h=[],p=0;p<6;p++)h[p]=c||d?d?i.image[p].image:i.image[p]:x(i.image[p],!1,!0,f),h[p]=V(i,h[p]);var v,m=h[0],g=_(m)||u,y=a.convert(i.format,i.colorSpace),b=a.convert(i.type),C=M(i.internalFormat,y,b,i.colorSpace),T=u&&!0!==i.isVideoTexture,k=void 0===l.__version||!0===o,B=S(i,m,g);if(L(e.TEXTURE_CUBE_MAP,i,g),c){T&&k&&n.texStorage2D(e.TEXTURE_CUBE_MAP,B,C,m.width,m.height);for(var R=0;R<6;R++){v=h[R].mipmaps;for(var P=0;P<v.length;P++){var I=v[P];i.format!==la?null!==y?T?n.compressedTexSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+R,P,0,0,I.width,I.height,y,I.data):n.compressedTexImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+R,P,C,I.width,I.height,0,I.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):T?n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+R,P,0,0,I.width,I.height,y,b,I.data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+R,P,C,I.width,I.height,0,y,b,I.data)}}}else{v=i.mipmaps,T&&k&&(v.length>0&&B++,n.texStorage2D(e.TEXTURE_CUBE_MAP,B,C,h[0].width,h[0].height));for(var D=0;D<6;D++)if(d){T?n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+D,0,0,0,h[D].width,h[D].height,y,b,h[D].data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+D,0,C,h[D].width,h[D].height,0,y,b,h[D].data);for(var N=0;N<v.length;N++){var O=v[N].image[D].image;T?n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+D,N+1,0,0,O.width,O.height,y,b,O.data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+D,N+1,C,O.width,O.height,0,y,b,O.data)}}else{T?n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+D,0,0,0,y,b,h[D]):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+D,0,C,y,b,h[D]);for(var F=0;F<v.length;F++){var z=v[F];T?n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+D,F+1,0,0,y,b,z.image[D]):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+D,F+1,C,y,b,z.image[D])}}}w(i,g)&&E(e.TEXTURE_CUBE_MAP),l.__version=s.version,i.onUpdate&&i.onUpdate(i)}t.__version=i.version}(A,t,i):n.bindTexture(e.TEXTURE_CUBE_MAP,A.__webglTexture,e.TEXTURE0+i)},this.rebindTextures=function(t,n,i){var a=r.get(t);void 0!==n&&O(a.__webglFramebuffer,t,t.texture,e.COLOR_ATTACHMENT0,e.TEXTURE_2D),void 0!==i&&z(t)},this.setupRenderTarget=function(t){var o=t.texture,s=r.get(t),l=r.get(o);t.addEventListener("dispose",k),!0!==t.isWebGLMultipleRenderTargets&&(void 0===l.__webglTexture&&(l.__webglTexture=e.createTexture()),l.__version=o.version,A.memory.textures++);var c=!0===t.isWebGLCubeRenderTarget,f=!0===t.isWebGLMultipleRenderTargets,d=_(t)||u;if(c){s.__webglFramebuffer=[];for(var h=0;h<6;h++)s.__webglFramebuffer[h]=e.createFramebuffer()}else{if(s.__webglFramebuffer=e.createFramebuffer(),f)if(i.drawBuffers)for(var p=t.texture,v=0,m=p.length;v<m;v++){var g=r.get(p[v]);void 0===g.__webglTexture&&(g.__webglTexture=e.createTexture(),A.memory.textures++)}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(u&&t.samples>0&&!1===H(t)){var y=f?o:[o];s.__webglMultisampledFramebuffer=e.createFramebuffer(),s.__webglColorRenderbuffer=[],n.bindFramebuffer(e.FRAMEBUFFER,s.__webglMultisampledFramebuffer);for(var b=0;b<y.length;b++){var x=y[b];s.__webglColorRenderbuffer[b]=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,s.__webglColorRenderbuffer[b]);var S=a.convert(x.format,x.colorSpace),C=a.convert(x.type),T=M(x.internalFormat,S,C,x.colorSpace,!0===t.isXRRenderTarget),B=G(t);e.renderbufferStorageMultisample(e.RENDERBUFFER,B,T,t.width,t.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+b,e.RENDERBUFFER,s.__webglColorRenderbuffer[b])}e.bindRenderbuffer(e.RENDERBUFFER,null),t.depthBuffer&&(s.__webglDepthRenderbuffer=e.createRenderbuffer(),F(s.__webglDepthRenderbuffer,t,!0)),n.bindFramebuffer(e.FRAMEBUFFER,null)}}if(c){n.bindTexture(e.TEXTURE_CUBE_MAP,l.__webglTexture),L(e.TEXTURE_CUBE_MAP,o,d);for(var R=0;R<6;R++)O(s.__webglFramebuffer[R],t,o,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+R);w(o,d)&&E(e.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(f){for(var P=t.texture,I=0,D=P.length;I<D;I++){var U=P[I],N=r.get(U);n.bindTexture(e.TEXTURE_2D,N.__webglTexture),L(e.TEXTURE_2D,U,d),O(s.__webglFramebuffer,t,U,e.COLOR_ATTACHMENT0+I,e.TEXTURE_2D),w(U,d)&&E(e.TEXTURE_2D)}n.unbindTexture()}else{var V=e.TEXTURE_2D;(t.isWebGL3DRenderTarget||t.isWebGLArrayRenderTarget)&&(u?V=t.isWebGL3DRenderTarget?e.TEXTURE_3D:e.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(V,l.__webglTexture),L(V,o,d),O(s.__webglFramebuffer,t,o,e.COLOR_ATTACHMENT0,V),w(o,d)&&E(V),n.unbindTexture()}t.depthBuffer&&z(t)},this.updateRenderTargetMipmap=function(t){for(var i=_(t)||u,a=!0===t.isWebGLMultipleRenderTargets?t.texture:[t.texture],A=0,o=a.length;A<o;A++){var s=a[A];if(w(s,i)){var l=t.isWebGLCubeRenderTarget?e.TEXTURE_CUBE_MAP:e.TEXTURE_2D,c=r.get(s).__webglTexture;n.bindTexture(l,c),E(l),n.unbindTexture()}}},this.updateMultisampleRenderTarget=function(t){if(u&&t.samples>0&&!1===H(t)){var i=t.isWebGLMultipleRenderTargets?t.texture:[t.texture],a=t.width,A=t.height,o=e.COLOR_BUFFER_BIT,s=[],l=t.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,c=r.get(t),f=!0===t.isWebGLMultipleRenderTargets;if(f)for(var d=0;d<i.length;d++)n.bindFramebuffer(e.FRAMEBUFFER,c.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+d,e.RENDERBUFFER,null),n.bindFramebuffer(e.FRAMEBUFFER,c.__webglFramebuffer),e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0+d,e.TEXTURE_2D,null,0);n.bindFramebuffer(e.READ_FRAMEBUFFER,c.__webglMultisampledFramebuffer),n.bindFramebuffer(e.DRAW_FRAMEBUFFER,c.__webglFramebuffer);for(var h=0;h<i.length;h++){s.push(e.COLOR_ATTACHMENT0+h),t.depthBuffer&&s.push(l);var p=void 0!==c.__ignoreDepthValues&&c.__ignoreDepthValues;if(!1===p&&(t.depthBuffer&&(o|=e.DEPTH_BUFFER_BIT),t.stencilBuffer&&(o|=e.STENCIL_BUFFER_BIT)),f&&e.framebufferRenderbuffer(e.READ_FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.RENDERBUFFER,c.__webglColorRenderbuffer[h]),!0===p&&(e.invalidateFramebuffer(e.READ_FRAMEBUFFER,[l]),e.invalidateFramebuffer(e.DRAW_FRAMEBUFFER,[l])),f){var m=r.get(i[h]).__webglTexture;e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,m,0)}e.blitFramebuffer(0,0,a,A,0,0,a,A,o,e.NEAREST),v&&e.invalidateFramebuffer(e.READ_FRAMEBUFFER,s)}if(n.bindFramebuffer(e.READ_FRAMEBUFFER,null),n.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),f)for(var g=0;g<i.length;g++){n.bindFramebuffer(e.FRAMEBUFFER,c.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+g,e.RENDERBUFFER,c.__webglColorRenderbuffer[g]);var y=r.get(i[g]).__webglTexture;n.bindFramebuffer(e.FRAMEBUFFER,c.__webglFramebuffer),e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0+g,e.TEXTURE_2D,y,0)}n.bindFramebuffer(e.DRAW_FRAMEBUFFER,c.__webglMultisampledFramebuffer)}},this.setupDepthRenderbuffer=z,this.setupFrameBufferTexture=O,this.useMultisampledRTT=H}function Gf(e,t,n){var r=n.isWebGL2;return{convert:function(n){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pA;if(n===qi)return e.UNSIGNED_BYTE;if(n===aa)return e.UNSIGNED_SHORT_4_4_4_4;if(n===Aa)return e.UNSIGNED_SHORT_5_5_5_1;if(n===Zi)return e.BYTE;if(n===$i)return e.SHORT;if(n===ea)return e.UNSIGNED_SHORT;if(n===ta)return e.INT;if(n===na)return e.UNSIGNED_INT;if(n===ra)return e.FLOAT;if(n===ia)return r?e.HALF_FLOAT:null!==(i=t.get("OES_texture_half_float"))?i.HALF_FLOAT_OES:null;if(n===sa)return e.ALPHA;if(n===la)return e.RGBA;if(n===ua)return e.LUMINANCE;if(n===ca)return e.LUMINANCE_ALPHA;if(n===fa)return e.DEPTH_COMPONENT;if(n===da)return e.DEPTH_STENCIL;if(n===QA)return null!==(i=t.get("EXT_sRGB"))?i.SRGB_ALPHA_EXT:null;if(n===ha)return e.RED;if(n===pa)return e.RED_INTEGER;if(n===va)return e.RG;if(n===ma)return e.RG_INTEGER;if(n===ga)return e.RGBA_INTEGER;if(n===ya||n===ba||n===xa||n===_a)if(a===vA){if(null===(i=t.get("WEBGL_compressed_texture_s3tc_srgb")))return null;if(n===ya)return i.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(n===ba)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(n===xa)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(n===_a)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(null===(i=t.get("WEBGL_compressed_texture_s3tc")))return null;if(n===ya)return i.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===ba)return i.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===xa)return i.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===_a)return i.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(n===wa||n===Ea||n===Ma||n===Sa){if(null===(i=t.get("WEBGL_compressed_texture_pvrtc")))return null;if(n===wa)return i.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===Ea)return i.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===Ma)return i.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===Sa)return i.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(n===Ca)return null!==(i=t.get("WEBGL_compressed_texture_etc1"))?i.COMPRESSED_RGB_ETC1_WEBGL:null;if(n===Ta||n===ka){if(null===(i=t.get("WEBGL_compressed_texture_etc")))return null;if(n===Ta)return a===vA?i.COMPRESSED_SRGB8_ETC2:i.COMPRESSED_RGB8_ETC2;if(n===ka)return a===vA?i.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:i.COMPRESSED_RGBA8_ETC2_EAC}if(n===Ba||n===Ra||n===Pa||n===Ia||n===Da||n===La||n===Ua||n===Na||n===Oa||n===Fa||n===za||n===Ga||n===Ha||n===Va){if(null===(i=t.get("WEBGL_compressed_texture_astc")))return null;if(n===Ba)return a===vA?i.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:i.COMPRESSED_RGBA_ASTC_4x4_KHR;if(n===Ra)return a===vA?i.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:i.COMPRESSED_RGBA_ASTC_5x4_KHR;if(n===Pa)return a===vA?i.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:i.COMPRESSED_RGBA_ASTC_5x5_KHR;if(n===Ia)return a===vA?i.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:i.COMPRESSED_RGBA_ASTC_6x5_KHR;if(n===Da)return a===vA?i.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:i.COMPRESSED_RGBA_ASTC_6x6_KHR;if(n===La)return a===vA?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:i.COMPRESSED_RGBA_ASTC_8x5_KHR;if(n===Ua)return a===vA?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:i.COMPRESSED_RGBA_ASTC_8x6_KHR;if(n===Na)return a===vA?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:i.COMPRESSED_RGBA_ASTC_8x8_KHR;if(n===Oa)return a===vA?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:i.COMPRESSED_RGBA_ASTC_10x5_KHR;if(n===Fa)return a===vA?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:i.COMPRESSED_RGBA_ASTC_10x6_KHR;if(n===za)return a===vA?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:i.COMPRESSED_RGBA_ASTC_10x8_KHR;if(n===Ga)return a===vA?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:i.COMPRESSED_RGBA_ASTC_10x10_KHR;if(n===Ha)return a===vA?i.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:i.COMPRESSED_RGBA_ASTC_12x10_KHR;if(n===Va)return a===vA?i.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:i.COMPRESSED_RGBA_ASTC_12x12_KHR}if(n===Wa){if(null===(i=t.get("EXT_texture_compression_bptc")))return null;if(n===Wa)return a===vA?i.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:i.COMPRESSED_RGBA_BPTC_UNORM_EXT}if(n===ja||n===Qa||n===Xa||n===Ja){if(null===(i=t.get("EXT_texture_compression_rgtc")))return null;if(n===Wa)return i.COMPRESSED_RED_RGTC1_EXT;if(n===Qa)return i.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(n===Xa)return i.COMPRESSED_RED_GREEN_RGTC2_EXT;if(n===Ja)return i.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}return n===oa?r?e.UNSIGNED_INT_24_8:null!==(i=t.get("WEBGL_depth_texture"))?i.UNSIGNED_INT_24_8_WEBGL:null:void 0!==e[n]?e[n]:null}}}var Hf=function(e){br(n,e);var t=Er(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return vr(this,n),(e=t.call(this)).isArrayCamera=!0,e.cameras=r,e}return gr(n)}(Au),Vf=function(e){br(n,e);var t=Er(n);function n(){var e;return vr(this,n),(e=t.call(this)).isGroup=!0,e.type="Group",e}return gr(n)}(zs),Wf={type:"move"},jf=function(){function e(){vr(this,e),this._targetRay=null,this._grip=null,this._hand=null}return gr(e,[{key:"getHandSpace",value:function(){return null===this._hand&&(this._hand=new Vf,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}},{key:"getTargetRaySpace",value:function(){return null===this._targetRay&&(this._targetRay=new Vf,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Fo,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Fo),this._targetRay}},{key:"getGripSpace",value:function(){return null===this._grip&&(this._grip=new Vf,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Fo,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Fo),this._grip}},{key:"dispatchEvent",value:function(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}},{key:"connect",value:function(e){if(e&&e.hand){var t=this._hand;if(t){var n,r=Mr(e.hand.values());try{for(r.s();!(n=r.n()).done;){var i=n.value;this._getHandJoint(t,i)}}catch(a){r.e(a)}finally{r.f()}}}return this.dispatchEvent({type:"connected",data:e}),this}},{key:"disconnect",value:function(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}},{key:"update",value:function(e,t,n){var r=null,i=null,a=null,A=this._targetRay,o=this._grip,s=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState){if(s&&e.hand){a=!0;var l,u=Mr(e.hand.values());try{for(u.s();!(l=u.n()).done;){var c=l.value,f=t.getJointPose(c,n),d=this._getHandJoint(s,c);null!==f&&(d.matrix.fromArray(f.transform.matrix),d.matrix.decompose(d.position,d.rotation,d.scale),d.matrixWorldNeedsUpdate=!0,d.jointRadius=f.radius),d.visible=null!==f}}catch(m){u.e(m)}finally{u.f()}var h=s.joints["index-finger-tip"],p=s.joints["thumb-tip"],v=h.position.distanceTo(p.position);s.inputState.pinching&&v>.025?(s.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!s.inputState.pinching&&v<=.015&&(s.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==o&&e.gripSpace&&null!==(i=t.getPose(e.gripSpace,n))&&(o.matrix.fromArray(i.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,i.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(i.linearVelocity)):o.hasLinearVelocity=!1,i.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(i.angularVelocity)):o.hasAngularVelocity=!1);null!==A&&(null===(r=t.getPose(e.targetRaySpace,n))&&null!==i&&(r=i),null!==r&&(A.matrix.fromArray(r.transform.matrix),A.matrix.decompose(A.position,A.rotation,A.scale),A.matrixWorldNeedsUpdate=!0,r.linearVelocity?(A.hasLinearVelocity=!0,A.linearVelocity.copy(r.linearVelocity)):A.hasLinearVelocity=!1,r.angularVelocity?(A.hasAngularVelocity=!0,A.angularVelocity.copy(r.angularVelocity)):A.hasAngularVelocity=!1,this.dispatchEvent(Wf)))}return null!==A&&(A.visible=null!==r),null!==o&&(o.visible=null!==i),null!==s&&(s.visible=null!==a),this}},{key:"_getHandJoint",value:function(e,t){if(void 0===e.joints[t.jointName]){var n=new Vf;n.matrixAutoUpdate=!1,n.visible=!1,e.joints[t.jointName]=n,e.add(n)}return e.joints[t.jointName]}}]),e}(),Qf=function(e){br(n,e);var t=Er(n);function n(e,r,i,a,A,o,s,l,u,c){var f;if(vr(this,n),(c=void 0!==c?c:fa)!==fa&&c!==da)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");return void 0===i&&c===fa&&(i=na),void 0===i&&c===da&&(i=oa),(f=t.call(this,null,a,A,o,s,l,c,i,u)).isDepthTexture=!0,f.image={width:e,height:r},f.magFilter=void 0!==s?s:Gi,f.minFilter=void 0!==l?l:Gi,f.flipY=!1,f.generateMipmaps=!1,f}return gr(n)}(Bo),Xf=function(e){br(n,e);var t=Er(n);function n(e,r){var i;vr(this,n);var a=wr(i=t.call(this)),A=null,o=1,s=null,l="local-floor",u=1,c=null,f=null,d=null,h=null,p=null,v=null,m=r.getContextAttributes(),g=null,y=null,b=[],x=[],_=new Set,w=new Map,E=new Au;E.layers.enable(1),E.viewport=new Ro;var M=new Au;M.layers.enable(2),M.viewport=new Ro;var S=[E,M],C=new Hf;C.layers.enable(1),C.layers.enable(2);var T=null,k=null;function B(e){var t=x.indexOf(e.inputSource);if(-1!==t){var n=b[t];void 0!==n&&(n.update(e.inputSource,e.frame,c||s),n.dispatchEvent({type:e.type,data:e.inputSource}))}}function R(){A.removeEventListener("select",B),A.removeEventListener("selectstart",B),A.removeEventListener("selectend",B),A.removeEventListener("squeeze",B),A.removeEventListener("squeezestart",B),A.removeEventListener("squeezeend",B),A.removeEventListener("end",R),A.removeEventListener("inputsourceschange",P);for(var t=0;t<b.length;t++){var n=x[t];null!==n&&(x[t]=null,b[t].disconnect(n))}T=null,k=null,e.setRenderTarget(g),p=null,h=null,d=null,A=null,y=null,N.stop(),a.isPresenting=!1,a.dispatchEvent({type:"sessionend"})}function P(e){for(var t=0;t<e.removed.length;t++){var n=e.removed[t],r=x.indexOf(n);r>=0&&(x[r]=null,b[r].disconnect(n))}for(var i=0;i<e.added.length;i++){var a=e.added[i],A=x.indexOf(a);if(-1===A){for(var o=0;o<b.length;o++){if(o>=x.length){x.push(a),A=o;break}if(null===x[o]){x[o]=a,A=o;break}}if(-1===A)break}var s=b[A];s&&s.connect(a)}}i.cameraAutoUpdate=!0,i.enabled=!1,i.isPresenting=!1,i.getController=function(e){var t=b[e];return void 0===t&&(t=new jf,b[e]=t),t.getTargetRaySpace()},i.getControllerGrip=function(e){var t=b[e];return void 0===t&&(t=new jf,b[e]=t),t.getGripSpace()},i.getHand=function(e){var t=b[e];return void 0===t&&(t=new jf,b[e]=t),t.getHandSpace()},i.setFramebufferScaleFactor=function(e){o=e,!0===a.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},i.setReferenceSpaceType=function(e){l=e,!0===a.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},i.getReferenceSpace=function(){return c||s},i.setReferenceSpace=function(e){c=e},i.getBaseLayer=function(){return null!==h?h:p},i.getBinding=function(){return d},i.getFrame=function(){return v},i.getSession=function(){return A},i.setSession=function(){var t=kr(Rr().mark((function t(n){var i,f,v,b,x;return Rr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===(A=n)){t.next=25;break}if(g=e.getRenderTarget(),A.addEventListener("select",B),A.addEventListener("selectstart",B),A.addEventListener("selectend",B),A.addEventListener("squeeze",B),A.addEventListener("squeezestart",B),A.addEventListener("squeezeend",B),A.addEventListener("end",R),A.addEventListener("inputsourceschange",P),!0===m.xrCompatible){t.next=14;break}return t.next=14,r.makeXRCompatible();case 14:return void 0===A.renderState.layers||!1===e.capabilities.isWebGL2?(i={antialias:void 0!==A.renderState.layers||m.antialias,alpha:!0,depth:m.depth,stencil:m.stencil,framebufferScaleFactor:o},p=new XRWebGLLayer(A,r,i),A.updateRenderState({baseLayer:p}),y=new Po(p.framebufferWidth,p.framebufferHeight,{format:la,type:qi,colorSpace:e.outputColorSpace,stencilBuffer:m.stencil})):(f=null,v=null,b=null,m.depth&&(b=m.stencil?r.DEPTH24_STENCIL8:r.DEPTH_COMPONENT24,f=m.stencil?da:fa,v=m.stencil?oa:na),x={colorFormat:r.RGBA8,depthFormat:b,scaleFactor:o},d=new XRWebGLBinding(A,r),h=d.createProjectionLayer(x),A.updateRenderState({layers:[h]}),y=new Po(h.textureWidth,h.textureHeight,{format:la,type:qi,depthTexture:new Qf(h.textureWidth,h.textureHeight,v,void 0,void 0,void 0,void 0,void 0,void 0,f),stencilBuffer:m.stencil,colorSpace:e.outputColorSpace,samples:m.antialias?4:0}),e.properties.get(y).__ignoreDepthValues=h.ignoreDepthValues),y.isXRRenderTarget=!0,this.setFoveation(u),c=null,t.next=20,A.requestReferenceSpace(l);case 20:s=t.sent,N.setContext(A),N.start(),a.isPresenting=!0,a.dispatchEvent({type:"sessionstart"});case 25:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),i.getEnvironmentBlendMode=function(){if(null!==A)return A.environmentBlendMode};var I=new Fo,D=new Fo;function L(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.copy(e.matrixWorld).invert()}i.updateCamera=function(e){if(null!==A){C.near=M.near=E.near=e.near,C.far=M.far=E.far=e.far,T===C.near&&k===C.far||(A.updateRenderState({depthNear:C.near,depthFar:C.far}),T=C.near,k=C.far);var t=e.parent,n=C.cameras;L(C,t);for(var r=0;r<n.length;r++)L(n[r],t);2===n.length?function(e,t,n){I.setFromMatrixPosition(t.matrixWorld),D.setFromMatrixPosition(n.matrixWorld);var r=I.distanceTo(D),i=t.projectionMatrix.elements,a=n.projectionMatrix.elements,A=i[14]/(i[10]-1),o=i[14]/(i[10]+1),s=(i[9]+1)/i[5],l=(i[9]-1)/i[5],u=(i[8]-1)/i[0],c=(a[8]+1)/a[0],f=A*u,d=A*c,h=r/(-u+c),p=h*-u;t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(p),e.translateZ(h),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.copy(e.matrixWorld).invert();var v=A+h,m=o+h,g=f-p,y=d+(r-p),b=s*o/m*v,x=l*o/m*v;e.projectionMatrix.makePerspective(g,y,b,x,v,m),e.projectionMatrixInverse.copy(e.projectionMatrix).invert()}(C,E,M):C.projectionMatrix.copy(E.projectionMatrix),function(e,t,n){null===n?e.matrix.copy(t.matrixWorld):(e.matrix.copy(n.matrixWorld),e.matrix.invert(),e.matrix.multiply(t.matrixWorld));e.matrix.decompose(e.position,e.quaternion,e.scale),e.updateMatrixWorld(!0);for(var r=e.children,i=0,a=r.length;i<a;i++)r[i].updateMatrixWorld(!0);e.projectionMatrix.copy(t.projectionMatrix),e.projectionMatrixInverse.copy(t.projectionMatrixInverse),e.isPerspectiveCamera&&(e.fov=2*qA*Math.atan(1/e.projectionMatrix.elements[5]),e.zoom=1)}(e,C,t)}},i.getCamera=function(){return C},i.getFoveation=function(){if(null!==h||null!==p)return u},i.setFoveation=function(e){u=e,null!==h&&(h.fixedFoveation=e),null!==p&&void 0!==p.fixedFoveation&&(p.fixedFoveation=e)},i.getPlanes=function(){return _};var U=null;var N=new gu;return N.setAnimationLoop((function(t,n){if(f=n.getViewerPose(c||s),v=n,null!==f){var r=f.views;null!==p&&(e.setRenderTargetFramebuffer(y,p.framebuffer),e.setRenderTarget(y));var i=!1;r.length!==C.cameras.length&&(C.cameras.length=0,i=!0);for(var A=0;A<r.length;A++){var o=r[A],l=null;if(null!==p)l=p.getViewport(o);else{var u=d.getViewSubImage(h,o);l=u.viewport,0===A&&(e.setRenderTargetTextures(y,u.colorTexture,h.ignoreDepthValues?void 0:u.depthStencilTexture),e.setRenderTarget(y))}var m=S[A];void 0===m&&((m=new Au).layers.enable(A),m.viewport=new Ro,S[A]=m),m.matrix.fromArray(o.transform.matrix),m.matrix.decompose(m.position,m.quaternion,m.scale),m.projectionMatrix.fromArray(o.projectionMatrix),m.projectionMatrixInverse.copy(m.projectionMatrix).invert(),m.viewport.set(l.x,l.y,l.width,l.height),0===A&&(C.matrix.copy(m.matrix),C.matrix.decompose(C.position,C.quaternion,C.scale)),!0===i&&C.cameras.push(m)}}for(var g=0;g<b.length;g++){var E=x[g],M=b[g];null!==E&&void 0!==M&&M.update(E,n,c||s)}if(U&&U(t,n),n.detectedPlanes){a.dispatchEvent({type:"planesdetected",data:n.detectedPlanes});var T,k=null,B=Mr(_);try{for(B.s();!(T=B.n()).done;){var R=T.value;n.detectedPlanes.has(R)||(null===k&&(k=[]),k.push(R))}}catch(z){B.e(z)}finally{B.f()}if(null!==k){var P,I=Mr(k);try{for(I.s();!(P=I.n()).done;){var D=P.value;_.delete(D),w.delete(D),a.dispatchEvent({type:"planeremoved",data:D})}}catch(z){I.e(z)}finally{I.f()}}var L,N=Mr(n.detectedPlanes);try{for(N.s();!(L=N.n()).done;){var O=L.value;if(_.has(O)){var F=w.get(O);O.lastChangedTime>F&&(w.set(O,O.lastChangedTime),a.dispatchEvent({type:"planechanged",data:O}))}else _.add(O),w.set(O,n.lastChangedTime),a.dispatchEvent({type:"planeadded",data:O})}}catch(z){N.e(z)}finally{N.f()}}v=null})),i.setAnimationLoop=function(e){U=e},i.dispose=function(){},i}return gr(n)}(XA);function Jf(e,t){function n(e,t){!0===e.matrixAutoUpdate&&e.updateMatrix(),t.value.copy(e.matrix)}function r(r,i){r.opacity.value=i.opacity,i.color&&r.diffuse.value.copy(i.color),i.emissive&&r.emissive.value.copy(i.emissive).multiplyScalar(i.emissiveIntensity),i.map&&(r.map.value=i.map,n(i.map,r.mapTransform)),i.alphaMap&&(r.alphaMap.value=i.alphaMap,n(i.alphaMap,r.alphaMapTransform)),i.bumpMap&&(r.bumpMap.value=i.bumpMap,n(i.bumpMap,r.bumpMapTransform),r.bumpScale.value=i.bumpScale,i.side===Wr&&(r.bumpScale.value*=-1)),i.normalMap&&(r.normalMap.value=i.normalMap,n(i.normalMap,r.normalMapTransform),r.normalScale.value.copy(i.normalScale),i.side===Wr&&r.normalScale.value.negate()),i.displacementMap&&(r.displacementMap.value=i.displacementMap,n(i.displacementMap,r.displacementMapTransform),r.displacementScale.value=i.displacementScale,r.displacementBias.value=i.displacementBias),i.emissiveMap&&(r.emissiveMap.value=i.emissiveMap,n(i.emissiveMap,r.emissiveMapTransform)),i.specularMap&&(r.specularMap.value=i.specularMap,n(i.specularMap,r.specularMapTransform)),i.alphaTest>0&&(r.alphaTest.value=i.alphaTest);var a=t.get(i).envMap;if(a&&(r.envMap.value=a,r.flipEnvMap.value=a.isCubeTexture&&!1===a.isRenderTargetTexture?-1:1,r.reflectivity.value=i.reflectivity,r.ior.value=i.ior,r.refractionRatio.value=i.refractionRatio),i.lightMap){r.lightMap.value=i.lightMap;var A=!0===e.useLegacyLights?Math.PI:1;r.lightMapIntensity.value=i.lightMapIntensity*A,n(i.lightMap,r.lightMapTransform)}i.aoMap&&(r.aoMap.value=i.aoMap,r.aoMapIntensity.value=i.aoMapIntensity,n(i.aoMap,r.aoMapTransform))}return{refreshFogUniforms:function(t,n){n.color.getRGB(t.fogColor.value,nu(e)),n.isFog?(t.fogNear.value=n.near,t.fogFar.value=n.far):n.isFogExp2&&(t.fogDensity.value=n.density)},refreshMaterialUniforms:function(e,i,a,A,o){i.isMeshBasicMaterial||i.isMeshLambertMaterial?r(e,i):i.isMeshToonMaterial?(r(e,i),function(e,t){t.gradientMap&&(e.gradientMap.value=t.gradientMap)}(e,i)):i.isMeshPhongMaterial?(r(e,i),function(e,t){e.specular.value.copy(t.specular),e.shininess.value=Math.max(t.shininess,1e-4)}(e,i)):i.isMeshStandardMaterial?(r(e,i),function(e,r){e.metalness.value=r.metalness,r.metalnessMap&&(e.metalnessMap.value=r.metalnessMap,n(r.metalnessMap,e.metalnessMapTransform));e.roughness.value=r.roughness,r.roughnessMap&&(e.roughnessMap.value=r.roughnessMap,n(r.roughnessMap,e.roughnessMapTransform));var i=t.get(r).envMap;i&&(e.envMapIntensity.value=r.envMapIntensity)}(e,i),i.isMeshPhysicalMaterial&&function(e,t,r){e.ior.value=t.ior,t.sheen>0&&(e.sheenColor.value.copy(t.sheenColor).multiplyScalar(t.sheen),e.sheenRoughness.value=t.sheenRoughness,t.sheenColorMap&&(e.sheenColorMap.value=t.sheenColorMap,n(t.sheenColorMap,e.sheenColorMapTransform)),t.sheenRoughnessMap&&(e.sheenRoughnessMap.value=t.sheenRoughnessMap,n(t.sheenRoughnessMap,e.sheenRoughnessMapTransform)));t.clearcoat>0&&(e.clearcoat.value=t.clearcoat,e.clearcoatRoughness.value=t.clearcoatRoughness,t.clearcoatMap&&(e.clearcoatMap.value=t.clearcoatMap,n(t.clearcoatMap,e.clearcoatMapTransform)),t.clearcoatRoughnessMap&&(e.clearcoatRoughnessMap.value=t.clearcoatRoughnessMap,n(t.clearcoatRoughnessMap,e.clearcoatRoughnessMapTransform)),t.clearcoatNormalMap&&(e.clearcoatNormalMap.value=t.clearcoatNormalMap,n(t.clearcoatNormalMap,e.clearcoatNormalMapTransform),e.clearcoatNormalScale.value.copy(t.clearcoatNormalScale),t.side===Wr&&e.clearcoatNormalScale.value.negate()));t.iridescence>0&&(e.iridescence.value=t.iridescence,e.iridescenceIOR.value=t.iridescenceIOR,e.iridescenceThicknessMinimum.value=t.iridescenceThicknessRange[0],e.iridescenceThicknessMaximum.value=t.iridescenceThicknessRange[1],t.iridescenceMap&&(e.iridescenceMap.value=t.iridescenceMap,n(t.iridescenceMap,e.iridescenceMapTransform)),t.iridescenceThicknessMap&&(e.iridescenceThicknessMap.value=t.iridescenceThicknessMap,n(t.iridescenceThicknessMap,e.iridescenceThicknessMapTransform)));t.transmission>0&&(e.transmission.value=t.transmission,e.transmissionSamplerMap.value=r.texture,e.transmissionSamplerSize.value.set(r.width,r.height),t.transmissionMap&&(e.transmissionMap.value=t.transmissionMap,n(t.transmissionMap,e.transmissionMapTransform)),e.thickness.value=t.thickness,t.thicknessMap&&(e.thicknessMap.value=t.thicknessMap,n(t.thicknessMap,e.thicknessMapTransform)),e.attenuationDistance.value=t.attenuationDistance,e.attenuationColor.value.copy(t.attenuationColor));e.specularIntensity.value=t.specularIntensity,e.specularColor.value.copy(t.specularColor),t.specularColorMap&&(e.specularColorMap.value=t.specularColorMap,n(t.specularColorMap,e.specularColorMapTransform));t.specularIntensityMap&&(e.specularIntensityMap.value=t.specularIntensityMap,n(t.specularIntensityMap,e.specularIntensityMapTransform))}(e,i,o)):i.isMeshMatcapMaterial?(r(e,i),function(e,t){t.matcap&&(e.matcap.value=t.matcap)}(e,i)):i.isMeshDepthMaterial?r(e,i):i.isMeshDistanceMaterial?(r(e,i),function(e,n){var r=t.get(n).light;e.referencePosition.value.setFromMatrixPosition(r.matrixWorld),e.nearDistance.value=r.shadow.camera.near,e.farDistance.value=r.shadow.camera.far}(e,i)):i.isMeshNormalMaterial?r(e,i):i.isLineBasicMaterial?(function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,t.map&&(e.map.value=t.map,n(t.map,e.mapTransform))}(e,i),i.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(e,i)):i.isPointsMaterial?function(e,t,r,i){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.size.value=t.size*r,e.scale.value=.5*i,t.map&&(e.map.value=t.map,n(t.map,e.uvTransform));t.alphaMap&&(e.alphaMap.value=t.alphaMap);t.alphaTest>0&&(e.alphaTest.value=t.alphaTest)}(e,i,a,A):i.isSpriteMaterial?function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.rotation.value=t.rotation,t.map&&(e.map.value=t.map,n(t.map,e.mapTransform));t.alphaMap&&(e.alphaMap.value=t.alphaMap);t.alphaTest>0&&(e.alphaTest.value=t.alphaTest)}(e,i):i.isShadowMaterial?(e.color.value.copy(i.color),e.opacity.value=i.opacity):i.isShaderMaterial&&(i.uniformsNeedUpdate=!1)}}}function Kf(e,t,n,r){var i={},a={},A=[],o=n.isWebGL2?e.getParameter(e.MAX_UNIFORM_BUFFER_BINDINGS):0;function s(e,t,n){var r=e.value;if(void 0===n[t]){if("number"===typeof r)n[t]=r;else{for(var i=Array.isArray(r)?r:[r],a=[],A=0;A<i.length;A++)a.push(i[A].clone());n[t]=a}return!0}if("number"===typeof r){if(n[t]!==r)return n[t]=r,!0}else for(var o=Array.isArray(n[t])?n[t]:[n[t]],s=Array.isArray(r)?r:[r],l=0;l<o.length;l++){var u=o[l];if(!1===u.equals(s[l]))return u.copy(s[l]),!0}return!1}function l(e){var t={boundary:0,storage:0};return"number"===typeof e?(t.boundary=4,t.storage=4):e.isVector2?(t.boundary=8,t.storage=8):e.isVector3||e.isColor?(t.boundary=16,t.storage=12):e.isVector4?(t.boundary=16,t.storage=16):e.isMatrix3?(t.boundary=48,t.storage=48):e.isMatrix4?(t.boundary=64,t.storage=64):e.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",e),t}function u(t){var n=t.target;n.removeEventListener("dispose",u);var r=A.indexOf(n.__bindingPointIndex);A.splice(r,1),e.deleteBuffer(i[n.id]),delete i[n.id],delete a[n.id]}return{bind:function(e,t){var n=t.program;r.uniformBlockBinding(e,n)},update:function(n,c){var f=i[n.id];void 0===f&&(!function(e){for(var t=e.uniforms,n=0,r=16,i=0,a=0,A=t.length;a<A;a++){for(var o=t[a],s={boundary:0,storage:0},u=Array.isArray(o.value)?o.value:[o.value],c=0,f=u.length;c<f;c++){var d=l(u[c]);s.boundary+=d.boundary,s.storage+=d.storage}if(o.__data=new Float32Array(s.storage/Float32Array.BYTES_PER_ELEMENT),o.__offset=n,a>0)0!==(i=n%r)&&r-i-s.boundary<0&&(n+=r-i,o.__offset=n);n+=s.storage}(i=n%r)>0&&(n+=r-i);e.__size=n,e.__cache={}}(n),f=function(t){var n=function(){for(var e=0;e<o;e++)if(-1===A.indexOf(e))return A.push(e),e;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}();t.__bindingPointIndex=n;var r=e.createBuffer(),i=t.__size,a=t.usage;return e.bindBuffer(e.UNIFORM_BUFFER,r),e.bufferData(e.UNIFORM_BUFFER,i,a),e.bindBuffer(e.UNIFORM_BUFFER,null),e.bindBufferBase(e.UNIFORM_BUFFER,n,r),r}(n),i[n.id]=f,n.addEventListener("dispose",u));var d=c.program;r.updateUBOMapping(n,d);var h=t.render.frame;a[n.id]!==h&&(!function(t){var n=i[t.id],r=t.uniforms,a=t.__cache;e.bindBuffer(e.UNIFORM_BUFFER,n);for(var A=0,o=r.length;A<o;A++){var u=r[A];if(!0===s(u,A,a)){for(var c=u.__offset,f=Array.isArray(u.value)?u.value:[u.value],d=0,h=0;h<f.length;h++){var p=f[h],v=l(p);"number"===typeof p?(u.__data[0]=p,e.bufferSubData(e.UNIFORM_BUFFER,c+d,u.__data)):p.isMatrix3?(u.__data[0]=p.elements[0],u.__data[1]=p.elements[1],u.__data[2]=p.elements[2],u.__data[3]=p.elements[0],u.__data[4]=p.elements[3],u.__data[5]=p.elements[4],u.__data[6]=p.elements[5],u.__data[7]=p.elements[0],u.__data[8]=p.elements[6],u.__data[9]=p.elements[7],u.__data[10]=p.elements[8],u.__data[11]=p.elements[0]):(p.toArray(u.__data,d),d+=v.storage/Float32Array.BYTES_PER_ELEMENT)}e.bufferSubData(e.UNIFORM_BUFFER,c,u.__data)}}e.bindBuffer(e.UNIFORM_BUFFER,null)}(n),a[n.id]=h)},dispose:function(){for(var t in i)e.deleteBuffer(i[t]);A=[],i={},a={}}}}var Yf=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};vr(this,e);var n,r=t.canvas,i=void 0===r?function(){var e=po("canvas");return e.style.display="block",e}():r,a=t.context,A=void 0===a?null:a,o=t.depth,s=void 0===o||o,l=t.stencil,u=void 0===l||l,c=t.alpha,f=void 0!==c&&c,d=t.antialias,h=void 0!==d&&d,p=t.premultipliedAlpha,v=void 0===p||p,m=t.preserveDrawingBuffer,g=void 0!==m&&m,y=t.powerPreference,b=void 0===y?"default":y,x=t.failIfMajorPerformanceCaveat,_=void 0!==x&&x;this.isWebGLRenderer=!0,n=null!==A?A.getContextAttributes().alpha:f;var w=null,E=null,M=[],S=[];this.domElement=i,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputColorSpace=vA,this.useLegacyLights=!0,this.toneMapping=Si,this.toneMappingExposure=1;var C=this,T=!1,k=0,B=0,R=null,P=-1,I=null,D=new Ro,L=new Ro,U=null,N=i.width,O=i.height,F=1,z=null,G=null,H=new Ro(0,0,N,O),V=new Ro(0,0,N,O),W=!1,j=new mu,Q=!1,X=!1,J=null,K=new ps,Y=new Fo,q={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Z(){return null===R?F:1}var $,ee,te,ne,re,ie,ae,Ae,oe,se,le,ue,ce,fe,de,he,pe,ve,me,ge,ye,be,xe,_e,we=A;function Ee(e,t){for(var n=0;n<e.length;n++){var r=e[n],a=i.getContext(r,t);if(null!==a)return a}return null}try{var Me={alpha:!0,depth:s,stencil:u,antialias:h,premultipliedAlpha:v,preserveDrawingBuffer:g,powerPreference:b,failIfMajorPerformanceCaveat:_};if("setAttribute"in i&&i.setAttribute("data-engine","three.js r".concat(Pr)),i.addEventListener("webglcontextlost",ke,!1),i.addEventListener("webglcontextrestored",Be,!1),i.addEventListener("webglcontextcreationerror",Re,!1),null===we){var Se=["webgl2","webgl","experimental-webgl"];if(!0===C.isWebGL1Renderer&&Se.shift(),null===(we=Ee(Se,Me)))throw Ee(Se)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===we.getShaderPrecisionFormat&&(we.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Ve){throw console.error("THREE.WebGLRenderer: "+Ve.message),Ve}function Ce(){$=new Qu(we),ee=new Tu(we,$,t),$.init(ee),be=new Gf(we,$,ee),te=new Ff(we,$,ee),ne=new Ku(we),re=new Mf,ie=new zf(we,$,te,re,ee,be,ne),ae=new Bu(C),Ae=new ju(C),oe=new yu(we,ee),xe=new Su(we,$,oe,ee),se=new Xu(we,oe,ne,xe),le=new $u(we,se,oe,ne),me=new Zu(we,ee,ie),he=new ku(re),ue=new Ef(C,ae,Ae,$,ee,xe,he),ce=new Jf(C,re),fe=new kf,de=new Lf($,ee),ve=new Mu(C,ae,Ae,te,le,n,v),pe=new Of(C,le,ee),_e=new Kf(we,ne,ee,te),ge=new Cu(we,$,ne,ee),ye=new Ju(we,$,ne,ee),ne.programs=ue.programs,C.capabilities=ee,C.extensions=$,C.properties=re,C.renderLists=fe,C.shadowMap=pe,C.state=te,C.info=ne}Ce();var Te=new Xf(C,we);function ke(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),T=!0}function Be(){console.log("THREE.WebGLRenderer: Context Restored."),T=!1;var e=ne.autoReset,t=pe.enabled,n=pe.autoUpdate,r=pe.needsUpdate,i=pe.type;Ce(),ne.autoReset=e,pe.enabled=t,pe.autoUpdate=n,pe.needsUpdate=r,pe.type=i}function Re(e){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",e.statusMessage)}function Pe(e){var t=e.target;t.removeEventListener("dispose",Pe),function(e){(function(e){var t=re.get(e).programs;void 0!==t&&(t.forEach((function(e){ue.releaseProgram(e)})),e.isShaderMaterial&&ue.releaseShaderCache(e))})(e),re.remove(e)}(t)}this.xr=Te,this.getContext=function(){return we},this.getContextAttributes=function(){return we.getContextAttributes()},this.forceContextLoss=function(){var e=$.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){var e=$.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return F},this.setPixelRatio=function(e){void 0!==e&&(F=e,this.setSize(N,O,!1))},this.getSize=function(e){return e.set(N,O)},this.setSize=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];Te.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(N=e,O=t,i.width=Math.floor(e*F),i.height=Math.floor(t*F),!0===n&&(i.style.width=e+"px",i.style.height=t+"px"),this.setViewport(0,0,e,t))},this.getDrawingBufferSize=function(e){return e.set(N*F,O*F).floor()},this.setDrawingBufferSize=function(e,t,n){N=e,O=t,F=n,i.width=Math.floor(e*n),i.height=Math.floor(t*n),this.setViewport(0,0,e,t)},this.getCurrentViewport=function(e){return e.copy(D)},this.getViewport=function(e){return e.copy(H)},this.setViewport=function(e,t,n,r){e.isVector4?H.set(e.x,e.y,e.z,e.w):H.set(e,t,n,r),te.viewport(D.copy(H).multiplyScalar(F).floor())},this.getScissor=function(e){return e.copy(V)},this.setScissor=function(e,t,n,r){e.isVector4?V.set(e.x,e.y,e.z,e.w):V.set(e,t,n,r),te.scissor(L.copy(V).multiplyScalar(F).floor())},this.getScissorTest=function(){return W},this.setScissorTest=function(e){te.setScissorTest(W=e)},this.setOpaqueSort=function(e){z=e},this.setTransparentSort=function(e){G=e},this.getClearColor=function(e){return e.copy(ve.getClearColor())},this.setClearColor=function(){ve.setClearColor.apply(ve,arguments)},this.getClearAlpha=function(){return ve.getClearAlpha()},this.setClearAlpha=function(){ve.setClearAlpha.apply(ve,arguments)},this.clear=function(){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=0;(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&(n|=we.COLOR_BUFFER_BIT),e&&(n|=we.DEPTH_BUFFER_BIT),t&&(n|=we.STENCIL_BUFFER_BIT),we.clear(n)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){i.removeEventListener("webglcontextlost",ke,!1),i.removeEventListener("webglcontextrestored",Be,!1),i.removeEventListener("webglcontextcreationerror",Re,!1),fe.dispose(),de.dispose(),re.dispose(),ae.dispose(),Ae.dispose(),le.dispose(),xe.dispose(),_e.dispose(),ue.dispose(),Te.dispose(),Te.removeEventListener("sessionstart",De),Te.removeEventListener("sessionend",Le),J&&(J.dispose(),J=null),Ue.stop()},this.renderBufferDirect=function(e,t,n,r,i,a){null===t&&(t=q);var A=i.isMesh&&i.matrixWorld.determinant()<0,o=function(e,t,n,r,i){!0!==t.isScene&&(t=q);ie.resetTextureUnits();var a=t.fog,A=r.isMeshStandardMaterial?t.environment:null,o=null===R?C.outputColorSpace:!0===R.isXRRenderTarget?R.texture.colorSpace:mA,s=(r.isMeshStandardMaterial?Ae:ae).get(r.envMap||A),l=!0===r.vertexColors&&!!n.attributes.color&&4===n.attributes.color.itemSize,u=!!r.normalMap&&!!n.attributes.tangent,c=!!n.morphAttributes.position,f=!!n.morphAttributes.normal,d=!!n.morphAttributes.color,h=r.toneMapped?C.toneMapping:Si,p=n.morphAttributes.position||n.morphAttributes.normal||n.morphAttributes.color,v=void 0!==p?p.length:0,m=re.get(r),g=E.state.lights;if(!0===Q&&(!0===X||e!==I)){var y=e===I&&r.id===P;he.setState(r,e,y)}var b=!1;r.version===m.__version?m.needsLights&&m.lightsStateVersion!==g.state.version||m.outputColorSpace!==o||i.isInstancedMesh&&!1===m.instancing?b=!0:i.isInstancedMesh||!0!==m.instancing?i.isSkinnedMesh&&!1===m.skinning?b=!0:i.isSkinnedMesh||!0!==m.skinning?m.envMap!==s||!0===r.fog&&m.fog!==a?b=!0:void 0===m.numClippingPlanes||m.numClippingPlanes===he.numPlanes&&m.numIntersection===he.numIntersection?(m.vertexAlphas!==l||m.vertexTangents!==u||m.morphTargets!==c||m.morphNormals!==f||m.morphColors!==d||m.toneMapping!==h||!0===ee.isWebGL2&&m.morphTargetsCount!==v)&&(b=!0):b=!0:b=!0:b=!0:(b=!0,m.__version=r.version);var x=m.currentProgram;!0===b&&(x=Ge(r,t,i));var _=!1,w=!1,M=!1,S=x.getUniforms(),T=m.uniforms;te.useProgram(x.program)&&(_=!0,w=!0,M=!0);r.id!==P&&(P=r.id,w=!0);if(_||I!==e){if(S.setValue(we,"projectionMatrix",e.projectionMatrix),ee.logarithmicDepthBuffer&&S.setValue(we,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),I!==e&&(I=e,w=!0,M=!0),r.isShaderMaterial||r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshStandardMaterial||r.envMap){var k=S.map.cameraPosition;void 0!==k&&k.setValue(we,Y.setFromMatrixPosition(e.matrixWorld))}(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial)&&S.setValue(we,"isOrthographic",!0===e.isOrthographicCamera),(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial||r.isShadowMaterial||i.isSkinnedMesh)&&S.setValue(we,"viewMatrix",e.matrixWorldInverse)}if(i.isSkinnedMesh){S.setOptional(we,i,"bindMatrix"),S.setOptional(we,i,"bindMatrixInverse");var B=i.skeleton;B&&(ee.floatVertexTextures?(null===B.boneTexture&&B.computeBoneTexture(),S.setValue(we,"boneTexture",B.boneTexture,ie),S.setValue(we,"boneTextureSize",B.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}var D=n.morphAttributes;(void 0!==D.position||void 0!==D.normal||void 0!==D.color&&!0===ee.isWebGL2)&&me.update(i,n,x);(w||m.receiveShadow!==i.receiveShadow)&&(m.receiveShadow=i.receiveShadow,S.setValue(we,"receiveShadow",i.receiveShadow));r.isMeshGouraudMaterial&&null!==r.envMap&&(T.envMap.value=s,T.flipEnvMap.value=s.isCubeTexture&&!1===s.isRenderTargetTexture?-1:1);w&&(S.setValue(we,"toneMappingExposure",C.toneMappingExposure),m.needsLights&&(U=M,(L=T).ambientLightColor.needsUpdate=U,L.lightProbe.needsUpdate=U,L.directionalLights.needsUpdate=U,L.directionalLightShadows.needsUpdate=U,L.pointLights.needsUpdate=U,L.pointLightShadows.needsUpdate=U,L.spotLights.needsUpdate=U,L.spotLightShadows.needsUpdate=U,L.rectAreaLights.needsUpdate=U,L.hemisphereLights.needsUpdate=U),a&&!0===r.fog&&ce.refreshFogUniforms(T,a),ce.refreshMaterialUniforms(T,r,F,O,J),rf.upload(we,m.uniformsList,T,ie));var L,U;r.isShaderMaterial&&!0===r.uniformsNeedUpdate&&(rf.upload(we,m.uniformsList,T,ie),r.uniformsNeedUpdate=!1);r.isSpriteMaterial&&S.setValue(we,"center",i.center);if(S.setValue(we,"modelViewMatrix",i.modelViewMatrix),S.setValue(we,"normalMatrix",i.normalMatrix),S.setValue(we,"modelMatrix",i.matrixWorld),r.isShaderMaterial||r.isRawShaderMaterial)for(var N=r.uniformsGroups,z=0,G=N.length;z<G;z++)if(ee.isWebGL2){var H=N[z];_e.update(H,x),_e.bind(H,x)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.");return x}(e,t,n,r,i);te.setMaterial(r,A);var s=n.index,l=1;!0===r.wireframe&&(s=se.getWireframeAttribute(n),l=2);var u=n.drawRange,c=n.attributes.position,f=u.start*l,d=(u.start+u.count)*l;null!==a&&(f=Math.max(f,a.start*l),d=Math.min(d,(a.start+a.count)*l)),null!==s?(f=Math.max(f,0),d=Math.min(d,s.count)):void 0!==c&&null!==c&&(f=Math.max(f,0),d=Math.min(d,c.count));var h=d-f;if(!(h<0||h===1/0)){var p;xe.setup(i,r,o,n,s);var v=ge;if(null!==s&&(p=oe.get(s),(v=ye).setIndex(p)),i.isMesh)!0===r.wireframe?(te.setLineWidth(r.wireframeLinewidth*Z()),v.setMode(we.LINES)):v.setMode(we.TRIANGLES);else if(i.isLine){var m=r.linewidth;void 0===m&&(m=1),te.setLineWidth(m*Z()),i.isLineSegments?v.setMode(we.LINES):i.isLineLoop?v.setMode(we.LINE_LOOP):v.setMode(we.LINE_STRIP)}else i.isPoints?v.setMode(we.POINTS):i.isSprite&&v.setMode(we.TRIANGLES);if(i.isInstancedMesh)v.renderInstances(f,h,i.count);else if(n.isInstancedBufferGeometry){var g=void 0!==n._maxInstanceCount?n._maxInstanceCount:1/0,y=Math.min(n.instanceCount,g);v.renderInstances(f,h,y)}else v.render(f,h)}},this.compile=function(e,t){function n(e,t,n){!0===e.transparent&&e.side===jr&&!1===e.forceSinglePass?(e.side=Wr,e.needsUpdate=!0,Ge(e,t,n),e.side=Vr,e.needsUpdate=!0,Ge(e,t,n),e.side=jr):Ge(e,t,n)}(E=de.get(e)).init(),S.push(E),e.traverseVisible((function(e){e.isLight&&e.layers.test(t.layers)&&(E.pushLight(e),e.castShadow&&E.pushShadow(e))})),E.setupLights(C.useLegacyLights),e.traverse((function(t){var r=t.material;if(r)if(Array.isArray(r))for(var i=0;i<r.length;i++){n(r[i],e,t)}else n(r,e,t)})),S.pop(),E=null};var Ie=null;function De(){Ue.stop()}function Le(){Ue.start()}var Ue=new gu;function Ne(e,t,n,r){if(!1!==e.visible){if(e.layers.test(t.layers))if(e.isGroup)n=e.renderOrder;else if(e.isLOD)!0===e.autoUpdate&&e.update(t);else if(e.isLight)E.pushLight(e),e.castShadow&&E.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||j.intersectsSprite(e)){r&&Y.setFromMatrixPosition(e.matrixWorld).applyMatrix4(K);var i=le.update(e),a=e.material;a.visible&&w.push(e,i,a,n,Y.z,null)}}else if((e.isMesh||e.isLine||e.isPoints)&&(!e.frustumCulled||j.intersectsObject(e))){e.isSkinnedMesh&&e.skeleton.frame!==ne.render.frame&&(e.skeleton.update(),e.skeleton.frame=ne.render.frame);var A=le.update(e),o=e.material;if(r&&(null===A.boundingSphere&&A.computeBoundingSphere(),Y.copy(A.boundingSphere.center).applyMatrix4(e.matrixWorld).applyMatrix4(K)),Array.isArray(o))for(var s=A.groups,l=0,u=s.length;l<u;l++){var c=s[l],f=o[c.materialIndex];f&&f.visible&&w.push(e,A,f,n,Y.z,c)}else o.visible&&w.push(e,A,o,n,Y.z,null)}for(var d=e.children,h=0,p=d.length;h<p;h++)Ne(d[h],t,n,r)}}function Oe(e,t,n,r){var i=e.opaque,a=e.transmissive,A=e.transparent;E.setupLightsView(n),!0===Q&&he.setGlobalState(C.clippingPlanes,n),a.length>0&&function(e,t,n,r){if(null===J){var i=ee.isWebGL2;J=new Po(1024,1024,{generateMipmaps:!0,type:$.has("EXT_color_buffer_half_float")?ia:qi,minFilter:Ki,samples:i&&!0===h?4:0})}var a=C.getRenderTarget();C.setRenderTarget(J),C.clear();var A=C.toneMapping;C.toneMapping=Si,Fe(e,n,r),ie.updateMultisampleRenderTarget(J),ie.updateRenderTargetMipmap(J);for(var o=!1,s=0,l=t.length;s<l;s++){var u=t[s],c=u.object,f=u.geometry,d=u.material,p=u.group;if(d.side===jr&&c.layers.test(r.layers)){var v=d.side;d.side=Wr,d.needsUpdate=!0,ze(c,n,r,f,d,p),d.side=v,d.needsUpdate=!0,o=!0}}!0===o&&(ie.updateMultisampleRenderTarget(J),ie.updateRenderTargetMipmap(J));C.setRenderTarget(a),C.toneMapping=A}(i,a,t,n),r&&te.viewport(D.copy(r)),i.length>0&&Fe(i,t,n),a.length>0&&Fe(a,t,n),A.length>0&&Fe(A,t,n),te.buffers.depth.setTest(!0),te.buffers.depth.setMask(!0),te.buffers.color.setMask(!0),te.setPolygonOffset(!1)}function Fe(e,t,n){for(var r=!0===t.isScene?t.overrideMaterial:null,i=0,a=e.length;i<a;i++){var A=e[i],o=A.object,s=A.geometry,l=null===r?A.material:r,u=A.group;o.layers.test(n.layers)&&ze(o,t,n,s,l,u)}}function ze(e,t,n,r,i,a){e.onBeforeRender(C,t,n,r,i,a),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),i.onBeforeRender(C,t,n,r,e,a),!0===i.transparent&&i.side===jr&&!1===i.forceSinglePass?(i.side=Wr,i.needsUpdate=!0,C.renderBufferDirect(n,t,r,i,e,a),i.side=Vr,i.needsUpdate=!0,C.renderBufferDirect(n,t,r,i,e,a),i.side=jr):C.renderBufferDirect(n,t,r,i,e,a),e.onAfterRender(C,t,n,r,i,a)}function Ge(e,t,n){!0!==t.isScene&&(t=q);var r=re.get(e),i=E.state.lights,a=E.state.shadowsArray,A=i.state.version,o=ue.getParameters(e,i.state,a,t,n),s=ue.getProgramCacheKey(o),l=r.programs;r.environment=e.isMeshStandardMaterial?t.environment:null,r.fog=t.fog,r.envMap=(e.isMeshStandardMaterial?Ae:ae).get(e.envMap||r.environment),void 0===l&&(e.addEventListener("dispose",Pe),l=new Map,r.programs=l);var u=l.get(s);if(void 0!==u){if(r.currentProgram===u&&r.lightsStateVersion===A)return He(e,o),u}else o.uniforms=ue.getUniforms(e),e.onBuild(n,o,C),e.onBeforeCompile(o,C),u=ue.acquireProgram(o,s),l.set(s,u),r.uniforms=o.uniforms;var c=r.uniforms;(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(c.clippingPlanes=he.uniform),He(e,o),r.needsLights=function(e){return e.isMeshLambertMaterial||e.isMeshToonMaterial||e.isMeshPhongMaterial||e.isMeshStandardMaterial||e.isShadowMaterial||e.isShaderMaterial&&!0===e.lights}(e),r.lightsStateVersion=A,r.needsLights&&(c.ambientLightColor.value=i.state.ambient,c.lightProbe.value=i.state.probe,c.directionalLights.value=i.state.directional,c.directionalLightShadows.value=i.state.directionalShadow,c.spotLights.value=i.state.spot,c.spotLightShadows.value=i.state.spotShadow,c.rectAreaLights.value=i.state.rectArea,c.ltc_1.value=i.state.rectAreaLTC1,c.ltc_2.value=i.state.rectAreaLTC2,c.pointLights.value=i.state.point,c.pointLightShadows.value=i.state.pointShadow,c.hemisphereLights.value=i.state.hemi,c.directionalShadowMap.value=i.state.directionalShadowMap,c.directionalShadowMatrix.value=i.state.directionalShadowMatrix,c.spotShadowMap.value=i.state.spotShadowMap,c.spotLightMatrix.value=i.state.spotLightMatrix,c.spotLightMap.value=i.state.spotLightMap,c.pointShadowMap.value=i.state.pointShadowMap,c.pointShadowMatrix.value=i.state.pointShadowMatrix);var f=u.getUniforms(),d=rf.seqWithValue(f.seq,c);return r.currentProgram=u,r.uniformsList=d,u}function He(e,t){var n=re.get(e);n.outputColorSpace=t.outputColorSpace,n.instancing=t.instancing,n.skinning=t.skinning,n.morphTargets=t.morphTargets,n.morphNormals=t.morphNormals,n.morphColors=t.morphColors,n.morphTargetsCount=t.morphTargetsCount,n.numClippingPlanes=t.numClippingPlanes,n.numIntersection=t.numClipIntersection,n.vertexAlphas=t.vertexAlphas,n.vertexTangents=t.vertexTangents,n.toneMapping=t.toneMapping}Ue.setAnimationLoop((function(e){Ie&&Ie(e)})),"undefined"!==typeof self&&Ue.setContext(self),this.setAnimationLoop=function(e){Ie=e,Te.setAnimationLoop(e),null===e?Ue.stop():Ue.start()},Te.addEventListener("sessionstart",De),Te.addEventListener("sessionend",Le),this.render=function(e,t){if(void 0===t||!0===t.isCamera){if(!0!==T){!0===e.matrixWorldAutoUpdate&&e.updateMatrixWorld(),null===t.parent&&!0===t.matrixWorldAutoUpdate&&t.updateMatrixWorld(),!0===Te.enabled&&!0===Te.isPresenting&&(!0===Te.cameraAutoUpdate&&Te.updateCamera(t),t=Te.getCamera()),!0===e.isScene&&e.onBeforeRender(C,e,t,R),(E=de.get(e,S.length)).init(),S.push(E),K.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),j.setFromProjectionMatrix(K),X=this.localClippingEnabled,Q=he.init(this.clippingPlanes,X),(w=fe.get(e,M.length)).init(),M.push(w),Ne(e,t,0,C.sortObjects),w.finish(),!0===C.sortObjects&&w.sort(z,G),!0===Q&&he.beginShadows();var n=E.state.shadowsArray;if(pe.render(n,e,t),!0===Q&&he.endShadows(),!0===this.info.autoReset&&this.info.reset(),ve.render(w,e),E.setupLights(C.useLegacyLights),t.isArrayCamera)for(var r=t.cameras,i=0,a=r.length;i<a;i++){var A=r[i];Oe(w,e,A,A.viewport)}else Oe(w,e,t);null!==R&&(ie.updateMultisampleRenderTarget(R),ie.updateRenderTargetMipmap(R)),!0===e.isScene&&e.onAfterRender(C,e,t),xe.resetDefaultState(),P=-1,I=null,S.pop(),E=S.length>0?S[S.length-1]:null,M.pop(),w=M.length>0?M[M.length-1]:null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.getActiveCubeFace=function(){return k},this.getActiveMipmapLevel=function(){return B},this.getRenderTarget=function(){return R},this.setRenderTargetTextures=function(e,t,n){re.get(e.texture).__webglTexture=t,re.get(e.depthTexture).__webglTexture=n;var r=re.get(e);r.__hasExternalTextures=!0,r.__hasExternalTextures&&(r.__autoAllocateDepthBuffer=void 0===n,r.__autoAllocateDepthBuffer||!0===$.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),r.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(e,t){var n=re.get(e);n.__webglFramebuffer=t,n.__useDefaultFramebuffer=void 0===t},this.setRenderTarget=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;R=e,k=t,B=n;var r=!0,i=null,a=!1,A=!1;if(e){var o=re.get(e);void 0!==o.__useDefaultFramebuffer?(te.bindFramebuffer(we.FRAMEBUFFER,null),r=!1):void 0===o.__webglFramebuffer?ie.setupRenderTarget(e):o.__hasExternalTextures&&ie.rebindTextures(e,re.get(e.texture).__webglTexture,re.get(e.depthTexture).__webglTexture);var s=e.texture;(s.isData3DTexture||s.isDataArrayTexture||s.isCompressedArrayTexture)&&(A=!0);var l=re.get(e).__webglFramebuffer;e.isWebGLCubeRenderTarget?(i=l[t],a=!0):i=ee.isWebGL2&&e.samples>0&&!1===ie.useMultisampledRTT(e)?re.get(e).__webglMultisampledFramebuffer:l,D.copy(e.viewport),L.copy(e.scissor),U=e.scissorTest}else D.copy(H).multiplyScalar(F).floor(),L.copy(V).multiplyScalar(F).floor(),U=W;if(te.bindFramebuffer(we.FRAMEBUFFER,i)&&ee.drawBuffers&&r&&te.drawBuffers(e,i),te.viewport(D),te.scissor(L),te.setScissorTest(U),a){var u=re.get(e.texture);we.framebufferTexture2D(we.FRAMEBUFFER,we.COLOR_ATTACHMENT0,we.TEXTURE_CUBE_MAP_POSITIVE_X+t,u.__webglTexture,n)}else if(A){var c=re.get(e.texture),f=t||0;we.framebufferTextureLayer(we.FRAMEBUFFER,we.COLOR_ATTACHMENT0,c.__webglTexture,n||0,f)}P=-1},this.readRenderTargetPixels=function(e,t,n,r,i,a,A){if(e&&e.isWebGLRenderTarget){var o=re.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==A&&(o=o[A]),o){te.bindFramebuffer(we.FRAMEBUFFER,o);try{var s=e.texture,l=s.format,u=s.type;if(l!==la&&be.convert(l)!==we.getParameter(we.IMPLEMENTATION_COLOR_READ_FORMAT))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");var c=u===ia&&($.has("EXT_color_buffer_half_float")||ee.isWebGL2&&$.has("EXT_color_buffer_float"));if(u!==qi&&be.convert(u)!==we.getParameter(we.IMPLEMENTATION_COLOR_READ_TYPE)&&(u!==ra||!(ee.isWebGL2||$.has("OES_texture_float")||$.has("WEBGL_color_buffer_float")))&&!c)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");t>=0&&t<=e.width-r&&n>=0&&n<=e.height-i&&we.readPixels(t,n,r,i,be.convert(l),be.convert(u),a)}finally{var f=null!==R?re.get(R).__webglFramebuffer:null;te.bindFramebuffer(we.FRAMEBUFFER,f)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.copyFramebufferToTexture=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=Math.pow(2,-n),i=Math.floor(t.image.width*r),a=Math.floor(t.image.height*r);ie.setTexture2D(t,0),we.copyTexSubImage2D(we.TEXTURE_2D,n,0,0,e.x,e.y,i,a),te.unbindTexture()},this.copyTextureToTexture=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=t.image.width,a=t.image.height,A=be.convert(n.format),o=be.convert(n.type);ie.setTexture2D(n,0),we.pixelStorei(we.UNPACK_FLIP_Y_WEBGL,n.flipY),we.pixelStorei(we.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.premultiplyAlpha),we.pixelStorei(we.UNPACK_ALIGNMENT,n.unpackAlignment),t.isDataTexture?we.texSubImage2D(we.TEXTURE_2D,r,e.x,e.y,i,a,A,o,t.image.data):t.isCompressedTexture?we.compressedTexSubImage2D(we.TEXTURE_2D,r,e.x,e.y,t.mipmaps[0].width,t.mipmaps[0].height,A,t.mipmaps[0].data):we.texSubImage2D(we.TEXTURE_2D,r,e.x,e.y,A,o,t.image),0===r&&n.generateMipmaps&&we.generateMipmap(we.TEXTURE_2D),te.unbindTexture()},this.copyTextureToTexture3D=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(C.isWebGL1Renderer)console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");else{var a,A=e.max.x-e.min.x+1,o=e.max.y-e.min.y+1,s=e.max.z-e.min.z+1,l=be.convert(r.format),u=be.convert(r.type);if(r.isData3DTexture)ie.setTexture3D(r,0),a=we.TEXTURE_3D;else{if(!r.isDataArrayTexture)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");ie.setTexture2DArray(r,0),a=we.TEXTURE_2D_ARRAY}we.pixelStorei(we.UNPACK_FLIP_Y_WEBGL,r.flipY),we.pixelStorei(we.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.premultiplyAlpha),we.pixelStorei(we.UNPACK_ALIGNMENT,r.unpackAlignment);var c=we.getParameter(we.UNPACK_ROW_LENGTH),f=we.getParameter(we.UNPACK_IMAGE_HEIGHT),d=we.getParameter(we.UNPACK_SKIP_PIXELS),h=we.getParameter(we.UNPACK_SKIP_ROWS),p=we.getParameter(we.UNPACK_SKIP_IMAGES),v=n.isCompressedTexture?n.mipmaps[0]:n.image;we.pixelStorei(we.UNPACK_ROW_LENGTH,v.width),we.pixelStorei(we.UNPACK_IMAGE_HEIGHT,v.height),we.pixelStorei(we.UNPACK_SKIP_PIXELS,e.min.x),we.pixelStorei(we.UNPACK_SKIP_ROWS,e.min.y),we.pixelStorei(we.UNPACK_SKIP_IMAGES,e.min.z),n.isDataTexture||n.isData3DTexture?we.texSubImage3D(a,i,t.x,t.y,t.z,A,o,s,l,u,v.data):n.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),we.compressedTexSubImage3D(a,i,t.x,t.y,t.z,A,o,s,l,v.data)):we.texSubImage3D(a,i,t.x,t.y,t.z,A,o,s,l,u,v),we.pixelStorei(we.UNPACK_ROW_LENGTH,c),we.pixelStorei(we.UNPACK_IMAGE_HEIGHT,f),we.pixelStorei(we.UNPACK_SKIP_PIXELS,d),we.pixelStorei(we.UNPACK_SKIP_ROWS,h),we.pixelStorei(we.UNPACK_SKIP_IMAGES,p),0===i&&r.generateMipmaps&&we.generateMipmap(a),te.unbindTexture()}},this.initTexture=function(e){e.isCubeTexture?ie.setTextureCube(e,0):e.isData3DTexture?ie.setTexture3D(e,0):e.isDataArrayTexture||e.isCompressedArrayTexture?ie.setTexture2DArray(e,0):ie.setTexture2D(e,0),te.unbindTexture()},this.resetState=function(){k=0,B=0,R=null,te.reset(),xe.reset()},"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}return gr(e,[{key:"physicallyCorrectLights",get:function(){return console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights},set:function(e){console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!e}},{key:"outputEncoding",get:function(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===vA?uA:lA},set:function(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===uA?vA:mA}}]),e}(),qf=function(e){br(n,e);var t=Er(n);function n(){return vr(this,n),t.apply(this,arguments)}return gr(n)}(Yf);qf.prototype.isWebGL1Renderer=!0;var Zf,$f=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:25e-5;vr(this,e),this.isFogExp2=!0,this.name="",this.color=new al(t),this.density=n}return gr(e,[{key:"clone",value:function(){return new e(this.color,this.density)}},{key:"toJSON",value:function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}]),e}(),ed=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;vr(this,e),this.isFog=!0,this.name="",this.color=new al(t),this.near=n,this.far=r}return gr(e,[{key:"clone",value:function(){return new e(this.color,this.near,this.far)}},{key:"toJSON",value:function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}]),e}(),td=function(e){br(n,e);var t=Er(n);function n(){var e;return vr(this,n),(e=t.call(this)).isScene=!0,e.type="Scene",e.background=null,e.environment=null,e.fog=null,e.backgroundBlurriness=0,e.backgroundIntensity=1,e.overrideMaterial=null,"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:wr(e)})),e}return gr(n,[{key:"copy",value:function(e,t){return Br(xr(n.prototype),"copy",this).call(this,e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}},{key:"toJSON",value:function(e){var t=Br(xr(n.prototype),"toJSON",this).call(this,e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(t.object.backgroundIntensity=this.backgroundIntensity),t}},{key:"autoUpdate",get:function(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate},set:function(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}]),n}(zs),nd=function(){function e(t,n){vr(this,e),this.isInterleavedBuffer=!0,this.array=t,this.stride=n,this.count=void 0!==t?t.length/n:0,this.usage=LA,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=ZA()}return gr(e,[{key:"onUploadCallback",value:function(){}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"setUsage",value:function(e){return this.usage=e,this}},{key:"copy",value:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}},{key:"copyAt",value:function(e,t,n){e*=this.stride,n*=t.stride;for(var r=0,i=this.stride;r<i;r++)this.array[e+r]=t.array[n+r];return this}},{key:"set",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(e,t),this}},{key:"clone",value:function(e){void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=ZA()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);var t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}},{key:"onUpload",value:function(e){return this.onUploadCallback=e,this}},{key:"toJSON",value:function(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=ZA()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}]),e}(),rd=new Fo,id=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];vr(this,e),this.isInterleavedBufferAttribute=!0,this.name="",this.data=t,this.itemSize=n,this.offset=r,this.normalized=i}return gr(e,[{key:"count",get:function(){return this.data.count}},{key:"array",get:function(){return this.data.array}},{key:"needsUpdate",set:function(e){this.data.needsUpdate=e}},{key:"applyMatrix4",value:function(e){for(var t=0,n=this.data.count;t<n;t++)rd.fromBufferAttribute(this,t),rd.applyMatrix4(e),this.setXYZ(t,rd.x,rd.y,rd.z);return this}},{key:"applyNormalMatrix",value:function(e){for(var t=0,n=this.count;t<n;t++)rd.fromBufferAttribute(this,t),rd.applyNormalMatrix(e),this.setXYZ(t,rd.x,rd.y,rd.z);return this}},{key:"transformDirection",value:function(e){for(var t=0,n=this.count;t<n;t++)rd.fromBufferAttribute(this,t),rd.transformDirection(e),this.setXYZ(t,rd.x,rd.y,rd.z);return this}},{key:"setX",value:function(e,t){return this.normalized&&(t=Ao(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}},{key:"setY",value:function(e,t){return this.normalized&&(t=Ao(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}},{key:"setZ",value:function(e,t){return this.normalized&&(t=Ao(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}},{key:"setW",value:function(e,t){return this.normalized&&(t=Ao(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}},{key:"getX",value:function(e){var t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=ao(t,this.array)),t}},{key:"getY",value:function(e){var t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=ao(t,this.array)),t}},{key:"getZ",value:function(e){var t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=ao(t,this.array)),t}},{key:"getW",value:function(e){var t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=ao(t,this.array)),t}},{key:"setXY",value:function(e,t,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=Ao(t,this.array),n=Ao(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this}},{key:"setXYZ",value:function(e,t,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=Ao(t,this.array),n=Ao(n,this.array),r=Ao(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this}},{key:"setXYZW",value:function(e,t,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=Ao(t,this.array),n=Ao(n,this.array),r=Ao(r,this.array),i=Ao(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=i,this}},{key:"clone",value:function(t){if(void 0===t){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");for(var n=[],r=0;r<this.count;r++)for(var i=r*this.data.stride+this.offset,a=0;a<this.itemSize;a++)n.push(this.data.array[i+a]);return new pl(new this.array.constructor(n),this.itemSize,this.normalized)}return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new e(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}},{key:"toJSON",value:function(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");for(var t=[],n=0;n<this.count;n++)for(var r=n*this.data.stride+this.offset,i=0;i<this.itemSize;i++)t.push(this.data.array[r+i]);return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}]),e}(),ad=function(e){br(n,e);var t=Er(n);function n(e){var r;return vr(this,n),(r=t.call(this)).isSpriteMaterial=!0,r.type="SpriteMaterial",r.color=new al(16777215),r.map=null,r.alphaMap=null,r.rotation=0,r.sizeAttenuation=!0,r.transparent=!0,r.fog=!0,r.setValues(e),r}return gr(n,[{key:"copy",value:function(e){return Br(xr(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}]),n}(el),Ad=new Fo,od=new Fo,sd=new Fo,ld=new so,ud=new so,cd=new ps,fd=new Fo,dd=new Fo,hd=new Fo,pd=new so,vd=new so,md=new so,gd=function(e){br(n,e);var t=Er(n);function n(e){var r;if(vr(this,n),(r=t.call(this)).isSprite=!0,r.type="Sprite",void 0===Zf){Zf=new Il;var i=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),a=new nd(i,5);Zf.setIndex([0,1,2,0,2,3]),Zf.setAttribute("position",new id(a,3,0,!1)),Zf.setAttribute("uv",new id(a,2,3,!1))}return r.geometry=Zf,r.material=void 0!==e?e:new ad,r.center=new so(.5,.5),r}return gr(n,[{key:"raycast",value:function(e,t){null===e.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),od.setFromMatrixScale(this.matrixWorld),cd.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),sd.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&od.multiplyScalar(-sd.z);var n,r,i=this.material.rotation;0!==i&&(r=Math.cos(i),n=Math.sin(i));var a=this.center;yd(fd.set(-.5,-.5,0),sd,a,od,n,r),yd(dd.set(.5,-.5,0),sd,a,od,n,r),yd(hd.set(.5,.5,0),sd,a,od,n,r),pd.set(0,0),vd.set(1,0),md.set(1,1);var A=e.ray.intersectTriangle(fd,dd,hd,!1,Ad);if(null!==A||(yd(dd.set(-.5,.5,0),sd,a,od,n,r),vd.set(0,1),null!==(A=e.ray.intersectTriangle(fd,hd,dd,!1,Ad)))){var o=e.ray.origin.distanceTo(Ad);o<e.near||o>e.far||t.push({distance:o,point:Ad.clone(),uv:Zs.getInterpolation(Ad,fd,dd,hd,pd,vd,md,new so),face:null,object:this})}}},{key:"copy",value:function(e,t){return Br(xr(n.prototype),"copy",this).call(this,e,t),void 0!==e.center&&this.center.copy(e.center),this.material=e.material,this}}]),n}(zs);function yd(e,t,n,r,i,a){ld.subVectors(e,n).addScalar(.5).multiply(r),void 0!==i?(ud.x=a*ld.x-i*ld.y,ud.y=i*ld.x+a*ld.y):ud.copy(ld),e.copy(t),e.x+=ud.x,e.y+=ud.y,e.applyMatrix4(cd)}var bd=new Fo,xd=new Fo,_d=function(e){br(n,e);var t=Er(n);function n(){var e;return vr(this,n),(e=t.call(this))._currentLevel=0,e.type="LOD",Object.defineProperties(wr(e),{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),e.autoUpdate=!0,e}return gr(n,[{key:"copy",value:function(e){Br(xr(n.prototype),"copy",this).call(this,e,!1);for(var t=e.levels,r=0,i=t.length;r<i;r++){var a=t[r];this.addLevel(a.object.clone(),a.distance,a.hysteresis)}return this.autoUpdate=e.autoUpdate,this}},{key:"addLevel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;t=Math.abs(t);var r,i=this.levels;for(r=0;r<i.length&&!(t<i[r].distance);r++);return i.splice(r,0,{distance:t,hysteresis:n,object:e}),this.add(e),this}},{key:"getCurrentLevel",value:function(){return this._currentLevel}},{key:"getObjectForDistance",value:function(e){var t=this.levels;if(t.length>0){var n,r;for(n=1,r=t.length;n<r;n++){var i=t[n].distance;if(t[n].object.visible&&(i-=i*t[n].hysteresis),e<i)break}return t[n-1].object}return null}},{key:"raycast",value:function(e,t){if(this.levels.length>0){bd.setFromMatrixPosition(this.matrixWorld);var n=e.ray.origin.distanceTo(bd);this.getObjectForDistance(n).raycast(e,t)}}},{key:"update",value:function(e){var t=this.levels;if(t.length>1){bd.setFromMatrixPosition(e.matrixWorld),xd.setFromMatrixPosition(this.matrixWorld);var n,r,i=bd.distanceTo(xd)/e.zoom;for(t[0].object.visible=!0,n=1,r=t.length;n<r;n++){var a=t[n].distance;if(t[n].object.visible&&(a-=a*t[n].hysteresis),!(i>=a))break;t[n-1].object.visible=!1,t[n].object.visible=!0}for(this._currentLevel=n-1;n<r;n++)t[n].object.visible=!1}}},{key:"toJSON",value:function(e){var t=Br(xr(n.prototype),"toJSON",this).call(this,e);!1===this.autoUpdate&&(t.object.autoUpdate=!1),t.object.levels=[];for(var r=this.levels,i=0,a=r.length;i<a;i++){var A=r[i];t.object.levels.push({object:A.object.uuid,distance:A.distance,hysteresis:A.hysteresis})}return t}}]),n}(zs),wd=new Fo,Ed=new Ro,Md=new Ro,Sd=new Fo,Cd=new ps,Td=new Fo,kd=function(e){br(n,e);var t=Er(n);function n(e,r){var i;return vr(this,n),(i=t.call(this,e,r)).isSkinnedMesh=!0,i.type="SkinnedMesh",i.bindMode="attached",i.bindMatrix=new ps,i.bindMatrixInverse=new ps,i.boundingBox=null,i.boundingSphere=null,i}return gr(n,[{key:"computeBoundingBox",value:function(){var e=this.geometry;null===this.boundingBox&&(this.boundingBox=new Ho),this.boundingBox.makeEmpty();for(var t=e.getAttribute("position"),n=0;n<t.count;n++)Td.fromBufferAttribute(t,n),this.applyBoneTransform(n,Td),this.boundingBox.expandByPoint(Td)}},{key:"computeBoundingSphere",value:function(){var e=this.geometry;null===this.boundingSphere&&(this.boundingSphere=new As),this.boundingSphere.makeEmpty();for(var t=e.getAttribute("position"),n=0;n<t.count;n++)Td.fromBufferAttribute(t,n),this.applyBoneTransform(n,Td),this.boundingSphere.expandByPoint(Td)}},{key:"copy",value:function(e,t){return Br(xr(n.prototype),"copy",this).call(this,e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}},{key:"getVertexPosition",value:function(e,t){return Br(xr(n.prototype),"getVertexPosition",this).call(this,e,t),this.applyBoneTransform(e,t),t}},{key:"bind",value:function(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}},{key:"pose",value:function(){this.skeleton.pose()}},{key:"normalizeSkinWeights",value:function(){for(var e=new Ro,t=this.geometry.attributes.skinWeight,n=0,r=t.count;n<r;n++){e.fromBufferAttribute(t,n);var i=1/e.manhattanLength();i!==1/0?e.multiplyScalar(i):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}},{key:"updateMatrixWorld",value:function(e){Br(xr(n.prototype),"updateMatrixWorld",this).call(this,e),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}},{key:"applyBoneTransform",value:function(e,t){var n=this.skeleton,r=this.geometry;Ed.fromBufferAttribute(r.attributes.skinIndex,e),Md.fromBufferAttribute(r.attributes.skinWeight,e),wd.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(var i=0;i<4;i++){var a=Md.getComponent(i);if(0!==a){var A=Ed.getComponent(i);Cd.multiplyMatrices(n.bones[A].matrixWorld,n.boneInverses[A]),t.addScaledVector(Sd.copy(wd).applyMatrix4(Cd),a)}}return t.applyMatrix4(this.bindMatrixInverse)}},{key:"boneTransform",value:function(e,t){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(e,t)}}]),n}(ql),Bd=function(e){br(n,e);var t=Er(n);function n(){var e;return vr(this,n),(e=t.call(this)).isBone=!0,e.type="Bone",e}return gr(n)}(zs),Rd=function(e){br(n,e);var t=Er(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,A=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0,l=arguments.length>6?arguments[6]:void 0,u=arguments.length>7?arguments[7]:void 0,c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:Gi,f=arguments.length>9&&void 0!==arguments[9]?arguments[9]:Gi,d=arguments.length>10?arguments[10]:void 0,h=arguments.length>11?arguments[11]:void 0;return vr(this,n),(e=t.call(this,null,s,l,u,c,f,A,o,d,h)).isDataTexture=!0,e.image={data:r,width:i,height:a},e.generateMipmaps=!1,e.flipY=!1,e.unpackAlignment=1,e}return gr(n)}(Bo),Pd=new ps,Id=new ps,Dd=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];vr(this,e),this.uuid=ZA(),this.bones=t.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}return gr(e,[{key:"init",value:function(){var e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(16*e.length),0===t.length)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(var n=0,r=this.bones.length;n<r;n++)this.boneInverses.push(new ps)}}},{key:"calculateInverses",value:function(){this.boneInverses.length=0;for(var e=0,t=this.bones.length;e<t;e++){var n=new ps;this.bones[e]&&n.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(n)}}},{key:"pose",value:function(){for(var e=0,t=this.bones.length;e<t;e++){var n=this.bones[e];n&&n.matrixWorld.copy(this.boneInverses[e]).invert()}for(var r=0,i=this.bones.length;r<i;r++){var a=this.bones[r];a&&(a.parent&&a.parent.isBone?(a.matrix.copy(a.parent.matrixWorld).invert(),a.matrix.multiply(a.matrixWorld)):a.matrix.copy(a.matrixWorld),a.matrix.decompose(a.position,a.quaternion,a.scale))}}},{key:"update",value:function(){for(var e=this.bones,t=this.boneInverses,n=this.boneMatrices,r=this.boneTexture,i=0,a=e.length;i<a;i++){var A=e[i]?e[i].matrixWorld:Id;Pd.multiplyMatrices(A,t[i]),Pd.toArray(n,16*i)}null!==r&&(r.needsUpdate=!0)}},{key:"clone",value:function(){return new e(this.bones,this.boneInverses)}},{key:"computeBoneTexture",value:function(){var e=Math.sqrt(4*this.bones.length);e=ro(e),e=Math.max(e,4);var t=new Float32Array(e*e*4);t.set(this.boneMatrices);var n=new Rd(t,e,e,la,ra);return n.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=n,this.boneTextureSize=e,this}},{key:"getBoneByName",value:function(e){for(var t=0,n=this.bones.length;t<n;t++){var r=this.bones[t];if(r.name===e)return r}}},{key:"dispose",value:function(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}},{key:"fromJSON",value:function(e,t){this.uuid=e.uuid;for(var n=0,r=e.bones.length;n<r;n++){var i=e.bones[n],a=t[i];void 0===a&&(console.warn("THREE.Skeleton: No bone found with UUID:",i),a=new Bd),this.bones.push(a),this.boneInverses.push((new ps).fromArray(e.boneInverses[n]))}return this.init(),this}},{key:"toJSON",value:function(){var e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;for(var t=this.bones,n=this.boneInverses,r=0,i=t.length;r<i;r++){var a=t[r];e.bones.push(a.uuid);var A=n[r];e.boneInverses.push(A.toArray())}return e}}]),e}(),Ld=function(e){br(n,e);var t=Er(n);function n(e,r,i){var a,A=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return vr(this,n),(a=t.call(this,e,r,i)).isInstancedBufferAttribute=!0,a.meshPerAttribute=A,a}return gr(n,[{key:"copy",value:function(e){return Br(xr(n.prototype),"copy",this).call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}},{key:"toJSON",value:function(){var e=Br(xr(n.prototype),"toJSON",this).call(this);return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}]),n}(pl),Ud=new ps,Nd=new ps,Od=[],Fd=new Ho,zd=new ps,Gd=new ql,Hd=new As,Vd=function(e){br(n,e);var t=Er(n);function n(e,r,i){var a;vr(this,n),(a=t.call(this,e,r)).isInstancedMesh=!0,a.instanceMatrix=new Ld(new Float32Array(16*i),16),a.instanceColor=null,a.count=i,a.boundingBox=null,a.boundingSphere=null;for(var A=0;A<i;A++)a.setMatrixAt(A,zd);return a}return gr(n,[{key:"computeBoundingBox",value:function(){var e=this.geometry,t=this.count;null===this.boundingBox&&(this.boundingBox=new Ho),null===e.boundingBox&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(var n=0;n<t;n++)this.getMatrixAt(n,Ud),Fd.copy(e.boundingBox).applyMatrix4(Ud),this.boundingBox.union(Fd)}},{key:"computeBoundingSphere",value:function(){var e=this.geometry,t=this.count;null===this.boundingSphere&&(this.boundingSphere=new As),null===e.boundingSphere&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(var n=0;n<t;n++)this.getMatrixAt(n,Ud),Hd.copy(e.boundingSphere).applyMatrix4(Ud),this.boundingSphere.union(Hd)}},{key:"copy",value:function(e,t){return Br(xr(n.prototype),"copy",this).call(this,e,t),this.instanceMatrix.copy(e.instanceMatrix),null!==e.instanceColor&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}},{key:"getColorAt",value:function(e,t){t.fromArray(this.instanceColor.array,3*e)}},{key:"getMatrixAt",value:function(e,t){t.fromArray(this.instanceMatrix.array,16*e)}},{key:"raycast",value:function(e,t){var n=this.matrixWorld,r=this.count;if(Gd.geometry=this.geometry,Gd.material=this.material,void 0!==Gd.material&&(null===this.boundingSphere&&this.computeBoundingSphere(),Hd.copy(this.boundingSphere),Hd.applyMatrix4(n),!1!==e.ray.intersectsSphere(Hd)))for(var i=0;i<r;i++){this.getMatrixAt(i,Ud),Nd.multiplyMatrices(n,Ud),Gd.matrixWorld=Nd,Gd.raycast(e,Od);for(var a=0,A=Od.length;a<A;a++){var o=Od[a];o.instanceId=i,o.object=this,t.push(o)}Od.length=0}}},{key:"setColorAt",value:function(e,t){null===this.instanceColor&&(this.instanceColor=new Ld(new Float32Array(3*this.instanceMatrix.count),3)),t.toArray(this.instanceColor.array,3*e)}},{key:"setMatrixAt",value:function(e,t){t.toArray(this.instanceMatrix.array,16*e)}},{key:"updateMorphTargets",value:function(){}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),n}(ql),Wd=function(e){br(n,e);var t=Er(n);function n(e){var r;return vr(this,n),(r=t.call(this)).isLineBasicMaterial=!0,r.type="LineBasicMaterial",r.color=new al(16777215),r.map=null,r.linewidth=1,r.linecap="round",r.linejoin="round",r.fog=!0,r.setValues(e),r}return gr(n,[{key:"copy",value:function(e){return Br(xr(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}]),n}(el),jd=new Fo,Qd=new Fo,Xd=new ps,Jd=new hs,Kd=new As,Yd=function(e){br(n,e);var t=Er(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Il,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Wd;return vr(this,n),(e=t.call(this)).isLine=!0,e.type="Line",e.geometry=r,e.material=i,e.updateMorphTargets(),e}return gr(n,[{key:"copy",value:function(e,t){return Br(xr(n.prototype),"copy",this).call(this,e,t),this.material=e.material,this.geometry=e.geometry,this}},{key:"computeLineDistances",value:function(){var e=this.geometry;if(null===e.index){for(var t=e.attributes.position,n=[0],r=1,i=t.count;r<i;r++)jd.fromBufferAttribute(t,r-1),Qd.fromBufferAttribute(t,r),n[r]=n[r-1],n[r]+=jd.distanceTo(Qd);e.setAttribute("lineDistance",new El(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}},{key:"raycast",value:function(e,t){var n=this.geometry,r=this.matrixWorld,i=e.params.Line.threshold,a=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),Kd.copy(n.boundingSphere),Kd.applyMatrix4(r),Kd.radius+=i,!1!==e.ray.intersectsSphere(Kd)){Xd.copy(r).invert(),Jd.copy(e.ray).applyMatrix4(Xd);var A=i/((this.scale.x+this.scale.y+this.scale.z)/3),o=A*A,s=new Fo,l=new Fo,u=new Fo,c=new Fo,f=this.isLineSegments?2:1,d=n.index,h=n.attributes.position;if(null!==d)for(var p=Math.max(0,a.start),v=Math.min(d.count,a.start+a.count)-1;p<v;p+=f){var m=d.getX(p),g=d.getX(p+1);if(s.fromBufferAttribute(h,m),l.fromBufferAttribute(h,g),!(Jd.distanceSqToSegment(s,l,c,u)>o)){c.applyMatrix4(this.matrixWorld);var y=e.ray.origin.distanceTo(c);y<e.near||y>e.far||t.push({distance:y,point:u.clone().applyMatrix4(this.matrixWorld),index:p,face:null,faceIndex:null,object:this})}}else for(var b=Math.max(0,a.start),x=Math.min(h.count,a.start+a.count)-1;b<x;b+=f){if(s.fromBufferAttribute(h,b),l.fromBufferAttribute(h,b+1),!(Jd.distanceSqToSegment(s,l,c,u)>o)){c.applyMatrix4(this.matrixWorld);var _=e.ray.origin.distanceTo(c);_<e.near||_>e.far||t.push({distance:_,point:u.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}}}},{key:"updateMorphTargets",value:function(){var e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){var n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var r=0,i=n.length;r<i;r++){var a=n[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}}]),n}(zs),qd=new Fo,Zd=new Fo,$d=function(e){br(n,e);var t=Er(n);function n(e,r){var i;return vr(this,n),(i=t.call(this,e,r)).isLineSegments=!0,i.type="LineSegments",i}return gr(n,[{key:"computeLineDistances",value:function(){var e=this.geometry;if(null===e.index){for(var t=e.attributes.position,n=[],r=0,i=t.count;r<i;r+=2)qd.fromBufferAttribute(t,r),Zd.fromBufferAttribute(t,r+1),n[r]=0===r?0:n[r-1],n[r+1]=n[r]+qd.distanceTo(Zd);e.setAttribute("lineDistance",new El(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}]),n}(Yd),eh=function(e){br(n,e);var t=Er(n);function n(e,r){var i;return vr(this,n),(i=t.call(this,e,r)).isLineLoop=!0,i.type="LineLoop",i}return gr(n)}(Yd),th=function(e){br(n,e);var t=Er(n);function n(e){var r;return vr(this,n),(r=t.call(this)).isPointsMaterial=!0,r.type="PointsMaterial",r.color=new al(16777215),r.map=null,r.alphaMap=null,r.size=1,r.sizeAttenuation=!0,r.fog=!0,r.setValues(e),r}return gr(n,[{key:"copy",value:function(e){return Br(xr(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}]),n}(el),nh=new ps,rh=new hs,ih=new As,ah=new Fo,Ah=function(e){br(n,e);var t=Er(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Il,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new th;return vr(this,n),(e=t.call(this)).isPoints=!0,e.type="Points",e.geometry=r,e.material=i,e.updateMorphTargets(),e}return gr(n,[{key:"copy",value:function(e,t){return Br(xr(n.prototype),"copy",this).call(this,e,t),this.material=e.material,this.geometry=e.geometry,this}},{key:"raycast",value:function(e,t){var n=this.geometry,r=this.matrixWorld,i=e.params.Points.threshold,a=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),ih.copy(n.boundingSphere),ih.applyMatrix4(r),ih.radius+=i,!1!==e.ray.intersectsSphere(ih)){nh.copy(r).invert(),rh.copy(e.ray).applyMatrix4(nh);var A=i/((this.scale.x+this.scale.y+this.scale.z)/3),o=A*A,s=n.index,l=n.attributes.position;if(null!==s)for(var u=Math.max(0,a.start),c=Math.min(s.count,a.start+a.count);u<c;u++){var f=s.getX(u);ah.fromBufferAttribute(l,f),oh(ah,f,o,r,e,t,this)}else for(var d=Math.max(0,a.start),h=Math.min(l.count,a.start+a.count);d<h;d++)ah.fromBufferAttribute(l,d),oh(ah,d,o,r,e,t,this)}}},{key:"updateMorphTargets",value:function(){var e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){var n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var r=0,i=n.length;r<i;r++){var a=n[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}}]),n}(zs);function oh(e,t,n,r,i,a,A){var o=rh.distanceSqToPoint(e);if(o<n){var s=new Fo;rh.closestPointToPoint(e,s),s.applyMatrix4(r);var l=i.ray.origin.distanceTo(s);if(l<i.near||l>i.far)return;a.push({distance:l,distanceToRay:Math.sqrt(o),point:s,index:t,face:null,object:A})}}var sh=function(e){br(n,e);var t=Er(n);function n(e,r,i,a,A,o,s,l,u){var c;vr(this,n),(c=t.call(this,e,r,i,a,A,o,s,l,u)).isVideoTexture=!0,c.minFilter=void 0!==o?o:Qi,c.magFilter=void 0!==A?A:Qi,c.generateMipmaps=!1;var f=wr(c);return"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback((function t(){f.needsUpdate=!0,e.requestVideoFrameCallback(t)})),c}return gr(n,[{key:"clone",value:function(){return new this.constructor(this.image).copy(this)}},{key:"update",value:function(){var e=this.image;!1==="requestVideoFrameCallback"in e&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}]),n}(Bo),lh=function(e){br(n,e);var t=Er(n);function n(e,r,i){var a;return vr(this,n),(a=t.call(this,{width:e,height:r})).isFramebufferTexture=!0,a.format=i,a.magFilter=Gi,a.minFilter=Gi,a.generateMipmaps=!1,a.needsUpdate=!0,a}return gr(n)}(Bo),uh=function(e){br(n,e);var t=Er(n);function n(e,r,i,a,A,o,s,l,u,c,f,d){var h;return vr(this,n),(h=t.call(this,null,o,s,l,u,c,a,A,f,d)).isCompressedTexture=!0,h.image={width:r,height:i},h.mipmaps=e,h.flipY=!1,h.generateMipmaps=!1,h}return gr(n)}(Bo),ch=function(e){br(n,e);var t=Er(n);function n(e,r,i,a,A,o){var s;return vr(this,n),(s=t.call(this,e,r,i,A,o)).isCompressedArrayTexture=!0,s.image.depth=a,s.wrapR=Fi,s}return gr(n)}(uh),fh=function(e){br(n,e);var t=Er(n);function n(e,r,i,a,A,o,s,l,u){var c;return vr(this,n),(c=t.call(this,e,r,i,a,A,o,s,l,u)).isCanvasTexture=!0,c.needsUpdate=!0,c}return gr(n)}(Bo),dh=function(){function e(){vr(this,e),this.type="Curve",this.arcLengthDivisions=200}return gr(e,[{key:"getPoint",value:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}},{key:"getPointAt",value:function(e,t){var n=this.getUtoTmapping(e);return this.getPoint(n,t)}},{key:"getPoints",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}},{key:"getSpacedPoints",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=[],n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}},{key:"getLength",value:function(){var e=this.getLengths();return e[e.length-1]}},{key:"getLengths",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.arcLengthDivisions;if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t,n=[],r=this.getPoint(0),i=0;n.push(0);for(var a=1;a<=e;a++)i+=(t=this.getPoint(a/e)).distanceTo(r),n.push(i),r=t;return this.cacheArcLengths=n,n}},{key:"updateArcLengths",value:function(){this.needsUpdate=!0,this.getLengths()}},{key:"getUtoTmapping",value:function(e,t){var n,r=this.getLengths(),i=0,a=r.length;n=t||e*r[a-1];for(var A,o=0,s=a-1;o<=s;)if((A=r[i=Math.floor(o+(s-o)/2)]-n)<0)o=i+1;else{if(!(A>0)){s=i;break}s=i-1}if(r[i=s]===n)return i/(a-1);var l=r[i];return(i+(n-l)/(r[i+1]-l))/(a-1)}},{key:"getTangent",value:function(e,t){var n=1e-4,r=e-n,i=e+n;r<0&&(r=0),i>1&&(i=1);var a=this.getPoint(r),A=this.getPoint(i),o=t||(a.isVector2?new so:new Fo);return o.copy(A).sub(a).normalize(),o}},{key:"getTangentAt",value:function(e,t){var n=this.getUtoTmapping(e);return this.getTangent(n,t)}},{key:"computeFrenetFrames",value:function(e,t){for(var n=new Fo,r=[],i=[],a=[],A=new Fo,o=new ps,s=0;s<=e;s++){var l=s/e;r[s]=this.getTangentAt(l,new Fo)}i[0]=new Fo,a[0]=new Fo;var u=Number.MAX_VALUE,c=Math.abs(r[0].x),f=Math.abs(r[0].y),d=Math.abs(r[0].z);c<=u&&(u=c,n.set(1,0,0)),f<=u&&(u=f,n.set(0,1,0)),d<=u&&n.set(0,0,1),A.crossVectors(r[0],n).normalize(),i[0].crossVectors(r[0],A),a[0].crossVectors(r[0],i[0]);for(var h=1;h<=e;h++){if(i[h]=i[h-1].clone(),a[h]=a[h-1].clone(),A.crossVectors(r[h-1],r[h]),A.length()>Number.EPSILON){A.normalize();var p=Math.acos($A(r[h-1].dot(r[h]),-1,1));i[h].applyMatrix4(o.makeRotationAxis(A,p))}a[h].crossVectors(r[h],i[h])}if(!0===t){var v=Math.acos($A(i[0].dot(i[e]),-1,1));v/=e,r[0].dot(A.crossVectors(i[0],i[e]))>0&&(v=-v);for(var m=1;m<=e;m++)i[m].applyMatrix4(o.makeRotationAxis(r[m],v*m)),a[m].crossVectors(r[m],i[m])}return{tangents:r,normals:i,binormals:a}}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}},{key:"toJSON",value:function(){var e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}},{key:"fromJSON",value:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}]),e}(),hh=function(e){br(n,e);var t=Er(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,A=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2*Math.PI,l=arguments.length>6&&void 0!==arguments[6]&&arguments[6],u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0;return vr(this,n),(e=t.call(this)).isEllipseCurve=!0,e.type="EllipseCurve",e.aX=r,e.aY=i,e.xRadius=a,e.yRadius=A,e.aStartAngle=o,e.aEndAngle=s,e.aClockwise=l,e.aRotation=u,e}return gr(n,[{key:"getPoint",value:function(e,t){for(var n=t||new so,r=2*Math.PI,i=this.aEndAngle-this.aStartAngle,a=Math.abs(i)<Number.EPSILON;i<0;)i+=r;for(;i>r;)i-=r;i<Number.EPSILON&&(i=a?0:r),!0!==this.aClockwise||a||(i===r?i=-r:i-=r);var A=this.aStartAngle+e*i,o=this.aX+this.xRadius*Math.cos(A),s=this.aY+this.yRadius*Math.sin(A);if(0!==this.aRotation){var l=Math.cos(this.aRotation),u=Math.sin(this.aRotation),c=o-this.aX,f=s-this.aY;o=c*l-f*u+this.aX,s=c*u+f*l+this.aY}return n.set(o,s)}},{key:"copy",value:function(e){return Br(xr(n.prototype),"copy",this).call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}},{key:"toJSON",value:function(){var e=Br(xr(n.prototype),"toJSON",this).call(this);return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}},{key:"fromJSON",value:function(e){return Br(xr(n.prototype),"fromJSON",this).call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}]),n}(dh),ph=function(e){br(n,e);var t=Er(n);function n(e,r,i,a,A,o){var s;return vr(this,n),(s=t.call(this,e,r,i,i,a,A,o)).isArcCurve=!0,s.type="ArcCurve",s}return gr(n)}(hh);function vh(){var e=0,t=0,n=0,r=0;function i(i,a,A,o){e=i,t=A,n=-3*i+3*a-2*A-o,r=2*i-2*a+A+o}return{initCatmullRom:function(e,t,n,r,a){i(t,n,a*(n-e),a*(r-t))},initNonuniformCatmullRom:function(e,t,n,r,a,A,o){var s=(t-e)/a-(n-e)/(a+A)+(n-t)/A,l=(n-t)/A-(r-t)/(A+o)+(r-n)/o;i(t,n,s*=A,l*=A)},calc:function(i){var a=i*i;return e+t*i+n*a+r*(a*i)}}}var mh=new Fo,gh=new vh,yh=new vh,bh=new vh,xh=function(e){br(n,e);var t=Er(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"centripetal",A=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;return vr(this,n),(e=t.call(this)).isCatmullRomCurve3=!0,e.type="CatmullRomCurve3",e.points=r,e.closed=i,e.curveType=a,e.tension=A,e}return gr(n,[{key:"getPoint",value:function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Fo,i=this.points,a=i.length,A=(a-(this.closed?0:1))*e,o=Math.floor(A),s=A-o;this.closed?o+=o>0?0:(Math.floor(Math.abs(o)/a)+1)*a:0===s&&o===a-1&&(o=a-2,s=1),this.closed||o>0?t=i[(o-1)%a]:(mh.subVectors(i[0],i[1]).add(i[0]),t=mh);var l=i[o%a],u=i[(o+1)%a];if(this.closed||o+2<a?n=i[(o+2)%a]:(mh.subVectors(i[a-1],i[a-2]).add(i[a-1]),n=mh),"centripetal"===this.curveType||"chordal"===this.curveType){var c="chordal"===this.curveType?.5:.25,f=Math.pow(t.distanceToSquared(l),c),d=Math.pow(l.distanceToSquared(u),c),h=Math.pow(u.distanceToSquared(n),c);d<1e-4&&(d=1),f<1e-4&&(f=d),h<1e-4&&(h=d),gh.initNonuniformCatmullRom(t.x,l.x,u.x,n.x,f,d,h),yh.initNonuniformCatmullRom(t.y,l.y,u.y,n.y,f,d,h),bh.initNonuniformCatmullRom(t.z,l.z,u.z,n.z,f,d,h)}else"catmullrom"===this.curveType&&(gh.initCatmullRom(t.x,l.x,u.x,n.x,this.tension),yh.initCatmullRom(t.y,l.y,u.y,n.y,this.tension),bh.initCatmullRom(t.z,l.z,u.z,n.z,this.tension));return r.set(gh.calc(s),yh.calc(s),bh.calc(s)),r}},{key:"copy",value:function(e){Br(xr(n.prototype),"copy",this).call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}},{key:"toJSON",value:function(){var e=Br(xr(n.prototype),"toJSON",this).call(this);e.points=[];for(var t=0,r=this.points.length;t<r;t++){var i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}},{key:"fromJSON",value:function(e){Br(xr(n.prototype),"fromJSON",this).call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var i=e.points[t];this.points.push((new Fo).fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}]),n}(dh);function _h(e,t,n,r,i){var a=.5*(r-t),A=.5*(i-n),o=e*e;return(2*n-2*r+a+A)*(e*o)+(-3*n+3*r-2*a-A)*o+a*e+n}function wh(e,t,n,r){return function(e,t){var n=1-e;return n*n*t}(e,t)+function(e,t){return 2*(1-e)*e*t}(e,n)+function(e,t){return e*e*t}(e,r)}function Eh(e,t,n,r,i){return function(e,t){var n=1-e;return n*n*n*t}(e,t)+function(e,t){var n=1-e;return 3*n*n*e*t}(e,n)+function(e,t){return 3*(1-e)*e*e*t}(e,r)+function(e,t){return e*e*e*t}(e,i)}var Mh=function(e){br(n,e);var t=Er(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new so,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new so,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new so,A=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new so;return vr(this,n),(e=t.call(this)).isCubicBezierCurve=!0,e.type="CubicBezierCurve",e.v0=r,e.v1=i,e.v2=a,e.v3=A,e}return gr(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new so,n=this.v0,r=this.v1,i=this.v2,a=this.v3;return t.set(Eh(e,n.x,r.x,i.x,a.x),Eh(e,n.y,r.y,i.y,a.y)),t}},{key:"copy",value:function(e){return Br(xr(n.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}},{key:"toJSON",value:function(){var e=Br(xr(n.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}},{key:"fromJSON",value:function(e){return Br(xr(n.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}]),n}(dh),Sh=function(e){br(n,e);var t=Er(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Fo,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Fo,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Fo,A=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Fo;return vr(this,n),(e=t.call(this)).isCubicBezierCurve3=!0,e.type="CubicBezierCurve3",e.v0=r,e.v1=i,e.v2=a,e.v3=A,e}return gr(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Fo,n=this.v0,r=this.v1,i=this.v2,a=this.v3;return t.set(Eh(e,n.x,r.x,i.x,a.x),Eh(e,n.y,r.y,i.y,a.y),Eh(e,n.z,r.z,i.z,a.z)),t}},{key:"copy",value:function(e){return Br(xr(n.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}},{key:"toJSON",value:function(){var e=Br(xr(n.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}},{key:"fromJSON",value:function(e){return Br(xr(n.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}]),n}(dh),Ch=function(e){br(n,e);var t=Er(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new so,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new so;return vr(this,n),(e=t.call(this)).isLineCurve=!0,e.type="LineCurve",e.v1=r,e.v2=i,e}return gr(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new so;return 1===e?t.copy(this.v2):(t.copy(this.v2).sub(this.v1),t.multiplyScalar(e).add(this.v1)),t}},{key:"getPointAt",value:function(e,t){return this.getPoint(e,t)}},{key:"getTangent",value:function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:new so).subVectors(this.v2,this.v1).normalize()}},{key:"getTangentAt",value:function(e,t){return this.getTangent(e,t)}},{key:"copy",value:function(e){return Br(xr(n.prototype),"copy",this).call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=Br(xr(n.prototype),"toJSON",this).call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return Br(xr(n.prototype),"fromJSON",this).call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),n}(dh),Th=function(e){br(n,e);var t=Er(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Fo,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Fo;return vr(this,n),(e=t.call(this)).isLineCurve3=!0,e.type="LineCurve3",e.v1=r,e.v2=i,e}return gr(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Fo;return 1===e?t.copy(this.v2):(t.copy(this.v2).sub(this.v1),t.multiplyScalar(e).add(this.v1)),t}},{key:"getPointAt",value:function(e,t){return this.getPoint(e,t)}},{key:"getTangent",value:function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Fo).subVectors(this.v2,this.v1).normalize()}},{key:"getTangentAt",value:function(e,t){return this.getTangent(e,t)}},{key:"copy",value:function(e){return Br(xr(n.prototype),"copy",this).call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=Br(xr(n.prototype),"toJSON",this).call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return Br(xr(n.prototype),"fromJSON",this).call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),n}(dh),kh=function(e){br(n,e);var t=Er(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new so,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new so,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new so;return vr(this,n),(e=t.call(this)).isQuadraticBezierCurve=!0,e.type="QuadraticBezierCurve",e.v0=r,e.v1=i,e.v2=a,e}return gr(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new so,n=this.v0,r=this.v1,i=this.v2;return t.set(wh(e,n.x,r.x,i.x),wh(e,n.y,r.y,i.y)),t}},{key:"copy",value:function(e){return Br(xr(n.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=Br(xr(n.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return Br(xr(n.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),n}(dh),Bh=function(e){br(n,e);var t=Er(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Fo,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Fo,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Fo;return vr(this,n),(e=t.call(this)).isQuadraticBezierCurve3=!0,e.type="QuadraticBezierCurve3",e.v0=r,e.v1=i,e.v2=a,e}return gr(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Fo,n=this.v0,r=this.v1,i=this.v2;return t.set(wh(e,n.x,r.x,i.x),wh(e,n.y,r.y,i.y),wh(e,n.z,r.z,i.z)),t}},{key:"copy",value:function(e){return Br(xr(n.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=Br(xr(n.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return Br(xr(n.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),n}(dh),Rh=function(e){br(n,e);var t=Er(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return vr(this,n),(e=t.call(this)).isSplineCurve=!0,e.type="SplineCurve",e.points=r,e}return gr(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new so,n=this.points,r=(n.length-1)*e,i=Math.floor(r),a=r-i,A=n[0===i?i:i-1],o=n[i],s=n[i>n.length-2?n.length-1:i+1],l=n[i>n.length-3?n.length-1:i+2];return t.set(_h(a,A.x,o.x,s.x,l.x),_h(a,A.y,o.y,s.y,l.y)),t}},{key:"copy",value:function(e){Br(xr(n.prototype),"copy",this).call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var i=e.points[t];this.points.push(i.clone())}return this}},{key:"toJSON",value:function(){var e=Br(xr(n.prototype),"toJSON",this).call(this);e.points=[];for(var t=0,r=this.points.length;t<r;t++){var i=this.points[t];e.points.push(i.toArray())}return e}},{key:"fromJSON",value:function(e){Br(xr(n.prototype),"fromJSON",this).call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var i=e.points[t];this.points.push((new so).fromArray(i))}return this}}]),n}(dh),Ph=Object.freeze({__proto__:null,ArcCurve:ph,CatmullRomCurve3:xh,CubicBezierCurve:Mh,CubicBezierCurve3:Sh,EllipseCurve:hh,LineCurve:Ch,LineCurve3:Th,QuadraticBezierCurve:kh,QuadraticBezierCurve3:Bh,SplineCurve:Rh}),Ih=function(e){br(n,e);var t=Er(n);function n(){var e;return vr(this,n),(e=t.call(this)).type="CurvePath",e.curves=[],e.autoClose=!1,e}return gr(n,[{key:"add",value:function(e){this.curves.push(e)}},{key:"closePath",value:function(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new Ch(t,e))}},{key:"getPoint",value:function(e,t){for(var n=e*this.getLength(),r=this.getCurveLengths(),i=0;i<r.length;){if(r[i]>=n){var a=r[i]-n,A=this.curves[i],o=A.getLength(),s=0===o?0:1-a/o;return A.getPointAt(s,t)}i++}return null}},{key:"getLength",value:function(){var e=this.getCurveLengths();return e[e.length-1]}},{key:"updateArcLengths",value:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}},{key:"getCurveLengths",value:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var e=[],t=0,n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e}},{key:"getSpacedPoints",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:40,t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}},{key:"getPoints",value:function(){for(var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12,n=[],r=0,i=this.curves;r<i.length;r++)for(var a=i[r],A=a.isEllipseCurve?2*t:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?t*a.points.length:t,o=a.getPoints(A),s=0;s<o.length;s++){var l=o[s];e&&e.equals(l)||(n.push(l),e=l)}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}},{key:"copy",value:function(e){Br(xr(n.prototype),"copy",this).call(this,e),this.curves=[];for(var t=0,r=e.curves.length;t<r;t++){var i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}},{key:"toJSON",value:function(){var e=Br(xr(n.prototype),"toJSON",this).call(this);e.autoClose=this.autoClose,e.curves=[];for(var t=0,r=this.curves.length;t<r;t++){var i=this.curves[t];e.curves.push(i.toJSON())}return e}},{key:"fromJSON",value:function(e){Br(xr(n.prototype),"fromJSON",this).call(this,e),this.autoClose=e.autoClose,this.curves=[];for(var t=0,r=e.curves.length;t<r;t++){var i=e.curves[t];this.curves.push((new Ph[i.type]).fromJSON(i))}return this}}]),n}(dh),Dh=function(e){br(n,e);var t=Er(n);function n(e){var r;return vr(this,n),(r=t.call(this)).type="Path",r.currentPoint=new so,e&&r.setFromPoints(e),r}return gr(n,[{key:"setFromPoints",value:function(e){this.moveTo(e[0].x,e[0].y);for(var t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}},{key:"moveTo",value:function(e,t){return this.currentPoint.set(e,t),this}},{key:"lineTo",value:function(e,t){var n=new Ch(this.currentPoint.clone(),new so(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}},{key:"quadraticCurveTo",value:function(e,t,n,r){var i=new kh(this.currentPoint.clone(),new so(e,t),new so(n,r));return this.curves.push(i),this.currentPoint.set(n,r),this}},{key:"bezierCurveTo",value:function(e,t,n,r,i,a){var A=new Mh(this.currentPoint.clone(),new so(e,t),new so(n,r),new so(i,a));return this.curves.push(A),this.currentPoint.set(i,a),this}},{key:"splineThru",value:function(e){var t=[this.currentPoint.clone()].concat(e),n=new Rh(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this}},{key:"arc",value:function(e,t,n,r,i,a){var A=this.currentPoint.x,o=this.currentPoint.y;return this.absarc(e+A,t+o,n,r,i,a),this}},{key:"absarc",value:function(e,t,n,r,i,a){return this.absellipse(e,t,n,n,r,i,a),this}},{key:"ellipse",value:function(e,t,n,r,i,a,A,o){var s=this.currentPoint.x,l=this.currentPoint.y;return this.absellipse(e+s,t+l,n,r,i,a,A,o),this}},{key:"absellipse",value:function(e,t,n,r,i,a,A,o){var s=new hh(e,t,n,r,i,a,A,o);if(this.curves.length>0){var l=s.getPoint(0);l.equals(this.currentPoint)||this.lineTo(l.x,l.y)}this.curves.push(s);var u=s.getPoint(1);return this.currentPoint.copy(u),this}},{key:"copy",value:function(e){return Br(xr(n.prototype),"copy",this).call(this,e),this.currentPoint.copy(e.currentPoint),this}},{key:"toJSON",value:function(){var e=Br(xr(n.prototype),"toJSON",this).call(this);return e.currentPoint=this.currentPoint.toArray(),e}},{key:"fromJSON",value:function(e){return Br(xr(n.prototype),"fromJSON",this).call(this,e),this.currentPoint.fromArray(e.currentPoint),this}}]),n}(Ih),Lh=function(e){br(n,e);var t=Er(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[new so(0,-.5),new so(.5,0),new so(0,.5)],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,A=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2*Math.PI;vr(this,n),(e=t.call(this)).type="LatheGeometry",e.parameters={points:r,segments:i,phiStart:a,phiLength:A},i=Math.floor(i),A=$A(A,0,2*Math.PI);for(var o=[],s=[],l=[],u=[],c=[],f=1/i,d=new Fo,h=new so,p=new Fo,v=new Fo,m=new Fo,g=0,y=0,b=0;b<=r.length-1;b++)switch(b){case 0:g=r[b+1].x-r[b].x,y=r[b+1].y-r[b].y,p.x=1*y,p.y=-g,p.z=0*y,m.copy(p),p.normalize(),u.push(p.x,p.y,p.z);break;case r.length-1:u.push(m.x,m.y,m.z);break;default:g=r[b+1].x-r[b].x,y=r[b+1].y-r[b].y,p.x=1*y,p.y=-g,p.z=0*y,v.copy(p),p.x+=m.x,p.y+=m.y,p.z+=m.z,p.normalize(),u.push(p.x,p.y,p.z),m.copy(v)}for(var x=0;x<=i;x++)for(var _=a+x*f*A,w=Math.sin(_),E=Math.cos(_),M=0;M<=r.length-1;M++){d.x=r[M].x*w,d.y=r[M].y,d.z=r[M].x*E,s.push(d.x,d.y,d.z),h.x=x/i,h.y=M/(r.length-1),l.push(h.x,h.y);var S=u[3*M+0]*w,C=u[3*M+1],T=u[3*M+0]*E;c.push(S,C,T)}for(var k=0;k<i;k++)for(var B=0;B<r.length-1;B++){var R=B+k*r.length,P=R,I=R+r.length,D=R+r.length+1,L=R+1;o.push(P,I,L),o.push(D,L,I)}return e.setIndex(o),e.setAttribute("position",new El(s,3)),e.setAttribute("uv",new El(l,2)),e.setAttribute("normal",new El(c,3)),e}return gr(n,[{key:"copy",value:function(e){return Br(xr(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}],[{key:"fromJSON",value:function(e){return new n(e.points,e.segments,e.phiStart,e.phiLength)}}]),n}(Il),Uh=function(e){br(n,e);var t=Er(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,A=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8;vr(this,n);var o=new Dh;return o.absarc(0,-i/2,r,1.5*Math.PI,0),o.absarc(0,i/2,r,0,.5*Math.PI),(e=t.call(this,o.getPoints(a),A)).type="CapsuleGeometry",e.parameters={radius:r,height:i,capSegments:a,radialSegments:A},e}return gr(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.length,e.capSegments,e.radialSegments)}}]),n}(Lh),Nh=function(e){br(n,e);var t=Er(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,A=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2*Math.PI;vr(this,n),(e=t.call(this)).type="CircleGeometry",e.parameters={radius:r,segments:i,thetaStart:a,thetaLength:A},i=Math.max(3,i);var o=[],s=[],l=[],u=[],c=new Fo,f=new so;s.push(0,0,0),l.push(0,0,1),u.push(.5,.5);for(var d=0,h=3;d<=i;d++,h+=3){var p=a+d/i*A;c.x=r*Math.cos(p),c.y=r*Math.sin(p),s.push(c.x,c.y,c.z),l.push(0,0,1),f.x=(s[h]/r+1)/2,f.y=(s[h+1]/r+1)/2,u.push(f.x,f.y)}for(var v=1;v<=i;v++)o.push(v,v+1,0);return e.setIndex(o),e.setAttribute("position",new El(s,3)),e.setAttribute("normal",new El(l,3)),e.setAttribute("uv",new El(u,2)),e}return gr(n,[{key:"copy",value:function(e){return Br(xr(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}],[{key:"fromJSON",value:function(e){return new n(e.radius,e.segments,e.thetaStart,e.thetaLength)}}]),n}(Il),Oh=function(e){br(n,e);var t=Er(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,A=arguments.length>3&&void 0!==arguments[3]?arguments[3]:32,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,s=arguments.length>5&&void 0!==arguments[5]&&arguments[5],l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:2*Math.PI;vr(this,n),(e=t.call(this)).type="CylinderGeometry",e.parameters={radiusTop:r,radiusBottom:i,height:a,radialSegments:A,heightSegments:o,openEnded:s,thetaStart:l,thetaLength:u};var c=wr(e);A=Math.floor(A),o=Math.floor(o);var f=[],d=[],h=[],p=[],v=0,m=[],g=a/2,y=0;function b(e){for(var t=v,n=new so,a=new Fo,o=0,s=!0===e?r:i,m=!0===e?1:-1,b=1;b<=A;b++)d.push(0,g*m,0),h.push(0,m,0),p.push(.5,.5),v++;for(var x=v,_=0;_<=A;_++){var w=_/A*u+l,E=Math.cos(w),M=Math.sin(w);a.x=s*M,a.y=g*m,a.z=s*E,d.push(a.x,a.y,a.z),h.push(0,m,0),n.x=.5*E+.5,n.y=.5*M*m+.5,p.push(n.x,n.y),v++}for(var S=0;S<A;S++){var C=t+S,T=x+S;!0===e?f.push(T,T+1,C):f.push(T+1,T,C),o+=3}c.addGroup(y,o,!0===e?1:2),y+=o}return function(){for(var e=new Fo,t=new Fo,n=0,s=(i-r)/a,b=0;b<=o;b++){for(var x=[],_=b/o,w=_*(i-r)+r,E=0;E<=A;E++){var M=E/A,S=M*u+l,C=Math.sin(S),T=Math.cos(S);t.x=w*C,t.y=-_*a+g,t.z=w*T,d.push(t.x,t.y,t.z),e.set(C,s,T).normalize(),h.push(e.x,e.y,e.z),p.push(M,1-_),x.push(v++)}m.push(x)}for(var k=0;k<A;k++)for(var B=0;B<o;B++){var R=m[B][k],P=m[B+1][k],I=m[B+1][k+1],D=m[B][k+1];f.push(R,P,D),f.push(P,I,D),n+=6}c.addGroup(y,n,0),y+=n}(),!1===s&&(r>0&&b(!0),i>0&&b(!1)),e.setIndex(f),e.setAttribute("position",new El(d,3)),e.setAttribute("normal",new El(h,3)),e.setAttribute("uv",new El(p,2)),e}return gr(n,[{key:"copy",value:function(e){return Br(xr(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}],[{key:"fromJSON",value:function(e){return new n(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}]),n}(Il),Fh=function(e){br(n,e);var t=Er(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:32,A=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:2*Math.PI;return vr(this,n),(e=t.call(this,0,r,i,a,A,o,s,l)).type="ConeGeometry",e.parameters={radius:r,height:i,radialSegments:a,heightSegments:A,openEnded:o,thetaStart:s,thetaLength:l},e}return gr(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}]),n}(Oh),zh=function(e){br(n,e);var t=Er(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,A=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;vr(this,n),(e=t.call(this)).type="PolyhedronGeometry",e.parameters={vertices:r,indices:i,radius:a,detail:A};var o=[],s=[];function l(e,t,n,r){for(var i=r+1,a=[],A=0;A<=i;A++){a[A]=[];for(var o=e.clone().lerp(n,A/i),s=t.clone().lerp(n,A/i),l=i-A,c=0;c<=l;c++)a[A][c]=0===c&&A===i?o:o.clone().lerp(s,c/l)}for(var f=0;f<i;f++)for(var d=0;d<2*(i-f)-1;d++){var h=Math.floor(d/2);d%2===0?(u(a[f][h+1]),u(a[f+1][h]),u(a[f][h])):(u(a[f][h+1]),u(a[f+1][h+1]),u(a[f+1][h]))}}function u(e){o.push(e.x,e.y,e.z)}function c(e,t){var n=3*e;t.x=r[n+0],t.y=r[n+1],t.z=r[n+2]}function f(e,t,n,r){r<0&&1===e.x&&(s[t]=e.x-1),0===n.x&&0===n.z&&(s[t]=r/2/Math.PI+.5)}function d(e){return Math.atan2(e.z,-e.x)}return function(e){for(var t=new Fo,n=new Fo,r=new Fo,a=0;a<i.length;a+=3)c(i[a+0],t),c(i[a+1],n),c(i[a+2],r),l(t,n,r,e)}(A),function(e){for(var t=new Fo,n=0;n<o.length;n+=3)t.x=o[n+0],t.y=o[n+1],t.z=o[n+2],t.normalize().multiplyScalar(e),o[n+0]=t.x,o[n+1]=t.y,o[n+2]=t.z}(a),function(){for(var e=new Fo,t=0;t<o.length;t+=3){e.x=o[t+0],e.y=o[t+1],e.z=o[t+2];var n=d(e)/2/Math.PI+.5,r=(i=e,Math.atan2(-i.y,Math.sqrt(i.x*i.x+i.z*i.z))/Math.PI+.5);s.push(n,1-r)}var i;(function(){for(var e=new Fo,t=new Fo,n=new Fo,r=new Fo,i=new so,a=new so,A=new so,l=0,u=0;l<o.length;l+=9,u+=6){e.set(o[l+0],o[l+1],o[l+2]),t.set(o[l+3],o[l+4],o[l+5]),n.set(o[l+6],o[l+7],o[l+8]),i.set(s[u+0],s[u+1]),a.set(s[u+2],s[u+3]),A.set(s[u+4],s[u+5]),r.copy(e).add(t).add(n).divideScalar(3);var c=d(r);f(i,u+0,e,c),f(a,u+2,t,c),f(A,u+4,n,c)}})(),function(){for(var e=0;e<s.length;e+=6){var t=s[e+0],n=s[e+2],r=s[e+4],i=Math.max(t,n,r),a=Math.min(t,n,r);i>.9&&a<.1&&(t<.2&&(s[e+0]+=1),n<.2&&(s[e+2]+=1),r<.2&&(s[e+4]+=1))}}()}(),e.setAttribute("position",new El(o,3)),e.setAttribute("normal",new El(o.slice(),3)),e.setAttribute("uv",new El(s,2)),0===A?e.computeVertexNormals():e.normalizeNormals(),e}return gr(n,[{key:"copy",value:function(e){return Br(xr(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}],[{key:"fromJSON",value:function(e){return new n(e.vertices,e.indices,e.radius,e.details)}}]),n}(Il),Gh=function(e){br(n,e);var t=Er(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;vr(this,n);var a=(1+Math.sqrt(5))/2,A=1/a,o=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-A,-a,0,-A,a,0,A,-a,0,A,a,-A,-a,0,-A,a,0,A,-a,0,A,a,0,-a,0,-A,a,0,-A,-a,0,A,a,0,A];return(e=t.call(this,o,[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],r,i)).type="DodecahedronGeometry",e.parameters={radius:r,detail:i},e}return gr(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.detail)}}]),n}(zh),Hh=new Fo,Vh=new Fo,Wh=new Fo,jh=new Zs,Qh=function(e){br(n,e);var t=Er(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(vr(this,n),(e=t.call(this)).type="EdgesGeometry",e.parameters={geometry:r,thresholdAngle:i},null!==r){for(var a=Math.pow(10,4),A=Math.cos(YA*i),o=r.getIndex(),s=r.getAttribute("position"),l=o?o.count:s.count,u=[0,0,0],c=["a","b","c"],f=new Array(3),d={},h=[],p=0;p<l;p+=3){o?(u[0]=o.getX(p),u[1]=o.getX(p+1),u[2]=o.getX(p+2)):(u[0]=p,u[1]=p+1,u[2]=p+2);var v=jh.a,m=jh.b,g=jh.c;if(v.fromBufferAttribute(s,u[0]),m.fromBufferAttribute(s,u[1]),g.fromBufferAttribute(s,u[2]),jh.getNormal(Wh),f[0]="".concat(Math.round(v.x*a),",").concat(Math.round(v.y*a),",").concat(Math.round(v.z*a)),f[1]="".concat(Math.round(m.x*a),",").concat(Math.round(m.y*a),",").concat(Math.round(m.z*a)),f[2]="".concat(Math.round(g.x*a),",").concat(Math.round(g.y*a),",").concat(Math.round(g.z*a)),f[0]!==f[1]&&f[1]!==f[2]&&f[2]!==f[0])for(var y=0;y<3;y++){var b=(y+1)%3,x=f[y],_=f[b],w=jh[c[y]],E=jh[c[b]],M="".concat(x,"_").concat(_),S="".concat(_,"_").concat(x);S in d&&d[S]?(Wh.dot(d[S].normal)<=A&&(h.push(w.x,w.y,w.z),h.push(E.x,E.y,E.z)),d[S]=null):M in d||(d[M]={index0:u[y],index1:u[b],normal:Wh.clone()})}}for(var C in d)if(d[C]){var T=d[C],k=T.index0,B=T.index1;Hh.fromBufferAttribute(s,k),Vh.fromBufferAttribute(s,B),h.push(Hh.x,Hh.y,Hh.z),h.push(Vh.x,Vh.y,Vh.z)}e.setAttribute("position",new El(h,3))}return e}return gr(n,[{key:"copy",value:function(e){return Br(xr(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}]),n}(Il),Xh=function(e){br(n,e);var t=Er(n);function n(e){var r;return vr(this,n),(r=t.call(this,e)).uuid=ZA(),r.type="Shape",r.holes=[],r}return gr(n,[{key:"getPointsHoles",value:function(e){for(var t=[],n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t}},{key:"extractPoints",value:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}},{key:"copy",value:function(e){Br(xr(n.prototype),"copy",this).call(this,e),this.holes=[];for(var t=0,r=e.holes.length;t<r;t++){var i=e.holes[t];this.holes.push(i.clone())}return this}},{key:"toJSON",value:function(){var e=Br(xr(n.prototype),"toJSON",this).call(this);e.uuid=this.uuid,e.holes=[];for(var t=0,r=this.holes.length;t<r;t++){var i=this.holes[t];e.holes.push(i.toJSON())}return e}},{key:"fromJSON",value:function(e){Br(xr(n.prototype),"fromJSON",this).call(this,e),this.uuid=e.uuid,this.holes=[];for(var t=0,r=e.holes.length;t<r;t++){var i=e.holes[t];this.holes.push((new Dh).fromJSON(i))}return this}}]),n}(Dh),Jh=function(e,t){var n,r,i,a,A,o,s,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,u=t&&t.length,c=u?t[0]*l:e.length,f=Kh(e,0,c,l,!0),d=[];if(!f||f.next===f.prev)return d;if(u&&(f=function(e,t,n,r){var i,a,A,o=[];for(i=0,a=t.length;i<a;i++)(A=Kh(e,t[i]*r,i<a-1?t[i+1]*r:e.length,r,!1))===A.next&&(A.steiner=!0),o.push(Ap(A));for(o.sort(np),i=0;i<o.length;i++)n=rp(o[i],n);return n}(e,t,f,l)),e.length>80*l){n=i=e[0],r=a=e[1];for(var h=l;h<c;h+=l)(A=e[h])<n&&(n=A),(o=e[h+1])<r&&(r=o),A>i&&(i=A),o>a&&(a=o);s=0!==(s=Math.max(i-n,a-r))?32767/s:0}return qh(f,d,l,n,r,s,0),d};function Kh(e,t,n,r,i){var a,A;if(i===function(e,t,n,r){for(var i=0,a=t,A=n-r;a<n;a+=r)i+=(e[A]-e[a])*(e[a+1]+e[A+1]),A=a;return i}(e,t,n,r)>0)for(a=t;a<n;a+=r)A=vp(a,e[a],e[a+1],A);else for(a=n-r;a>=t;a-=r)A=vp(a,e[a],e[a+1],A);return A&&up(A,A.next)&&(mp(A),A=A.next),A}function Yh(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!up(r,r.next)&&0!==lp(r.prev,r,r.next))r=r.next;else{if(mp(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function qh(e,t,n,r,i,a,A){if(e){!A&&a&&function(e,t,n,r){var i=e;do{0===i.z&&(i.z=ap(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,n,r,i,a,A,o,s,l=1;do{for(n=e,e=null,a=null,A=0;n;){for(A++,r=n,o=0,t=0;t<l&&(o++,r=r.nextZ);t++);for(s=l;o>0||s>0&&r;)0!==o&&(0===s||!r||n.z<=r.z)?(i=n,n=n.nextZ,o--):(i=r,r=r.nextZ,s--),a?a.nextZ=i:e=i,i.prevZ=a,a=i;n=r}a.nextZ=null,l*=2}while(A>1)}(i)}(e,r,i,a);for(var o,s,l=e;e.prev!==e.next;)if(o=e.prev,s=e.next,a?$h(e,r,i,a):Zh(e))t.push(o.i/n|0),t.push(e.i/n|0),t.push(s.i/n|0),mp(e),e=s.next,l=s.next;else if((e=s)===l){A?1===A?qh(e=ep(Yh(e),t,n),t,n,r,i,a,2):2===A&&tp(e,t,n,r,i,a):qh(Yh(e),t,n,r,i,a,1);break}}}function Zh(e){var t=e.prev,n=e,r=e.next;if(lp(t,n,r)>=0)return!1;for(var i=t.x,a=n.x,A=r.x,o=t.y,s=n.y,l=r.y,u=i<a?i<A?i:A:a<A?a:A,c=o<s?o<l?o:l:s<l?s:l,f=i>a?i>A?i:A:a>A?a:A,d=o>s?o>l?o:l:s>l?s:l,h=r.next;h!==t;){if(h.x>=u&&h.x<=f&&h.y>=c&&h.y<=d&&op(i,o,a,s,A,l,h.x,h.y)&&lp(h.prev,h,h.next)>=0)return!1;h=h.next}return!0}function $h(e,t,n,r){var i=e.prev,a=e,A=e.next;if(lp(i,a,A)>=0)return!1;for(var o=i.x,s=a.x,l=A.x,u=i.y,c=a.y,f=A.y,d=o<s?o<l?o:l:s<l?s:l,h=u<c?u<f?u:f:c<f?c:f,p=o>s?o>l?o:l:s>l?s:l,v=u>c?u>f?u:f:c>f?c:f,m=ap(d,h,t,n,r),g=ap(p,v,t,n,r),y=e.prevZ,b=e.nextZ;y&&y.z>=m&&b&&b.z<=g;){if(y.x>=d&&y.x<=p&&y.y>=h&&y.y<=v&&y!==i&&y!==A&&op(o,u,s,c,l,f,y.x,y.y)&&lp(y.prev,y,y.next)>=0)return!1;if(y=y.prevZ,b.x>=d&&b.x<=p&&b.y>=h&&b.y<=v&&b!==i&&b!==A&&op(o,u,s,c,l,f,b.x,b.y)&&lp(b.prev,b,b.next)>=0)return!1;b=b.nextZ}for(;y&&y.z>=m;){if(y.x>=d&&y.x<=p&&y.y>=h&&y.y<=v&&y!==i&&y!==A&&op(o,u,s,c,l,f,y.x,y.y)&&lp(y.prev,y,y.next)>=0)return!1;y=y.prevZ}for(;b&&b.z<=g;){if(b.x>=d&&b.x<=p&&b.y>=h&&b.y<=v&&b!==i&&b!==A&&op(o,u,s,c,l,f,b.x,b.y)&&lp(b.prev,b,b.next)>=0)return!1;b=b.nextZ}return!0}function ep(e,t,n){var r=e;do{var i=r.prev,a=r.next.next;!up(i,a)&&cp(i,r,r.next,a)&&hp(i,a)&&hp(a,i)&&(t.push(i.i/n|0),t.push(r.i/n|0),t.push(a.i/n|0),mp(r),mp(r.next),r=e=a),r=r.next}while(r!==e);return Yh(r)}function tp(e,t,n,r,i,a){var A=e;do{for(var o=A.next.next;o!==A.prev;){if(A.i!==o.i&&sp(A,o)){var s=pp(A,o);return A=Yh(A,A.next),s=Yh(s,s.next),qh(A,t,n,r,i,a,0),void qh(s,t,n,r,i,a,0)}o=o.next}A=A.next}while(A!==e)}function np(e,t){return e.x-t.x}function rp(e,t){var n=function(e,t){var n,r=t,i=-1/0,a=e.x,A=e.y;do{if(A<=r.y&&A>=r.next.y&&r.next.y!==r.y){var o=r.x+(A-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(o<=a&&o>i&&(i=o,n=r.x<r.next.x?r:r.next,o===a))return n}r=r.next}while(r!==t);if(!n)return null;var s,l=n,u=n.x,c=n.y,f=1/0;r=n;do{a>=r.x&&r.x>=u&&a!==r.x&&op(A<c?a:i,A,u,c,A<c?i:a,A,r.x,r.y)&&(s=Math.abs(A-r.y)/(a-r.x),hp(r,e)&&(s<f||s===f&&(r.x>n.x||r.x===n.x&&ip(n,r)))&&(n=r,f=s)),r=r.next}while(r!==l);return n}(e,t);if(!n)return t;var r=pp(n,e);return Yh(r,r.next),Yh(n,n.next)}function ip(e,t){return lp(e.prev,e,t.prev)<0&&lp(t.next,e,e.next)<0}function ap(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-n)*i|0)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-r)*i|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function Ap(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function op(e,t,n,r,i,a,A,o){return(i-A)*(t-o)>=(e-A)*(a-o)&&(e-A)*(r-o)>=(n-A)*(t-o)&&(n-A)*(a-o)>=(i-A)*(r-o)}function sp(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&cp(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(hp(e,t)&&hp(t,e)&&function(e,t){var n=e,r=!1,i=(e.x+t.x)/2,a=(e.y+t.y)/2;do{n.y>a!==n.next.y>a&&n.next.y!==n.y&&i<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)&&(lp(e.prev,e,t.prev)||lp(e,t.prev,t))||up(e,t)&&lp(e.prev,e,e.next)>0&&lp(t.prev,t,t.next)>0)}function lp(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function up(e,t){return e.x===t.x&&e.y===t.y}function cp(e,t,n,r){var i=dp(lp(e,t,n)),a=dp(lp(e,t,r)),A=dp(lp(n,r,e)),o=dp(lp(n,r,t));return i!==a&&A!==o||(!(0!==i||!fp(e,n,t))||(!(0!==a||!fp(e,r,t))||(!(0!==A||!fp(n,e,r))||!(0!==o||!fp(n,t,r)))))}function fp(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function dp(e){return e>0?1:e<0?-1:0}function hp(e,t){return lp(e.prev,e,e.next)<0?lp(e,t,e.next)>=0&&lp(e,e.prev,t)>=0:lp(e,t,e.prev)<0||lp(e,e.next,t)<0}function pp(e,t){var n=new gp(e.i,e.x,e.y),r=new gp(t.i,t.x,t.y),i=e.next,a=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,a.next=r,r.prev=a,r}function vp(e,t,n,r){var i=new gp(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function mp(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function gp(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}var yp=function(){function e(){vr(this,e)}return gr(e,null,[{key:"area",value:function(e){for(var t=e.length,n=0,r=t-1,i=0;i<t;r=i++)n+=e[r].x*e[i].y-e[i].x*e[r].y;return.5*n}},{key:"isClockWise",value:function(t){return e.area(t)<0}},{key:"triangulateShape",value:function(e,t){var n=[],r=[],i=[];bp(e),xp(n,e);var a=e.length;t.forEach(bp);for(var A=0;A<t.length;A++)r.push(a),a+=t[A].length,xp(n,t[A]);for(var o=Jh(n,r),s=0;s<o.length;s+=3)i.push(o.slice(s,s+3));return i}}]),e}();function bp(e){var t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function xp(e,t){for(var n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}var _p=function(e){br(n,e);var t=Er(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Xh([new so(.5,.5),new so(-.5,.5),new so(-.5,-.5),new so(.5,-.5)]),i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};vr(this,n),(e=t.call(this)).type="ExtrudeGeometry",e.parameters={shapes:r,options:i},r=Array.isArray(r)?r:[r];for(var a=wr(e),A=[],o=[],s=0,l=r.length;s<l;s++){u(r[s])}function u(e){var t,n,r,s,l,u=[],c=void 0!==i.curveSegments?i.curveSegments:12,f=void 0!==i.steps?i.steps:1,d=void 0!==i.depth?i.depth:1,h=void 0===i.bevelEnabled||i.bevelEnabled,p=void 0!==i.bevelThickness?i.bevelThickness:.2,v=void 0!==i.bevelSize?i.bevelSize:p-.1,m=void 0!==i.bevelOffset?i.bevelOffset:0,g=void 0!==i.bevelSegments?i.bevelSegments:3,y=i.extrudePath,b=void 0!==i.UVGenerator?i.UVGenerator:wp,x=!1;y&&(t=y.getSpacedPoints(f),x=!0,h=!1,n=y.computeFrenetFrames(f,!1),r=new Fo,s=new Fo,l=new Fo),h||(g=0,p=0,v=0,m=0);var _=e.extractPoints(c),w=_.shape,E=_.holes;if(!yp.isClockWise(w)){w=w.reverse();for(var M=0,S=E.length;M<S;M++){var C=E[M];yp.isClockWise(C)&&(E[M]=C.reverse())}}for(var T=yp.triangulateShape(w,E),k=w,B=0,R=E.length;B<R;B++){var P=E[B];w=w.concat(P)}function I(e,t,n){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),e.clone().addScaledVector(t,n)}var D=w.length,L=T.length;function U(e,t,n){var r,i,a,A=e.x-t.x,o=e.y-t.y,s=n.x-e.x,l=n.y-e.y,u=A*A+o*o,c=A*l-o*s;if(Math.abs(c)>Number.EPSILON){var f=Math.sqrt(u),d=Math.sqrt(s*s+l*l),h=t.x-o/f,p=t.y+A/f,v=((n.x-l/d-h)*l-(n.y+s/d-p)*s)/(A*l-o*s),m=(r=h+A*v-e.x)*r+(i=p+o*v-e.y)*i;if(m<=2)return new so(r,i);a=Math.sqrt(m/2)}else{var g=!1;A>Number.EPSILON?s>Number.EPSILON&&(g=!0):A<-Number.EPSILON?s<-Number.EPSILON&&(g=!0):Math.sign(o)===Math.sign(l)&&(g=!0),g?(r=-o,i=A,a=Math.sqrt(u)):(r=A,i=o,a=Math.sqrt(u/2))}return new so(r/a,i/a)}for(var N=[],O=0,F=k.length,z=F-1,G=O+1;O<F;O++,z++,G++)z===F&&(z=0),G===F&&(G=0),N[O]=U(k[O],k[z],k[G]);for(var H,V=[],W=N.concat(),j=0,Q=E.length;j<Q;j++){var X=E[j];H=[];for(var J=0,K=X.length,Y=K-1,q=J+1;J<K;J++,Y++,q++)Y===K&&(Y=0),q===K&&(q=0),H[J]=U(X[J],X[Y],X[q]);V.push(H),W=W.concat(H)}for(var Z=0;Z<g;Z++){for(var $=Z/g,ee=p*Math.cos($*Math.PI/2),te=v*Math.sin($*Math.PI/2)+m,ne=0,re=k.length;ne<re;ne++){var ie=I(k[ne],N[ne],te);Re(ie.x,ie.y,-ee)}for(var ae=0,Ae=E.length;ae<Ae;ae++){var oe=E[ae];H=V[ae];for(var se=0,le=oe.length;se<le;se++){var ue=I(oe[se],H[se],te);Re(ue.x,ue.y,-ee)}}}for(var ce=v+m,fe=0;fe<D;fe++){var de=h?I(w[fe],W[fe],ce):w[fe];x?(s.copy(n.normals[0]).multiplyScalar(de.x),r.copy(n.binormals[0]).multiplyScalar(de.y),l.copy(t[0]).add(s).add(r),Re(l.x,l.y,l.z)):Re(de.x,de.y,0)}for(var he=1;he<=f;he++)for(var pe=0;pe<D;pe++){var ve=h?I(w[pe],W[pe],ce):w[pe];x?(s.copy(n.normals[he]).multiplyScalar(ve.x),r.copy(n.binormals[he]).multiplyScalar(ve.y),l.copy(t[he]).add(s).add(r),Re(l.x,l.y,l.z)):Re(ve.x,ve.y,d/f*he)}for(var me=g-1;me>=0;me--){for(var ge=me/g,ye=p*Math.cos(ge*Math.PI/2),be=v*Math.sin(ge*Math.PI/2)+m,xe=0,_e=k.length;xe<_e;xe++){var we=I(k[xe],N[xe],be);Re(we.x,we.y,d+ye)}for(var Ee=0,Me=E.length;Ee<Me;Ee++){var Se=E[Ee];H=V[Ee];for(var Ce=0,Te=Se.length;Ce<Te;Ce++){var ke=I(Se[Ce],H[Ce],be);x?Re(ke.x,ke.y+t[f-1].y,t[f-1].x+ye):Re(ke.x,ke.y,d+ye)}}}function Be(e,t){for(var n=e.length;--n>=0;){var r=n,i=n-1;i<0&&(i=e.length-1);for(var a=0,A=f+2*g;a<A;a++){var o=D*a,s=D*(a+1);Ie(t+r+o,t+i+o,t+i+s,t+r+s)}}}function Re(e,t,n){u.push(e),u.push(t),u.push(n)}function Pe(e,t,n){De(e),De(t),De(n);var r=A.length/3,i=b.generateTopUV(a,A,r-3,r-2,r-1);Le(i[0]),Le(i[1]),Le(i[2])}function Ie(e,t,n,r){De(e),De(t),De(r),De(t),De(n),De(r);var i=A.length/3,o=b.generateSideWallUV(a,A,i-6,i-3,i-2,i-1);Le(o[0]),Le(o[1]),Le(o[3]),Le(o[1]),Le(o[2]),Le(o[3])}function De(e){A.push(u[3*e+0]),A.push(u[3*e+1]),A.push(u[3*e+2])}function Le(e){o.push(e.x),o.push(e.y)}!function(){var e=A.length/3;if(h){for(var t=0,n=D*t,r=0;r<L;r++){var i=T[r];Pe(i[2]+n,i[1]+n,i[0]+n)}n=D*(t=f+2*g);for(var o=0;o<L;o++){var s=T[o];Pe(s[0]+n,s[1]+n,s[2]+n)}}else{for(var l=0;l<L;l++){var u=T[l];Pe(u[2],u[1],u[0])}for(var c=0;c<L;c++){var d=T[c];Pe(d[0]+D*f,d[1]+D*f,d[2]+D*f)}}a.addGroup(e,A.length/3-e,0)}(),function(){var e=A.length/3,t=0;Be(k,t),t+=k.length;for(var n=0,r=E.length;n<r;n++){var i=E[n];Be(i,t),t+=i.length}a.addGroup(e,A.length/3-e,1)}()}return e.setAttribute("position",new El(A,3)),e.setAttribute("uv",new El(o,2)),e.computeVertexNormals(),e}return gr(n,[{key:"copy",value:function(e){return Br(xr(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}},{key:"toJSON",value:function(){var e=Br(xr(n.prototype),"toJSON",this).call(this);return function(e,t,n){if(n.shapes=[],Array.isArray(e))for(var r=0,i=e.length;r<i;r++){var a=e[r];n.shapes.push(a.uuid)}else n.shapes.push(e.uuid);n.options=Object.assign({},t),void 0!==t.extrudePath&&(n.options.extrudePath=t.extrudePath.toJSON());return n}(this.parameters.shapes,this.parameters.options,e)}}],[{key:"fromJSON",value:function(e,t){for(var r=[],i=0,a=e.shapes.length;i<a;i++){var A=t[e.shapes[i]];r.push(A)}var o=e.options.extrudePath;return void 0!==o&&(e.options.extrudePath=(new Ph[o.type]).fromJSON(o)),new n(r,e.options)}}]),n}(Il),wp={generateTopUV:function(e,t,n,r,i){var a=t[3*n],A=t[3*n+1],o=t[3*r],s=t[3*r+1],l=t[3*i],u=t[3*i+1];return[new so(a,A),new so(o,s),new so(l,u)]},generateSideWallUV:function(e,t,n,r,i,a){var A=t[3*n],o=t[3*n+1],s=t[3*n+2],l=t[3*r],u=t[3*r+1],c=t[3*r+2],f=t[3*i],d=t[3*i+1],h=t[3*i+2],p=t[3*a],v=t[3*a+1],m=t[3*a+2];return Math.abs(o-u)<Math.abs(A-l)?[new so(A,1-s),new so(l,1-c),new so(f,1-h),new so(p,1-m)]:[new so(o,1-s),new so(u,1-c),new so(d,1-h),new so(v,1-m)]}};var Ep=function(e){br(n,e);var t=Er(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;vr(this,n);var a=(1+Math.sqrt(5))/2,A=[-1,a,0,1,a,0,-1,-a,0,1,-a,0,0,-1,a,0,1,a,0,-1,-a,0,1,-a,a,0,-1,a,0,1,-a,0,-1,-a,0,1];return(e=t.call(this,A,[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],r,i)).type="IcosahedronGeometry",e.parameters={radius:r,detail:i},e}return gr(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.detail)}}]),n}(zh),Mp=function(e){br(n,e);var t=Er(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;vr(this,n);return(e=t.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],r,i)).type="OctahedronGeometry",e.parameters={radius:r,detail:i},e}return gr(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.detail)}}]),n}(zh),Sp=function(e){br(n,e);var t=Er(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:32,A=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2*Math.PI;vr(this,n),(e=t.call(this)).type="RingGeometry",e.parameters={innerRadius:r,outerRadius:i,thetaSegments:a,phiSegments:A,thetaStart:o,thetaLength:s},a=Math.max(3,a);for(var l=[],u=[],c=[],f=[],d=r,h=(i-r)/(A=Math.max(1,A)),p=new Fo,v=new so,m=0;m<=A;m++){for(var g=0;g<=a;g++){var y=o+g/a*s;p.x=d*Math.cos(y),p.y=d*Math.sin(y),u.push(p.x,p.y,p.z),c.push(0,0,1),v.x=(p.x/i+1)/2,v.y=(p.y/i+1)/2,f.push(v.x,v.y)}d+=h}for(var b=0;b<A;b++)for(var x=b*(a+1),_=0;_<a;_++){var w=_+x,E=w,M=w+a+1,S=w+a+2,C=w+1;l.push(E,M,C),l.push(M,S,C)}return e.setIndex(l),e.setAttribute("position",new El(u,3)),e.setAttribute("normal",new El(c,3)),e.setAttribute("uv",new El(f,2)),e}return gr(n,[{key:"copy",value:function(e){return Br(xr(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}],[{key:"fromJSON",value:function(e){return new n(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}]),n}(Il),Cp=function(e){br(n,e);var t=Er(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Xh([new so(0,.5),new so(-.5,-.5),new so(.5,-.5)]),i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12;vr(this,n),(e=t.call(this)).type="ShapeGeometry",e.parameters={shapes:r,curveSegments:i};var a=[],A=[],o=[],s=[],l=0,u=0;if(!1===Array.isArray(r))f(r);else for(var c=0;c<r.length;c++)f(r[c]),e.addGroup(l,u,c),l+=u,u=0;function f(e){var t=A.length/3,n=e.extractPoints(i),r=n.shape,l=n.holes;!1===yp.isClockWise(r)&&(r=r.reverse());for(var c=0,f=l.length;c<f;c++){var d=l[c];!0===yp.isClockWise(d)&&(l[c]=d.reverse())}for(var h=yp.triangulateShape(r,l),p=0,v=l.length;p<v;p++){var m=l[p];r=r.concat(m)}for(var g=0,y=r.length;g<y;g++){var b=r[g];A.push(b.x,b.y,0),o.push(0,0,1),s.push(b.x,b.y)}for(var x=0,_=h.length;x<_;x++){var w=h[x],E=w[0]+t,M=w[1]+t,S=w[2]+t;a.push(E,M,S),u+=3}}return e.setIndex(a),e.setAttribute("position",new El(A,3)),e.setAttribute("normal",new El(o,3)),e.setAttribute("uv",new El(s,2)),e}return gr(n,[{key:"copy",value:function(e){return Br(xr(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}},{key:"toJSON",value:function(){var e=Br(xr(n.prototype),"toJSON",this).call(this);return function(e,t){if(t.shapes=[],Array.isArray(e))for(var n=0,r=e.length;n<r;n++){var i=e[n];t.shapes.push(i.uuid)}else t.shapes.push(e.uuid);return t}(this.parameters.shapes,e)}}],[{key:"fromJSON",value:function(e,t){for(var r=[],i=0,a=e.shapes.length;i<a;i++){var A=t[e.shapes[i]];r.push(A)}return new n(r,e.curveSegments)}}]),n}(Il);var Tp=function(e){br(n,e);var t=Er(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16,A=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2*Math.PI,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Math.PI;vr(this,n),(e=t.call(this)).type="SphereGeometry",e.parameters={radius:r,widthSegments:i,heightSegments:a,phiStart:A,phiLength:o,thetaStart:s,thetaLength:l},i=Math.max(3,Math.floor(i)),a=Math.max(2,Math.floor(a));for(var u=Math.min(s+l,Math.PI),c=0,f=[],d=new Fo,h=new Fo,p=[],v=[],m=[],g=[],y=0;y<=a;y++){var b=[],x=y/a,_=0;0===y&&0===s?_=.5/i:y===a&&u===Math.PI&&(_=-.5/i);for(var w=0;w<=i;w++){var E=w/i;d.x=-r*Math.cos(A+E*o)*Math.sin(s+x*l),d.y=r*Math.cos(s+x*l),d.z=r*Math.sin(A+E*o)*Math.sin(s+x*l),v.push(d.x,d.y,d.z),h.copy(d).normalize(),m.push(h.x,h.y,h.z),g.push(E+_,1-x),b.push(c++)}f.push(b)}for(var M=0;M<a;M++)for(var S=0;S<i;S++){var C=f[M][S+1],T=f[M][S],k=f[M+1][S],B=f[M+1][S+1];(0!==M||s>0)&&p.push(C,T,B),(M!==a-1||u<Math.PI)&&p.push(T,k,B)}return e.setIndex(p),e.setAttribute("position",new El(v,3)),e.setAttribute("normal",new El(m,3)),e.setAttribute("uv",new El(g,2)),e}return gr(n,[{key:"copy",value:function(e){return Br(xr(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}],[{key:"fromJSON",value:function(e){return new n(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}]),n}(Il),kp=function(e){br(n,e);var t=Er(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;vr(this,n);return(e=t.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],r,i)).type="TetrahedronGeometry",e.parameters={radius:r,detail:i},e}return gr(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.detail)}}]),n}(zh),Bp=function(e){br(n,e);var t=Er(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.4,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:12,A=arguments.length>3&&void 0!==arguments[3]?arguments[3]:48,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2*Math.PI;vr(this,n),(e=t.call(this)).type="TorusGeometry",e.parameters={radius:r,tube:i,radialSegments:a,tubularSegments:A,arc:o},a=Math.floor(a),A=Math.floor(A);for(var s=[],l=[],u=[],c=[],f=new Fo,d=new Fo,h=new Fo,p=0;p<=a;p++)for(var v=0;v<=A;v++){var m=v/A*o,g=p/a*Math.PI*2;d.x=(r+i*Math.cos(g))*Math.cos(m),d.y=(r+i*Math.cos(g))*Math.sin(m),d.z=i*Math.sin(g),l.push(d.x,d.y,d.z),f.x=r*Math.cos(m),f.y=r*Math.sin(m),h.subVectors(d,f).normalize(),u.push(h.x,h.y,h.z),c.push(v/A),c.push(p/a)}for(var y=1;y<=a;y++)for(var b=1;b<=A;b++){var x=(A+1)*y+b-1,_=(A+1)*(y-1)+b-1,w=(A+1)*(y-1)+b,E=(A+1)*y+b;s.push(x,_,E),s.push(_,w,E)}return e.setIndex(s),e.setAttribute("position",new El(l,3)),e.setAttribute("normal",new El(u,3)),e.setAttribute("uv",new El(c,2)),e}return gr(n,[{key:"copy",value:function(e){return Br(xr(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}],[{key:"fromJSON",value:function(e){return new n(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}]),n}(Il),Rp=function(e){br(n,e);var t=Er(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.4,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:64,A=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:3;vr(this,n),(e=t.call(this)).type="TorusKnotGeometry",e.parameters={radius:r,tube:i,tubularSegments:a,radialSegments:A,p:o,q:s},a=Math.floor(a),A=Math.floor(A);for(var l=[],u=[],c=[],f=[],d=new Fo,h=new Fo,p=new Fo,v=new Fo,m=new Fo,g=new Fo,y=new Fo,b=0;b<=a;++b){var x=b/a*o*Math.PI*2;P(x,o,s,r,p),P(x+.01,o,s,r,v),g.subVectors(v,p),y.addVectors(v,p),m.crossVectors(g,y),y.crossVectors(m,g),m.normalize(),y.normalize();for(var _=0;_<=A;++_){var w=_/A*Math.PI*2,E=-i*Math.cos(w),M=i*Math.sin(w);d.x=p.x+(E*y.x+M*m.x),d.y=p.y+(E*y.y+M*m.y),d.z=p.z+(E*y.z+M*m.z),u.push(d.x,d.y,d.z),h.subVectors(d,p).normalize(),c.push(h.x,h.y,h.z),f.push(b/a),f.push(_/A)}}for(var S=1;S<=a;S++)for(var C=1;C<=A;C++){var T=(A+1)*(S-1)+(C-1),k=(A+1)*S+(C-1),B=(A+1)*S+C,R=(A+1)*(S-1)+C;l.push(T,k,R),l.push(k,B,R)}function P(e,t,n,r,i){var a=Math.cos(e),A=Math.sin(e),o=n/t*e,s=Math.cos(o);i.x=r*(2+s)*.5*a,i.y=r*(2+s)*A*.5,i.z=r*Math.sin(o)*.5}return e.setIndex(l),e.setAttribute("position",new El(u,3)),e.setAttribute("normal",new El(c,3)),e.setAttribute("uv",new El(f,2)),e}return gr(n,[{key:"copy",value:function(e){return Br(xr(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}],[{key:"fromJSON",value:function(e){return new n(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}]),n}(Il),Pp=function(e){br(n,e);var t=Er(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Bh(new Fo(-1,-1,0),new Fo(-1,1,0),new Fo(1,1,0)),i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:64,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,A=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];vr(this,n),(e=t.call(this)).type="TubeGeometry",e.parameters={path:r,tubularSegments:i,radius:a,radialSegments:A,closed:o};var s=r.computeFrenetFrames(i,o);e.tangents=s.tangents,e.normals=s.normals,e.binormals=s.binormals;var l=new Fo,u=new Fo,c=new so,f=new Fo,d=[],h=[],p=[],v=[];function m(e){f=r.getPointAt(e/i,f);for(var t=s.normals[e],n=s.binormals[e],o=0;o<=A;o++){var c=o/A*Math.PI*2,p=Math.sin(c),v=-Math.cos(c);u.x=v*t.x+p*n.x,u.y=v*t.y+p*n.y,u.z=v*t.z+p*n.z,u.normalize(),h.push(u.x,u.y,u.z),l.x=f.x+a*u.x,l.y=f.y+a*u.y,l.z=f.z+a*u.z,d.push(l.x,l.y,l.z)}}return function(){for(var e=0;e<i;e++)m(e);m(!1===o?i:0),function(){for(var e=0;e<=i;e++)for(var t=0;t<=A;t++)c.x=e/i,c.y=t/A,p.push(c.x,c.y)}(),function(){for(var e=1;e<=i;e++)for(var t=1;t<=A;t++){var n=(A+1)*(e-1)+(t-1),r=(A+1)*e+(t-1),a=(A+1)*e+t,o=(A+1)*(e-1)+t;v.push(n,r,o),v.push(r,a,o)}}()}(),e.setIndex(v),e.setAttribute("position",new El(d,3)),e.setAttribute("normal",new El(h,3)),e.setAttribute("uv",new El(p,2)),e}return gr(n,[{key:"copy",value:function(e){return Br(xr(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}},{key:"toJSON",value:function(){var e=Br(xr(n.prototype),"toJSON",this).call(this);return e.path=this.parameters.path.toJSON(),e}}],[{key:"fromJSON",value:function(e){return new n((new Ph[e.path.type]).fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}]),n}(Il),Ip=function(e){br(n,e);var t=Er(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(vr(this,n),(e=t.call(this)).type="WireframeGeometry",e.parameters={geometry:r},null!==r){var i=[],a=new Set,A=new Fo,o=new Fo;if(null!==r.index){var s=r.attributes.position,l=r.index,u=r.groups;0===u.length&&(u=[{start:0,count:l.count,materialIndex:0}]);for(var c=0,f=u.length;c<f;++c)for(var d=u[c],h=d.start,p=h,v=h+d.count;p<v;p+=3)for(var m=0;m<3;m++){var g=l.getX(p+m),y=l.getX(p+(m+1)%3);A.fromBufferAttribute(s,g),o.fromBufferAttribute(s,y),!0===Dp(A,o,a)&&(i.push(A.x,A.y,A.z),i.push(o.x,o.y,o.z))}}else for(var b=r.attributes.position,x=0,_=b.count/3;x<_;x++)for(var w=0;w<3;w++){var E=3*x+w,M=3*x+(w+1)%3;A.fromBufferAttribute(b,E),o.fromBufferAttribute(b,M),!0===Dp(A,o,a)&&(i.push(A.x,A.y,A.z),i.push(o.x,o.y,o.z))}e.setAttribute("position",new El(i,3))}return e}return gr(n,[{key:"copy",value:function(e){return Br(xr(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}]),n}(Il);function Dp(e,t,n){var r="".concat(e.x,",").concat(e.y,",").concat(e.z,"-").concat(t.x,",").concat(t.y,",").concat(t.z),i="".concat(t.x,",").concat(t.y,",").concat(t.z,"-").concat(e.x,",").concat(e.y,",").concat(e.z);return!0!==n.has(r)&&!0!==n.has(i)&&(n.add(r),n.add(i),!0)}var Lp=Object.freeze({__proto__:null,BoxGeometry:$l,CapsuleGeometry:Uh,CircleGeometry:Nh,ConeGeometry:Fh,CylinderGeometry:Oh,DodecahedronGeometry:Gh,EdgesGeometry:Qh,ExtrudeGeometry:_p,IcosahedronGeometry:Ep,LatheGeometry:Lh,OctahedronGeometry:Mp,PlaneGeometry:bu,PolyhedronGeometry:zh,RingGeometry:Sp,ShapeGeometry:Cp,SphereGeometry:Tp,TetrahedronGeometry:kp,TorusGeometry:Bp,TorusKnotGeometry:Rp,TubeGeometry:Pp,WireframeGeometry:Ip}),Up=function(e){br(n,e);var t=Er(n);function n(e){var r;return vr(this,n),(r=t.call(this)).isShadowMaterial=!0,r.type="ShadowMaterial",r.color=new al(0),r.transparent=!0,r.fog=!0,r.setValues(e),r}return gr(n,[{key:"copy",value:function(e){return Br(xr(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.fog=e.fog,this}}]),n}(el),Np=function(e){br(n,e);var t=Er(n);function n(e){var r;return vr(this,n),(r=t.call(this,e)).isRawShaderMaterial=!0,r.type="RawShaderMaterial",r}return gr(n)}(iu),Op=function(e){br(n,e);var t=Er(n);function n(e){var r;return vr(this,n),(r=t.call(this)).isMeshStandardMaterial=!0,r.defines={STANDARD:""},r.type="MeshStandardMaterial",r.color=new al(16777215),r.roughness=1,r.metalness=0,r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.emissive=new al(0),r.emissiveIntensity=1,r.emissiveMap=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=dA,r.normalScale=new so(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.roughnessMap=null,r.metalnessMap=null,r.alphaMap=null,r.envMap=null,r.envMapIntensity=1,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.flatShading=!1,r.fog=!0,r.setValues(e),r}return gr(n,[{key:"copy",value:function(e){return Br(xr(n.prototype),"copy",this).call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}]),n}(el),Fp=function(e){br(n,e);var t=Er(n);function n(e){var r;return vr(this,n),(r=t.call(this)).isMeshPhysicalMaterial=!0,r.defines={STANDARD:"",PHYSICAL:""},r.type="MeshPhysicalMaterial",r.clearcoatMap=null,r.clearcoatRoughness=0,r.clearcoatRoughnessMap=null,r.clearcoatNormalScale=new so(1,1),r.clearcoatNormalMap=null,r.ior=1.5,Object.defineProperty(wr(r),"reflectivity",{get:function(){return $A(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(e){this.ior=(1+.4*e)/(1-.4*e)}}),r.iridescenceMap=null,r.iridescenceIOR=1.3,r.iridescenceThicknessRange=[100,400],r.iridescenceThicknessMap=null,r.sheenColor=new al(0),r.sheenColorMap=null,r.sheenRoughness=1,r.sheenRoughnessMap=null,r.transmissionMap=null,r.thickness=0,r.thicknessMap=null,r.attenuationDistance=1/0,r.attenuationColor=new al(1,1,1),r.specularIntensity=1,r.specularIntensityMap=null,r.specularColor=new al(1,1,1),r.specularColorMap=null,r._sheen=0,r._clearcoat=0,r._iridescence=0,r._transmission=0,r.setValues(e),r}return gr(n,[{key:"sheen",get:function(){return this._sheen},set:function(e){this._sheen>0!==e>0&&this.version++,this._sheen=e}},{key:"clearcoat",get:function(){return this._clearcoat},set:function(e){this._clearcoat>0!==e>0&&this.version++,this._clearcoat=e}},{key:"iridescence",get:function(){return this._iridescence},set:function(e){this._iridescence>0!==e>0&&this.version++,this._iridescence=e}},{key:"transmission",get:function(){return this._transmission},set:function(e){this._transmission>0!==e>0&&this.version++,this._transmission=e}},{key:"copy",value:function(e){return Br(xr(n.prototype),"copy",this).call(this,e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=y(e.iridescenceThicknessRange),this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}]),n}(Op),zp=function(e){br(n,e);var t=Er(n);function n(e){var r;return vr(this,n),(r=t.call(this)).isMeshPhongMaterial=!0,r.type="MeshPhongMaterial",r.color=new al(16777215),r.specular=new al(1118481),r.shininess=30,r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.emissive=new al(0),r.emissiveIntensity=1,r.emissiveMap=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=dA,r.normalScale=new so(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.specularMap=null,r.alphaMap=null,r.envMap=null,r.combine=wi,r.reflectivity=1,r.refractionRatio=.98,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.flatShading=!1,r.fog=!0,r.setValues(e),r}return gr(n,[{key:"copy",value:function(e){return Br(xr(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}]),n}(el),Gp=function(e){br(n,e);var t=Er(n);function n(e){var r;return vr(this,n),(r=t.call(this)).isMeshToonMaterial=!0,r.defines={TOON:""},r.type="MeshToonMaterial",r.color=new al(16777215),r.map=null,r.gradientMap=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.emissive=new al(0),r.emissiveIntensity=1,r.emissiveMap=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=dA,r.normalScale=new so(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.alphaMap=null,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.fog=!0,r.setValues(e),r}return gr(n,[{key:"copy",value:function(e){return Br(xr(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}]),n}(el),Hp=function(e){br(n,e);var t=Er(n);function n(e){var r;return vr(this,n),(r=t.call(this)).isMeshNormalMaterial=!0,r.type="MeshNormalMaterial",r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=dA,r.normalScale=new so(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.wireframe=!1,r.wireframeLinewidth=1,r.flatShading=!1,r.setValues(e),r}return gr(n,[{key:"copy",value:function(e){return Br(xr(n.prototype),"copy",this).call(this,e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}]),n}(el),Vp=function(e){br(n,e);var t=Er(n);function n(e){var r;return vr(this,n),(r=t.call(this)).isMeshLambertMaterial=!0,r.type="MeshLambertMaterial",r.color=new al(16777215),r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.emissive=new al(0),r.emissiveIntensity=1,r.emissiveMap=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=dA,r.normalScale=new so(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.specularMap=null,r.alphaMap=null,r.envMap=null,r.combine=wi,r.reflectivity=1,r.refractionRatio=.98,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.flatShading=!1,r.fog=!0,r.setValues(e),r}return gr(n,[{key:"copy",value:function(e){return Br(xr(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}]),n}(el),Wp=function(e){br(n,e);var t=Er(n);function n(e){var r;return vr(this,n),(r=t.call(this)).isMeshMatcapMaterial=!0,r.defines={MATCAP:""},r.type="MeshMatcapMaterial",r.color=new al(16777215),r.matcap=null,r.map=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=dA,r.normalScale=new so(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.alphaMap=null,r.flatShading=!1,r.fog=!0,r.setValues(e),r}return gr(n,[{key:"copy",value:function(e){return Br(xr(n.prototype),"copy",this).call(this,e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}]),n}(el),jp=function(e){br(n,e);var t=Er(n);function n(e){var r;return vr(this,n),(r=t.call(this)).isLineDashedMaterial=!0,r.type="LineDashedMaterial",r.scale=1,r.dashSize=3,r.gapSize=1,r.setValues(e),r}return gr(n,[{key:"copy",value:function(e){return Br(xr(n.prototype),"copy",this).call(this,e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}]),n}(Wd);function Qp(e,t,n){return Jp(e)?new e.constructor(e.subarray(t,void 0!==n?n:e.length)):e.slice(t,n)}function Xp(e,t,n){return!e||!n&&e.constructor===t?e:"number"===typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)}function Jp(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Kp(e){for(var t=e.length,n=new Array(t),r=0;r!==t;++r)n[r]=r;return n.sort((function(t,n){return e[t]-e[n]})),n}function Yp(e,t,n){for(var r=e.length,i=new e.constructor(r),a=0,A=0;A!==r;++a)for(var o=n[a]*t,s=0;s!==t;++s)i[A++]=e[o+s];return i}function qp(e,t,n,r){for(var i=1,a=e[0];void 0!==a&&void 0===a[r];)a=e[i++];if(void 0!==a){var A=a[r];if(void 0!==A)if(Array.isArray(A))do{void 0!==(A=a[r])&&(t.push(a.time),n.push.apply(n,A)),a=e[i++]}while(void 0!==a);else if(void 0!==A.toArray)do{void 0!==(A=a[r])&&(t.push(a.time),A.toArray(n,n.length)),a=e[i++]}while(void 0!==a);else do{void 0!==(A=a[r])&&(t.push(a.time),n.push(A)),a=e[i++]}while(void 0!==a)}}var Zp={arraySlice:Qp,convertArray:Xp,isTypedArray:Jp,getKeyframeOrder:Kp,sortedArray:Yp,flattenJSON:qp,subclip:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:30,a=e.clone();a.name=t;for(var A=[],o=0;o<a.tracks.length;++o){for(var s=a.tracks[o],l=s.getValueSize(),u=[],c=[],f=0;f<s.times.length;++f){var d=s.times[f]*i;if(!(d<n||d>=r)){u.push(s.times[f]);for(var h=0;h<l;++h)c.push(s.values[f*l+h])}}0!==u.length&&(s.times=Xp(u,s.times.constructor),s.values=Xp(c,s.values.constructor),A.push(s))}a.tracks=A;for(var p=1/0,v=0;v<a.tracks.length;++v)p>a.tracks[v].times[0]&&(p=a.tracks[v].times[0]);for(var m=0;m<a.tracks.length;++m)a.tracks[m].shift(-1*p);return a.resetDuration(),a},makeClipAdditive:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:30;r<=0&&(r=30);for(var i=n.tracks.length,a=t/r,A=function(){var t=n.tracks[o],r=t.ValueTypeName;if("bool"===r||"string"===r)return"continue";var i=e.tracks.find((function(e){return e.name===t.name&&e.ValueTypeName===r}));if(void 0===i)return"continue";var A=0,s=t.getValueSize();t.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(A=s/3);var l=0,u=i.getValueSize();i.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(l=u/3);var c,f=t.times.length-1;if(a<=t.times[0]){var d=A,h=s-A;c=Qp(t.values,d,h)}else if(a>=t.times[f]){var p=f*s+A,v=p+s-A;c=Qp(t.values,p,v)}else{var m=t.createInterpolant(),g=A,y=s-A;m.evaluate(a),c=Qp(m.resultBuffer,g,y)}"quaternion"===r&&(new Oo).fromArray(c).normalize().conjugate().toArray(c);for(var b=i.times.length,x=0;x<b;++x){var _=x*u+l;if("quaternion"===r)Oo.multiplyQuaternionsFlat(i.values,_,c,0,i.values,_);else for(var w=u-2*l,E=0;E<w;++E)i.values[_+E]-=c[E]}},o=0;o<i;++o)A();return e.blendMode=aA,e}},$p=function(){function e(t,n,r,i){vr(this,e),this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==i?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}return gr(e,[{key:"evaluate",value:function(e){var t=this.parameterPositions,n=this._cachedIndex,r=t[n],i=t[n-1];e:{t:{var a;n:{r:if(!(e<r)){for(var A=n+2;;){if(void 0===r){if(e<i)break r;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===A)break;if(i=r,e<(r=t[++n]))break t}a=t.length;break n}if(e>=i)break e;var o=t[1];e<o&&(n=2,i=o);for(var s=n-2;;){if(void 0===i)return this._cachedIndex=0,this.copySampleValue_(0);if(n===s)break;if(r=i,e>=(i=t[--n-1]))break t}a=n,n=0}for(;n<a;){var l=n+a>>>1;e<t[l]?a=l:n=l+1}if(r=t[n],void 0===(i=t[n-1]))return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===r)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,e,r)}},{key:"getSettings_",value:function(){return this.settings||this.DefaultSettings_}},{key:"copySampleValue_",value:function(e){for(var t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r,a=0;a!==r;++a)t[a]=n[i+a];return t}},{key:"interpolate_",value:function(){throw new Error("call to abstract method")}},{key:"intervalChanged_",value:function(){}}]),e}(),ev=function(e){br(n,e);var t=Er(n);function n(e,r,i,a){var A;return vr(this,n),(A=t.call(this,e,r,i,a))._weightPrev=-0,A._offsetPrev=-0,A._weightNext=-0,A._offsetNext=-0,A.DefaultSettings_={endingStart:tA,endingEnd:tA},A}return gr(n,[{key:"intervalChanged_",value:function(e,t,n){var r=this.parameterPositions,i=e-2,a=e+1,A=r[i],o=r[a];if(void 0===A)switch(this.getSettings_().endingStart){case nA:i=e,A=2*t-n;break;case rA:A=t+r[i=r.length-2]-r[i+1];break;default:i=e,A=n}if(void 0===o)switch(this.getSettings_().endingEnd){case nA:a=e,o=2*n-t;break;case rA:a=1,o=n+r[1]-r[0];break;default:a=e-1,o=t}var s=.5*(n-t),l=this.valueSize;this._weightPrev=s/(t-A),this._weightNext=s/(o-n),this._offsetPrev=i*l,this._offsetNext=a*l}},{key:"interpolate_",value:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,A=this.valueSize,o=e*A,s=o-A,l=this._offsetPrev,u=this._offsetNext,c=this._weightPrev,f=this._weightNext,d=(n-t)/(r-t),h=d*d,p=h*d,v=-c*p+2*c*h-c*d,m=(1+c)*p+(-1.5-2*c)*h+(-.5+c)*d+1,g=(-1-f)*p+(1.5+f)*h+.5*d,y=f*p-f*h,b=0;b!==A;++b)i[b]=v*a[l+b]+m*a[s+b]+g*a[o+b]+y*a[u+b];return i}}]),n}($p),tv=function(e){br(n,e);var t=Er(n);function n(e,r,i,a){return vr(this,n),t.call(this,e,r,i,a)}return gr(n,[{key:"interpolate_",value:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,A=this.valueSize,o=e*A,s=o-A,l=(n-t)/(r-t),u=1-l,c=0;c!==A;++c)i[c]=a[s+c]*u+a[o+c]*l;return i}}]),n}($p),nv=function(e){br(n,e);var t=Er(n);function n(e,r,i,a){return vr(this,n),t.call(this,e,r,i,a)}return gr(n,[{key:"interpolate_",value:function(e){return this.copySampleValue_(e-1)}}]),n}($p),rv=function(){function e(t,n,r,i){if(vr(this,e),void 0===t)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===n||0===n.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=Xp(n,this.TimeBufferType),this.values=Xp(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}return gr(e,[{key:"InterpolantFactoryMethodDiscrete",value:function(e){return new nv(this.times,this.values,this.getValueSize(),e)}},{key:"InterpolantFactoryMethodLinear",value:function(e){return new tv(this.times,this.values,this.getValueSize(),e)}},{key:"InterpolantFactoryMethodSmooth",value:function(e){return new ev(this.times,this.values,this.getValueSize(),e)}},{key:"setInterpolation",value:function(e){var t;switch(e){case Za:t=this.InterpolantFactoryMethodDiscrete;break;case $a:t=this.InterpolantFactoryMethodLinear;break;case eA:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this}},{key:"getInterpolation",value:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Za;case this.InterpolantFactoryMethodLinear:return $a;case this.InterpolantFactoryMethodSmooth:return eA}}},{key:"getValueSize",value:function(){return this.values.length/this.times.length}},{key:"shift",value:function(e){if(0!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]+=e;return this}},{key:"scale",value:function(e){if(1!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]*=e;return this}},{key:"trim",value:function(e,t){for(var n=this.times,r=n.length,i=0,a=r-1;i!==r&&n[i]<e;)++i;for(;-1!==a&&n[a]>t;)--a;if(++a,0!==i||a!==r){i>=a&&(i=(a=Math.max(a,1))-1);var A=this.getValueSize();this.times=Qp(n,i,a),this.values=Qp(this.values,i*A,a*A)}return this}},{key:"validate",value:function(){var e=!0,t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);var n=this.times,r=this.values,i=n.length;0===i&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);for(var a=null,A=0;A!==i;A++){var o=n[A];if("number"===typeof o&&isNaN(o)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,A,o),e=!1;break}if(null!==a&&a>o){console.error("THREE.KeyframeTrack: Out of order keys.",this,A,o,a),e=!1;break}a=o}if(void 0!==r&&Jp(r))for(var s=0,l=r.length;s!==l;++s){var u=r[s];if(isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,s,u),e=!1;break}}return e}},{key:"optimize",value:function(){for(var e=Qp(this.times),t=Qp(this.values),n=this.getValueSize(),r=this.getInterpolation()===eA,i=e.length-1,a=1,A=1;A<i;++A){var o=!1,s=e[A];if(s!==e[A+1]&&(1!==A||s!==e[0]))if(r)o=!0;else for(var l=A*n,u=l-n,c=l+n,f=0;f!==n;++f){var d=t[l+f];if(d!==t[u+f]||d!==t[c+f]){o=!0;break}}if(o){if(A!==a){e[a]=e[A];for(var h=A*n,p=a*n,v=0;v!==n;++v)t[p+v]=t[h+v]}++a}}if(i>0){e[a]=e[i];for(var m=i*n,g=a*n,y=0;y!==n;++y)t[g+y]=t[m+y];++a}return a!==e.length?(this.times=Qp(e,0,a),this.values=Qp(t,0,a*n)):(this.times=e,this.values=t),this}},{key:"clone",value:function(){var e=Qp(this.times,0),t=Qp(this.values,0),n=new(0,this.constructor)(this.name,e,t);return n.createInterpolant=this.createInterpolant,n}}],[{key:"toJSON",value:function(e){var t,n=e.constructor;if(n.toJSON!==this.toJSON)t=n.toJSON(e);else{t={name:e.name,times:Xp(e.times,Array),values:Xp(e.values,Array)};var r=e.getInterpolation();r!==e.DefaultInterpolation&&(t.interpolation=r)}return t.type=e.ValueTypeName,t}}]),e}();rv.prototype.TimeBufferType=Float32Array,rv.prototype.ValueBufferType=Float32Array,rv.prototype.DefaultInterpolation=$a;var iv=function(e){br(n,e);var t=Er(n);function n(){return vr(this,n),t.apply(this,arguments)}return gr(n)}(rv);iv.prototype.ValueTypeName="bool",iv.prototype.ValueBufferType=Array,iv.prototype.DefaultInterpolation=Za,iv.prototype.InterpolantFactoryMethodLinear=void 0,iv.prototype.InterpolantFactoryMethodSmooth=void 0;var av=function(e){br(n,e);var t=Er(n);function n(){return vr(this,n),t.apply(this,arguments)}return gr(n)}(rv);av.prototype.ValueTypeName="color";var Av=function(e){br(n,e);var t=Er(n);function n(){return vr(this,n),t.apply(this,arguments)}return gr(n)}(rv);Av.prototype.ValueTypeName="number";var ov=function(e){br(n,e);var t=Er(n);function n(e,r,i,a){return vr(this,n),t.call(this,e,r,i,a)}return gr(n,[{key:"interpolate_",value:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,A=this.valueSize,o=(n-t)/(r-t),s=e*A,l=s+A;s!==l;s+=4)Oo.slerpFlat(i,0,a,s-A,a,s,o);return i}}]),n}($p),sv=function(e){br(n,e);var t=Er(n);function n(){return vr(this,n),t.apply(this,arguments)}return gr(n,[{key:"InterpolantFactoryMethodLinear",value:function(e){return new ov(this.times,this.values,this.getValueSize(),e)}}]),n}(rv);sv.prototype.ValueTypeName="quaternion",sv.prototype.DefaultInterpolation=$a,sv.prototype.InterpolantFactoryMethodSmooth=void 0;var lv=function(e){br(n,e);var t=Er(n);function n(){return vr(this,n),t.apply(this,arguments)}return gr(n)}(rv);lv.prototype.ValueTypeName="string",lv.prototype.ValueBufferType=Array,lv.prototype.DefaultInterpolation=Za,lv.prototype.InterpolantFactoryMethodLinear=void 0,lv.prototype.InterpolantFactoryMethodSmooth=void 0;var uv=function(e){br(n,e);var t=Er(n);function n(){return vr(this,n),t.apply(this,arguments)}return gr(n)}(rv);uv.prototype.ValueTypeName="vector";var cv=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:iA;vr(this,e),this.name=t,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=ZA(),this.duration<0&&this.resetDuration()}return gr(e,[{key:"resetDuration",value:function(){for(var e=0,t=0,n=this.tracks.length;t!==n;++t){var r=this.tracks[t];e=Math.max(e,r.times[r.times.length-1])}return this.duration=e,this}},{key:"trim",value:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}},{key:"validate",value:function(){for(var e=!0,t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}},{key:"optimize",value:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}},{key:"clone",value:function(){for(var e=[],t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}},{key:"toJSON",value:function(){return this.constructor.toJSON(this)}}],[{key:"parse",value:function(e){for(var t=[],n=e.tracks,r=1/(e.fps||1),i=0,a=n.length;i!==a;++i)t.push(fv(n[i]).scale(r));var A=new this(e.name,e.duration,t,e.blendMode);return A.uuid=e.uuid,A}},{key:"toJSON",value:function(e){for(var t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode},i=0,a=n.length;i!==a;++i)t.push(rv.toJSON(n[i]));return r}},{key:"CreateFromMorphTargetSequence",value:function(e,t,n,r){for(var i=t.length,a=[],A=0;A<i;A++){var o=[],s=[];o.push((A+i-1)%i,A,(A+1)%i),s.push(0,1,0);var l=Kp(o);o=Yp(o,1,l),s=Yp(s,1,l),r||0!==o[0]||(o.push(i),s.push(s[0])),a.push(new Av(".morphTargetInfluences["+t[A].name+"]",o,s).scale(1/n))}return new this(e,-1,a)}},{key:"findByName",value:function(e,t){var n=e;if(!Array.isArray(e)){var r=e;n=r.geometry&&r.geometry.animations||r.animations}for(var i=0;i<n.length;i++)if(n[i].name===t)return n[i];return null}},{key:"CreateClipsFromMorphTargetSequences",value:function(e,t,n){for(var r={},i=/^([\w-]*?)([\d]+)$/,a=0,A=e.length;a<A;a++){var o=e[a],s=o.name.match(i);if(s&&s.length>1){var l=s[1],u=r[l];u||(r[l]=u=[]),u.push(o)}}var c=[];for(var f in r)c.push(this.CreateFromMorphTargetSequence(f,r[f],t,n));return c}},{key:"parseAnimation",value:function(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var n=function(e,t,n,r,i){if(0!==n.length){var a=[],A=[];qp(n,a,A,r),0!==a.length&&i.push(new e(t,a,A))}},r=[],i=e.name||"default",a=e.fps||30,A=e.blendMode,o=e.length||-1,s=e.hierarchy||[],l=0;l<s.length;l++){var u=s[l].keys;if(u&&0!==u.length)if(u[0].morphTargets){var c={},f=void 0;for(f=0;f<u.length;f++)if(u[f].morphTargets)for(var d=0;d<u[f].morphTargets.length;d++)c[u[f].morphTargets[d]]=-1;for(var h in c){for(var p=[],v=[],m=0;m!==u[f].morphTargets.length;++m){var g=u[f];p.push(g.time),v.push(g.morphTarget===h?1:0)}r.push(new Av(".morphTargetInfluence["+h+"]",p,v))}o=c.length*a}else{var y=".bones["+t[l].name+"]";n(uv,y+".position",u,"pos",r),n(sv,y+".quaternion",u,"rot",r),n(uv,y+".scale",u,"scl",r)}}return 0===r.length?null:new this(i,o,r,A)}}]),e}();function fv(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var t=function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Av;case"vector":case"vector2":case"vector3":case"vector4":return uv;case"color":return av;case"quaternion":return sv;case"bool":case"boolean":return iv;case"string":return lv}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}(e.type);if(void 0===e.times){var n=[],r=[];qp(e.keys,n,r,"value"),e.times=n,e.values=r}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}var dv,hv={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}},pv=gr((function e(t,n,r){vr(this,e);var i=this,a=!1,A=0,o=0,s=void 0,l=[];this.onStart=void 0,this.onLoad=t,this.onProgress=n,this.onError=r,this.itemStart=function(e){o++,!1===a&&void 0!==i.onStart&&i.onStart(e,A,o),a=!0},this.itemEnd=function(e){A++,void 0!==i.onProgress&&i.onProgress(e,A,o),A===o&&(a=!1,void 0!==i.onLoad&&i.onLoad())},this.itemError=function(e){void 0!==i.onError&&i.onError(e)},this.resolveURL=function(e){return s?s(e):e},this.setURLModifier=function(e){return s=e,this},this.addHandler=function(e,t){return l.push(e,t),this},this.removeHandler=function(e){var t=l.indexOf(e);return-1!==t&&l.splice(t,2),this},this.getHandler=function(e){for(var t=0,n=l.length;t<n;t+=2){var r=l[t],i=l[t+1];if(r.global&&(r.lastIndex=0),r.test(e))return i}return null}})),vv=new pv,mv=function(){function e(t){vr(this,e),this.manager=void 0!==t?t:vv,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}return gr(e,[{key:"load",value:function(){}},{key:"loadAsync",value:function(e,t){var n=this;return new Promise((function(r,i){n.load(e,r,t,i)}))}},{key:"parse",value:function(){}},{key:"setCrossOrigin",value:function(e){return this.crossOrigin=e,this}},{key:"setWithCredentials",value:function(e){return this.withCredentials=e,this}},{key:"setPath",value:function(e){return this.path=e,this}},{key:"setResourcePath",value:function(e){return this.resourcePath=e,this}},{key:"setRequestHeader",value:function(e){return this.requestHeader=e,this}}]),e}(),gv={},yv=function(e){br(n,e);var t=Er(n);function n(e,r){var i;return vr(this,n),(i=t.call(this,e)).response=r,i}return gr(n)}(Cr(Error)),bv=function(e){br(n,e);var t=Er(n);function n(e){return vr(this,n),t.call(this,e)}return gr(n,[{key:"load",value:function(e,t,n,r){var i=this;void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var a=hv.get(e);if(void 0!==a)return this.manager.itemStart(e),setTimeout((function(){t&&t(a),i.manager.itemEnd(e)}),0),a;if(void 0===gv[e]){gv[e]=[],gv[e].push({onLoad:t,onProgress:n,onError:r});var A=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),o=this.mimeType,s=this.responseType;fetch(A).then((function(t){if(200===t.status||0===t.status){if(0===t.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),"undefined"===typeof ReadableStream||void 0===t.body||void 0===t.body.getReader)return t;var n=gv[e],r=t.body.getReader(),i=t.headers.get("Content-Length")||t.headers.get("X-File-Size"),a=i?parseInt(i):0,A=0!==a,o=0,s=new ReadableStream({start:function(e){!function t(){r.read().then((function(r){var i=r.done,s=r.value;if(i)e.close();else{o+=s.byteLength;for(var l=new ProgressEvent("progress",{lengthComputable:A,loaded:o,total:a}),u=0,c=n.length;u<c;u++){var f=n[u];f.onProgress&&f.onProgress(l)}e.enqueue(s),t()}}))}()}});return new Response(s)}throw new yv('fetch for "'.concat(t.url,'" responded with ').concat(t.status,": ").concat(t.statusText),t)})).then((function(e){switch(s){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"document":return e.text().then((function(e){return(new DOMParser).parseFromString(e,o)}));case"json":return e.json();default:if(void 0===o)return e.text();var t=/charset="?([^;"\s]*)"?/i.exec(o),n=t&&t[1]?t[1].toLowerCase():void 0,r=new TextDecoder(n);return e.arrayBuffer().then((function(e){return r.decode(e)}))}})).then((function(t){hv.add(e,t);var n=gv[e];delete gv[e];for(var r=0,i=n.length;r<i;r++){var a=n[r];a.onLoad&&a.onLoad(t)}})).catch((function(t){var n=gv[e];if(void 0===n)throw i.manager.itemError(e),t;delete gv[e];for(var r=0,a=n.length;r<a;r++){var A=n[r];A.onError&&A.onError(t)}i.manager.itemError(e)})).finally((function(){i.manager.itemEnd(e)})),this.manager.itemStart(e)}else gv[e].push({onLoad:t,onProgress:n,onError:r})}},{key:"setResponseType",value:function(e){return this.responseType=e,this}},{key:"setMimeType",value:function(e){return this.mimeType=e,this}}]),n}(mv),xv=function(e){br(n,e);var t=Er(n);function n(e){return vr(this,n),t.call(this,e)}return gr(n,[{key:"load",value:function(e,t,n,r){var i=this,a=new bv(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,(function(n){try{t(i.parse(JSON.parse(n)))}catch(a){r?r(a):console.error(a),i.manager.itemError(e)}}),n,r)}},{key:"parse",value:function(e){for(var t=[],n=0;n<e.length;n++){var r=cv.parse(e[n]);t.push(r)}return t}}]),n}(mv),_v=function(e){br(n,e);var t=Er(n);function n(e){return vr(this,n),t.call(this,e)}return gr(n,[{key:"load",value:function(e,t,n,r){var i=this,a=[],A=new uh,o=new bv(this.manager);o.setPath(this.path),o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setWithCredentials(i.withCredentials);var s=0;function l(l){o.load(e[l],(function(e){var n=i.parse(e,!0);a[l]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},6===(s+=1)&&(1===n.mipmapCount&&(A.minFilter=Qi),A.image=a,A.format=n.format,A.needsUpdate=!0,t&&t(A))}),n,r)}if(Array.isArray(e))for(var u=0,c=e.length;u<c;++u)l(u);else o.load(e,(function(e){var n=i.parse(e,!0);if(n.isCubemap){for(var r=n.mipmaps.length/n.mipmapCount,o=0;o<r;o++){a[o]={mipmaps:[]};for(var s=0;s<n.mipmapCount;s++)a[o].mipmaps.push(n.mipmaps[o*n.mipmapCount+s]),a[o].format=n.format,a[o].width=n.width,a[o].height=n.height}A.image=a}else A.image.width=n.width,A.image.height=n.height,A.mipmaps=n.mipmaps;1===n.mipmapCount&&(A.minFilter=Qi),A.format=n.format,A.needsUpdate=!0,t&&t(A)}),n,r);return A}}]),n}(mv),wv=function(e){br(n,e);var t=Er(n);function n(e){return vr(this,n),t.call(this,e)}return gr(n,[{key:"load",value:function(e,t,n,r){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,a=hv.get(e);if(void 0!==a)return i.manager.itemStart(e),setTimeout((function(){t&&t(a),i.manager.itemEnd(e)}),0),a;var A=po("img");function o(){l(),hv.add(e,this),t&&t(this),i.manager.itemEnd(e)}function s(t){l(),r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)}function l(){A.removeEventListener("load",o,!1),A.removeEventListener("error",s,!1)}return A.addEventListener("load",o,!1),A.addEventListener("error",s,!1),"data:"!==e.slice(0,5)&&void 0!==this.crossOrigin&&(A.crossOrigin=this.crossOrigin),i.manager.itemStart(e),A.src=e,A}}]),n}(mv),Ev=function(e){br(n,e);var t=Er(n);function n(e){return vr(this,n),t.call(this,e)}return gr(n,[{key:"load",value:function(e,t,n,r){var i=new lu,a=new wv(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);var A=0;function o(n){a.load(e[n],(function(e){i.images[n]=e,6===++A&&(i.needsUpdate=!0,t&&t(i))}),void 0,r)}for(var s=0;s<e.length;++s)o(s);return i}}]),n}(mv),Mv=function(e){br(n,e);var t=Er(n);function n(e){return vr(this,n),t.call(this,e)}return gr(n,[{key:"load",value:function(e,t,n,r){var i=this,a=new Rd,A=new bv(this.manager);return A.setResponseType("arraybuffer"),A.setRequestHeader(this.requestHeader),A.setPath(this.path),A.setWithCredentials(i.withCredentials),A.load(e,(function(e){var n=i.parse(e);n&&(void 0!==n.image?a.image=n.image:void 0!==n.data&&(a.image.width=n.width,a.image.height=n.height,a.image.data=n.data),a.wrapS=void 0!==n.wrapS?n.wrapS:Fi,a.wrapT=void 0!==n.wrapT?n.wrapT:Fi,a.magFilter=void 0!==n.magFilter?n.magFilter:Qi,a.minFilter=void 0!==n.minFilter?n.minFilter:Qi,a.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.colorSpace?a.colorSpace=n.colorSpace:void 0!==n.encoding&&(a.encoding=n.encoding),void 0!==n.flipY&&(a.flipY=n.flipY),void 0!==n.format&&(a.format=n.format),void 0!==n.type&&(a.type=n.type),void 0!==n.mipmaps&&(a.mipmaps=n.mipmaps,a.minFilter=Ki),1===n.mipmapCount&&(a.minFilter=Qi),void 0!==n.generateMipmaps&&(a.generateMipmaps=n.generateMipmaps),a.needsUpdate=!0,t&&t(a,n))}),n,r),a}}]),n}(mv),Sv=function(e){br(n,e);var t=Er(n);function n(e){return vr(this,n),t.call(this,e)}return gr(n,[{key:"load",value:function(e,t,n,r){var i=new Bo,a=new wv(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,(function(e){i.image=e,i.needsUpdate=!0,void 0!==t&&t(i)}),n,r),i}}]),n}(mv),Cv=function(e){br(n,e);var t=Er(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return vr(this,n),(r=t.call(this)).isLight=!0,r.type="Light",r.color=new al(e),r.intensity=i,r}return gr(n,[{key:"dispose",value:function(){}},{key:"copy",value:function(e,t){return Br(xr(n.prototype),"copy",this).call(this,e,t),this.color.copy(e.color),this.intensity=e.intensity,this}},{key:"toJSON",value:function(e){var t=Br(xr(n.prototype),"toJSON",this).call(this,e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}]),n}(zs),Tv=function(e){br(n,e);var t=Er(n);function n(e,r,i){var a;return vr(this,n),(a=t.call(this,e,i)).isHemisphereLight=!0,a.type="HemisphereLight",a.position.copy(zs.DEFAULT_UP),a.updateMatrix(),a.groundColor=new al(r),a}return gr(n,[{key:"copy",value:function(e,t){return Br(xr(n.prototype),"copy",this).call(this,e,t),this.groundColor.copy(e.groundColor),this}}]),n}(Cv),kv=new ps,Bv=new Fo,Rv=new Fo,Pv=function(){function e(t){vr(this,e),this.camera=t,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new so(512,512),this.map=null,this.mapPass=null,this.matrix=new ps,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new mu,this._frameExtents=new so(1,1),this._viewportCount=1,this._viewports=[new Ro(0,0,1,1)]}return gr(e,[{key:"getViewportCount",value:function(){return this._viewportCount}},{key:"getFrustum",value:function(){return this._frustum}},{key:"updateMatrices",value:function(e){var t=this.camera,n=this.matrix;Bv.setFromMatrixPosition(e.matrixWorld),t.position.copy(Bv),Rv.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(Rv),t.updateMatrixWorld(),kv.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(kv),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(kv)}},{key:"getViewport",value:function(e){return this._viewports[e]}},{key:"getFrameExtents",value:function(){return this._frameExtents}},{key:"dispose",value:function(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}},{key:"copy",value:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"toJSON",value:function(){var e={};return 0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}]),e}(),Iv=function(e){br(n,e);var t=Er(n);function n(){var e;return vr(this,n),(e=t.call(this,new Au(50,1,.5,500))).isSpotLightShadow=!0,e.focus=1,e}return gr(n,[{key:"updateMatrices",value:function(e){var t=this.camera,r=2*qA*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,a=e.distance||t.far;r===t.fov&&i===t.aspect&&a===t.far||(t.fov=r,t.aspect=i,t.far=a,t.updateProjectionMatrix()),Br(xr(n.prototype),"updateMatrices",this).call(this,e)}},{key:"copy",value:function(e){return Br(xr(n.prototype),"copy",this).call(this,e),this.focus=e.focus,this}}]),n}(Pv),Dv=function(e){br(n,e);var t=Er(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,A=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Math.PI/3,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2;return vr(this,n),(i=t.call(this,e,r)).isSpotLight=!0,i.type="SpotLight",i.position.copy(zs.DEFAULT_UP),i.updateMatrix(),i.target=new zs,i.distance=a,i.angle=A,i.penumbra=o,i.decay=s,i.map=null,i.shadow=new Iv,i}return gr(n,[{key:"power",get:function(){return this.intensity*Math.PI},set:function(e){this.intensity=e/Math.PI}},{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(e,t){return Br(xr(n.prototype),"copy",this).call(this,e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}]),n}(Cv),Lv=new ps,Uv=new Fo,Nv=new Fo,Ov=function(e){br(n,e);var t=Er(n);function n(){var e;return vr(this,n),(e=t.call(this,new Au(90,1,.5,500))).isPointLightShadow=!0,e._frameExtents=new so(4,2),e._viewportCount=6,e._viewports=[new Ro(2,1,1,1),new Ro(0,1,1,1),new Ro(3,1,1,1),new Ro(1,1,1,1),new Ro(3,0,1,1),new Ro(1,0,1,1)],e._cubeDirections=[new Fo(1,0,0),new Fo(-1,0,0),new Fo(0,0,1),new Fo(0,0,-1),new Fo(0,1,0),new Fo(0,-1,0)],e._cubeUps=[new Fo(0,1,0),new Fo(0,1,0),new Fo(0,1,0),new Fo(0,1,0),new Fo(0,0,1),new Fo(0,0,-1)],e}return gr(n,[{key:"updateMatrices",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.camera,r=this.matrix,i=e.distance||n.far;i!==n.far&&(n.far=i,n.updateProjectionMatrix()),Uv.setFromMatrixPosition(e.matrixWorld),n.position.copy(Uv),Nv.copy(n.position),Nv.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(Nv),n.updateMatrixWorld(),r.makeTranslation(-Uv.x,-Uv.y,-Uv.z),Lv.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Lv)}}]),n}(Pv),Fv=function(e){br(n,e);var t=Er(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,A=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2;return vr(this,n),(i=t.call(this,e,r)).isPointLight=!0,i.type="PointLight",i.distance=a,i.decay=A,i.shadow=new Ov,i}return gr(n,[{key:"power",get:function(){return 4*this.intensity*Math.PI},set:function(e){this.intensity=e/(4*Math.PI)}},{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(e,t){return Br(xr(n.prototype),"copy",this).call(this,e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}]),n}(Cv),zv=function(e){br(n,e);var t=Er(n);function n(){var e;return vr(this,n),(e=t.call(this,new Ru(-5,5,5,-5,.5,500))).isDirectionalLightShadow=!0,e}return gr(n)}(Pv),Gv=function(e){br(n,e);var t=Er(n);function n(e,r){var i;return vr(this,n),(i=t.call(this,e,r)).isDirectionalLight=!0,i.type="DirectionalLight",i.position.copy(zs.DEFAULT_UP),i.updateMatrix(),i.target=new zs,i.shadow=new zv,i}return gr(n,[{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(e){return Br(xr(n.prototype),"copy",this).call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}]),n}(Cv),Hv=function(e){br(n,e);var t=Er(n);function n(e,r){var i;return vr(this,n),(i=t.call(this,e,r)).isAmbientLight=!0,i.type="AmbientLight",i}return gr(n)}(Cv),Vv=function(e){br(n,e);var t=Er(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,A=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;return vr(this,n),(i=t.call(this,e,r)).isRectAreaLight=!0,i.type="RectAreaLight",i.width=a,i.height=A,i}return gr(n,[{key:"power",get:function(){return this.intensity*this.width*this.height*Math.PI},set:function(e){this.intensity=e/(this.width*this.height*Math.PI)}},{key:"copy",value:function(e){return Br(xr(n.prototype),"copy",this).call(this,e),this.width=e.width,this.height=e.height,this}},{key:"toJSON",value:function(e){var t=Br(xr(n.prototype),"toJSON",this).call(this,e);return t.object.width=this.width,t.object.height=this.height,t}}]),n}(Cv),Wv=function(){function e(){vr(this,e),this.isSphericalHarmonics3=!0,this.coefficients=[];for(var t=0;t<9;t++)this.coefficients.push(new Fo)}return gr(e,[{key:"set",value:function(e){for(var t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}},{key:"zero",value:function(){for(var e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}},{key:"getAt",value:function(e,t){var n=e.x,r=e.y,i=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.282095),t.addScaledVector(a[1],.488603*r),t.addScaledVector(a[2],.488603*i),t.addScaledVector(a[3],.488603*n),t.addScaledVector(a[4],n*r*1.092548),t.addScaledVector(a[5],r*i*1.092548),t.addScaledVector(a[6],.315392*(3*i*i-1)),t.addScaledVector(a[7],n*i*1.092548),t.addScaledVector(a[8],.546274*(n*n-r*r)),t}},{key:"getIrradianceAt",value:function(e,t){var n=e.x,r=e.y,i=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.886227),t.addScaledVector(a[1],1.023328*r),t.addScaledVector(a[2],1.023328*i),t.addScaledVector(a[3],1.023328*n),t.addScaledVector(a[4],.858086*n*r),t.addScaledVector(a[5],.858086*r*i),t.addScaledVector(a[6],.743125*i*i-.247708),t.addScaledVector(a[7],.858086*n*i),t.addScaledVector(a[8],.429043*(n*n-r*r)),t}},{key:"add",value:function(e){for(var t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}},{key:"addScaledSH",value:function(e,t){for(var n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}},{key:"scale",value:function(e){for(var t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}},{key:"lerp",value:function(e,t){for(var n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}},{key:"equals",value:function(e){for(var t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}},{key:"copy",value:function(e){return this.set(e.coefficients)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.coefficients,r=0;r<9;r++)n[r].fromArray(e,t+3*r);return this}},{key:"toArray",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.coefficients,r=0;r<9;r++)n[r].toArray(e,t+3*r);return e}}],[{key:"getBasisAt",value:function(e,t){var n=e.x,r=e.y,i=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*i,t[3]=.488603*n,t[4]=1.092548*n*r,t[5]=1.092548*r*i,t[6]=.315392*(3*i*i-1),t[7]=1.092548*n*i,t[8]=.546274*(n*n-r*r)}}]),e}(),jv=function(e){br(n,e);var t=Er(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Wv,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return vr(this,n),(e=t.call(this,void 0,i)).isLightProbe=!0,e.sh=r,e}return gr(n,[{key:"copy",value:function(e){return Br(xr(n.prototype),"copy",this).call(this,e),this.sh.copy(e.sh),this}},{key:"fromJSON",value:function(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}},{key:"toJSON",value:function(e){var t=Br(xr(n.prototype),"toJSON",this).call(this,e);return t.object.sh=this.sh.toArray(),t}}]),n}(Cv),Qv=function(e){br(n,e);var t=Er(n);function n(e){var r;return vr(this,n),(r=t.call(this,e)).textures={},r}return gr(n,[{key:"load",value:function(e,t,n,r){var i=this,a=new bv(i.manager);a.setPath(i.path),a.setRequestHeader(i.requestHeader),a.setWithCredentials(i.withCredentials),a.load(e,(function(n){try{t(i.parse(JSON.parse(n)))}catch(a){r?r(a):console.error(a),i.manager.itemError(e)}}),n,r)}},{key:"parse",value:function(e){var t=this.textures;function r(e){return void 0===t[e]&&console.warn("THREE.MaterialLoader: Undefined texture",e),t[e]}var i=n.createMaterialFromType(e.type);if(void 0!==e.uuid&&(i.uuid=e.uuid),void 0!==e.name&&(i.name=e.name),void 0!==e.color&&void 0!==i.color&&i.color.setHex(e.color),void 0!==e.roughness&&(i.roughness=e.roughness),void 0!==e.metalness&&(i.metalness=e.metalness),void 0!==e.sheen&&(i.sheen=e.sheen),void 0!==e.sheenColor&&(i.sheenColor=(new al).setHex(e.sheenColor)),void 0!==e.sheenRoughness&&(i.sheenRoughness=e.sheenRoughness),void 0!==e.emissive&&void 0!==i.emissive&&i.emissive.setHex(e.emissive),void 0!==e.specular&&void 0!==i.specular&&i.specular.setHex(e.specular),void 0!==e.specularIntensity&&(i.specularIntensity=e.specularIntensity),void 0!==e.specularColor&&void 0!==i.specularColor&&i.specularColor.setHex(e.specularColor),void 0!==e.shininess&&(i.shininess=e.shininess),void 0!==e.clearcoat&&(i.clearcoat=e.clearcoat),void 0!==e.clearcoatRoughness&&(i.clearcoatRoughness=e.clearcoatRoughness),void 0!==e.iridescence&&(i.iridescence=e.iridescence),void 0!==e.iridescenceIOR&&(i.iridescenceIOR=e.iridescenceIOR),void 0!==e.iridescenceThicknessRange&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),void 0!==e.transmission&&(i.transmission=e.transmission),void 0!==e.thickness&&(i.thickness=e.thickness),void 0!==e.attenuationDistance&&(i.attenuationDistance=e.attenuationDistance),void 0!==e.attenuationColor&&void 0!==i.attenuationColor&&i.attenuationColor.setHex(e.attenuationColor),void 0!==e.fog&&(i.fog=e.fog),void 0!==e.flatShading&&(i.flatShading=e.flatShading),void 0!==e.blending&&(i.blending=e.blending),void 0!==e.combine&&(i.combine=e.combine),void 0!==e.side&&(i.side=e.side),void 0!==e.shadowSide&&(i.shadowSide=e.shadowSide),void 0!==e.opacity&&(i.opacity=e.opacity),void 0!==e.transparent&&(i.transparent=e.transparent),void 0!==e.alphaTest&&(i.alphaTest=e.alphaTest),void 0!==e.depthTest&&(i.depthTest=e.depthTest),void 0!==e.depthWrite&&(i.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(i.colorWrite=e.colorWrite),void 0!==e.stencilWrite&&(i.stencilWrite=e.stencilWrite),void 0!==e.stencilWriteMask&&(i.stencilWriteMask=e.stencilWriteMask),void 0!==e.stencilFunc&&(i.stencilFunc=e.stencilFunc),void 0!==e.stencilRef&&(i.stencilRef=e.stencilRef),void 0!==e.stencilFuncMask&&(i.stencilFuncMask=e.stencilFuncMask),void 0!==e.stencilFail&&(i.stencilFail=e.stencilFail),void 0!==e.stencilZFail&&(i.stencilZFail=e.stencilZFail),void 0!==e.stencilZPass&&(i.stencilZPass=e.stencilZPass),void 0!==e.wireframe&&(i.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(i.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(i.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(i.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.rotation&&(i.rotation=e.rotation),1!==e.linewidth&&(i.linewidth=e.linewidth),void 0!==e.dashSize&&(i.dashSize=e.dashSize),void 0!==e.gapSize&&(i.gapSize=e.gapSize),void 0!==e.scale&&(i.scale=e.scale),void 0!==e.polygonOffset&&(i.polygonOffset=e.polygonOffset),void 0!==e.polygonOffsetFactor&&(i.polygonOffsetFactor=e.polygonOffsetFactor),void 0!==e.polygonOffsetUnits&&(i.polygonOffsetUnits=e.polygonOffsetUnits),void 0!==e.dithering&&(i.dithering=e.dithering),void 0!==e.alphaToCoverage&&(i.alphaToCoverage=e.alphaToCoverage),void 0!==e.premultipliedAlpha&&(i.premultipliedAlpha=e.premultipliedAlpha),void 0!==e.forceSinglePass&&(i.forceSinglePass=e.forceSinglePass),void 0!==e.visible&&(i.visible=e.visible),void 0!==e.toneMapped&&(i.toneMapped=e.toneMapped),void 0!==e.userData&&(i.userData=e.userData),void 0!==e.vertexColors&&("number"===typeof e.vertexColors?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),void 0!==e.uniforms)for(var a in e.uniforms){var A=e.uniforms[a];switch(i.uniforms[a]={},A.type){case"t":i.uniforms[a].value=r(A.value);break;case"c":i.uniforms[a].value=(new al).setHex(A.value);break;case"v2":i.uniforms[a].value=(new so).fromArray(A.value);break;case"v3":i.uniforms[a].value=(new Fo).fromArray(A.value);break;case"v4":i.uniforms[a].value=(new Ro).fromArray(A.value);break;case"m3":i.uniforms[a].value=(new lo).fromArray(A.value);break;case"m4":i.uniforms[a].value=(new ps).fromArray(A.value);break;default:i.uniforms[a].value=A.value}}if(void 0!==e.defines&&(i.defines=e.defines),void 0!==e.vertexShader&&(i.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(i.fragmentShader=e.fragmentShader),void 0!==e.glslVersion&&(i.glslVersion=e.glslVersion),void 0!==e.extensions)for(var o in e.extensions)i.extensions[o]=e.extensions[o];if(void 0!==e.lights&&(i.lights=e.lights),void 0!==e.clipping&&(i.clipping=e.clipping),void 0!==e.size&&(i.size=e.size),void 0!==e.sizeAttenuation&&(i.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(i.map=r(e.map)),void 0!==e.matcap&&(i.matcap=r(e.matcap)),void 0!==e.alphaMap&&(i.alphaMap=r(e.alphaMap)),void 0!==e.bumpMap&&(i.bumpMap=r(e.bumpMap)),void 0!==e.bumpScale&&(i.bumpScale=e.bumpScale),void 0!==e.normalMap&&(i.normalMap=r(e.normalMap)),void 0!==e.normalMapType&&(i.normalMapType=e.normalMapType),void 0!==e.normalScale){var s=e.normalScale;!1===Array.isArray(s)&&(s=[s,s]),i.normalScale=(new so).fromArray(s)}return void 0!==e.displacementMap&&(i.displacementMap=r(e.displacementMap)),void 0!==e.displacementScale&&(i.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(i.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(i.roughnessMap=r(e.roughnessMap)),void 0!==e.metalnessMap&&(i.metalnessMap=r(e.metalnessMap)),void 0!==e.emissiveMap&&(i.emissiveMap=r(e.emissiveMap)),void 0!==e.emissiveIntensity&&(i.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(i.specularMap=r(e.specularMap)),void 0!==e.specularIntensityMap&&(i.specularIntensityMap=r(e.specularIntensityMap)),void 0!==e.specularColorMap&&(i.specularColorMap=r(e.specularColorMap)),void 0!==e.envMap&&(i.envMap=r(e.envMap)),void 0!==e.envMapIntensity&&(i.envMapIntensity=e.envMapIntensity),void 0!==e.reflectivity&&(i.reflectivity=e.reflectivity),void 0!==e.refractionRatio&&(i.refractionRatio=e.refractionRatio),void 0!==e.lightMap&&(i.lightMap=r(e.lightMap)),void 0!==e.lightMapIntensity&&(i.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(i.aoMap=r(e.aoMap)),void 0!==e.aoMapIntensity&&(i.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(i.gradientMap=r(e.gradientMap)),void 0!==e.clearcoatMap&&(i.clearcoatMap=r(e.clearcoatMap)),void 0!==e.clearcoatRoughnessMap&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),void 0!==e.clearcoatNormalMap&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),void 0!==e.clearcoatNormalScale&&(i.clearcoatNormalScale=(new so).fromArray(e.clearcoatNormalScale)),void 0!==e.iridescenceMap&&(i.iridescenceMap=r(e.iridescenceMap)),void 0!==e.iridescenceThicknessMap&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),void 0!==e.transmissionMap&&(i.transmissionMap=r(e.transmissionMap)),void 0!==e.thicknessMap&&(i.thicknessMap=r(e.thicknessMap)),void 0!==e.sheenColorMap&&(i.sheenColorMap=r(e.sheenColorMap)),void 0!==e.sheenRoughnessMap&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}},{key:"setTextures",value:function(e){return this.textures=e,this}}],[{key:"createMaterialFromType",value:function(e){return new{ShadowMaterial:Up,SpriteMaterial:ad,RawShaderMaterial:Np,ShaderMaterial:iu,PointsMaterial:th,MeshPhysicalMaterial:Fp,MeshStandardMaterial:Op,MeshPhongMaterial:zp,MeshToonMaterial:Gp,MeshNormalMaterial:Hp,MeshLambertMaterial:Vp,MeshDepthMaterial:Uf,MeshDistanceMaterial:Nf,MeshBasicMaterial:ol,MeshMatcapMaterial:Wp,LineDashedMaterial:jp,LineBasicMaterial:Wd,Material:el}[e]}}]),n}(mv),Xv=function(){function e(){vr(this,e)}return gr(e,null,[{key:"decodeText",value:function(e){if("undefined"!==typeof TextDecoder)return(new TextDecoder).decode(e);for(var t="",n=0,r=e.length;n<r;n++)t+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(t))}catch(i){return t}}},{key:"extractUrlBase",value:function(e){var t=e.lastIndexOf("/");return-1===t?"./":e.slice(0,t+1)}},{key:"resolveURL",value:function(e,t){return"string"!==typeof e||""===e?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}]),e}(),Jv=function(e){br(n,e);var t=Er(n);function n(){var e;return vr(this,n),(e=t.call(this)).isInstancedBufferGeometry=!0,e.type="InstancedBufferGeometry",e.instanceCount=1/0,e}return gr(n,[{key:"copy",value:function(e){return Br(xr(n.prototype),"copy",this).call(this,e),this.instanceCount=e.instanceCount,this}},{key:"toJSON",value:function(){var e=Br(xr(n.prototype),"toJSON",this).call(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}]),n}(Il),Kv=function(e){br(n,e);var t=Er(n);function n(e){return vr(this,n),t.call(this,e)}return gr(n,[{key:"load",value:function(e,t,n,r){var i=this,a=new bv(i.manager);a.setPath(i.path),a.setRequestHeader(i.requestHeader),a.setWithCredentials(i.withCredentials),a.load(e,(function(n){try{t(i.parse(JSON.parse(n)))}catch(a){r?r(a):console.error(a),i.manager.itemError(e)}}),n,r)}},{key:"parse",value:function(e){var t={},n={};function r(e,r){if(void 0!==t[r])return t[r];var i=e.interleavedBuffers[r],a=function(e,t){if(void 0!==n[t])return n[t];var r=e.arrayBuffers,i=r[t],a=new Uint32Array(i).buffer;return n[t]=a,a}(e,i.buffer),A=ho(i.type,a),o=new nd(A,i.stride);return o.uuid=i.uuid,t[r]=o,o}var i=e.isInstancedBufferGeometry?new Jv:new Il,a=e.data.index;if(void 0!==a){var A=ho(a.type,a.array);i.setIndex(new pl(A,1))}var o=e.data.attributes;for(var s in o){var l=o[s],u=void 0;if(l.isInterleavedBufferAttribute){var c=r(e.data,l.data);u=new id(c,l.itemSize,l.offset,l.normalized)}else{var f=ho(l.type,l.array);u=new(l.isInstancedBufferAttribute?Ld:pl)(f,l.itemSize,l.normalized)}void 0!==l.name&&(u.name=l.name),void 0!==l.usage&&u.setUsage(l.usage),void 0!==l.updateRange&&(u.updateRange.offset=l.updateRange.offset,u.updateRange.count=l.updateRange.count),i.setAttribute(s,u)}var d=e.data.morphAttributes;if(d)for(var h in d){for(var p=d[h],v=[],m=0,g=p.length;m<g;m++){var y=p[m],b=void 0;if(y.isInterleavedBufferAttribute){var x=r(e.data,y.data);b=new id(x,y.itemSize,y.offset,y.normalized)}else{var _=ho(y.type,y.array);b=new pl(_,y.itemSize,y.normalized)}void 0!==y.name&&(b.name=y.name),v.push(b)}i.morphAttributes[h]=v}e.data.morphTargetsRelative&&(i.morphTargetsRelative=!0);var w=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==w)for(var E=0,M=w.length;E!==M;++E){var S=w[E];i.addGroup(S.start,S.count,S.materialIndex)}var C=e.data.boundingSphere;if(void 0!==C){var T=new Fo;void 0!==C.center&&T.fromArray(C.center),i.boundingSphere=new As(T,C.radius)}return e.name&&(i.name=e.name),e.userData&&(i.userData=e.userData),i}}]),n}(mv),Yv=function(e){br(n,e);var t=Er(n);function n(e){return vr(this,n),t.call(this,e)}return gr(n,[{key:"load",value:function(e,t,n,r){var i=this,a=""===this.path?Xv.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;var A=new bv(this.manager);A.setPath(this.path),A.setRequestHeader(this.requestHeader),A.setWithCredentials(this.withCredentials),A.load(e,(function(n){var a=null;try{a=JSON.parse(n)}catch(o){return void 0!==r&&r(o),void console.error("THREE:ObjectLoader: Can't parse "+e+".",o.message)}var A=a.metadata;if(void 0===A||void 0===A.type||"geometry"===A.type.toLowerCase())return void 0!==r&&r(new Error("THREE.ObjectLoader: Can't load "+e)),void console.error("THREE.ObjectLoader: Can't load "+e);i.parse(a,t)}),n,r)}},{key:"loadAsync",value:function(){var e=kr(Rr().mark((function e(t,n){var r,i,a,A,o,s;return Rr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this,i=""===this.path?Xv.extractUrlBase(t):this.path,this.resourcePath=this.resourcePath||i,(a=new bv(this.manager)).setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),e.next=9,a.loadAsync(t,n);case 9:if(A=e.sent,o=JSON.parse(A),void 0!==(s=o.metadata)&&void 0!==s.type&&"geometry"!==s.type.toLowerCase()){e.next=14;break}throw new Error("THREE.ObjectLoader: Can't load "+t);case 14:return e.next=16,r.parseAsync(o);case 16:return e.abrupt("return",e.sent);case 17:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"parse",value:function(e,t){var n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),a=this.parseImages(e.images,(function(){void 0!==t&&t(s)})),A=this.parseTextures(e.textures,a),o=this.parseMaterials(e.materials,A),s=this.parseObject(e.object,i,o,A,n),l=this.parseSkeletons(e.skeletons,s);if(this.bindSkeletons(s,l),void 0!==t){var u=!1;for(var c in a)if(a[c].data instanceof HTMLImageElement){u=!0;break}!1===u&&t(s)}return s}},{key:"parseAsync",value:function(){var e=kr(Rr().mark((function e(t){var n,r,i,a,A,o,s,l;return Rr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.parseAnimations(t.animations),r=this.parseShapes(t.shapes),i=this.parseGeometries(t.geometries,r),e.next=5,this.parseImagesAsync(t.images);case 5:return a=e.sent,A=this.parseTextures(t.textures,a),o=this.parseMaterials(t.materials,A),s=this.parseObject(t.object,i,o,A,n),l=this.parseSkeletons(t.skeletons,s),this.bindSkeletons(s,l),e.abrupt("return",s);case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"parseShapes",value:function(e){var t={};if(void 0!==e)for(var n=0,r=e.length;n<r;n++){var i=(new Xh).fromJSON(e[n]);t[i.uuid]=i}return t}},{key:"parseSkeletons",value:function(e,t){var n={},r={};if(t.traverse((function(e){e.isBone&&(r[e.uuid]=e)})),void 0!==e)for(var i=0,a=e.length;i<a;i++){var A=(new Dd).fromJSON(e[i],r);n[A.uuid]=A}return n}},{key:"parseGeometries",value:function(e,t){var n={};if(void 0!==e)for(var r=new Kv,i=0,a=e.length;i<a;i++){var A=void 0,o=e[i];switch(o.type){case"BufferGeometry":case"InstancedBufferGeometry":A=r.parse(o);break;default:o.type in Lp?A=Lp[o.type].fromJSON(o,t):console.warn('THREE.ObjectLoader: Unsupported geometry type "'.concat(o.type,'"'))}A.uuid=o.uuid,void 0!==o.name&&(A.name=o.name),void 0!==o.userData&&(A.userData=o.userData),n[o.uuid]=A}return n}},{key:"parseMaterials",value:function(e,t){var n={},r={};if(void 0!==e){var i=new Qv;i.setTextures(t);for(var a=0,A=e.length;a<A;a++){var o=e[a];void 0===n[o.uuid]&&(n[o.uuid]=i.parse(o)),r[o.uuid]=n[o.uuid]}}return r}},{key:"parseAnimations",value:function(e){var t={};if(void 0!==e)for(var n=0;n<e.length;n++){var r=e[n],i=cv.parse(r);t[i.uuid]=i}return t}},{key:"parseImages",value:function(e,t){var n,r=this,i={};function a(e){if("string"===typeof e){var t=e;return function(e){return r.manager.itemStart(e),n.load(e,(function(){r.manager.itemEnd(e)}),void 0,(function(){r.manager.itemError(e),r.manager.itemEnd(e)}))}(/^(\/\/)|([a-z]+:(\/\/)?)/i.test(t)?t:r.resourcePath+t)}return e.data?{data:ho(e.type,e.data),width:e.width,height:e.height}:null}if(void 0!==e&&e.length>0){var A=new pv(t);(n=new wv(A)).setCrossOrigin(this.crossOrigin);for(var o=0,s=e.length;o<s;o++){var l=e[o],u=l.url;if(Array.isArray(u)){for(var c=[],f=0,d=u.length;f<d;f++){var h=a(u[f]);null!==h&&(h instanceof HTMLImageElement?c.push(h):c.push(new Rd(h.data,h.width,h.height)))}i[l.uuid]=new Co(c)}else{var p=a(l.url);i[l.uuid]=new Co(p)}}}return i}},{key:"parseImagesAsync",value:function(){var e=kr(Rr().mark((function e(t){var n,r,i,a,A,o,s,l,u,c,f,d,h,p,v;return Rr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A=function(){return A=kr(Rr().mark((function e(t){var r,a;return Rr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!==typeof t){e.next=8;break}return a=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(r=t)?r:n.resourcePath+r,e.next=5,i.loadAsync(a);case 5:return e.abrupt("return",e.sent);case 8:if(!t.data){e.next=12;break}return e.abrupt("return",{data:ho(t.type,t.data),width:t.width,height:t.height});case 12:return e.abrupt("return",null);case 13:case"end":return e.stop()}}),e)}))),A.apply(this,arguments)},a=function(e){return A.apply(this,arguments)},n=this,r={},!(void 0!==t&&t.length>0)){e.next=33;break}(i=new wv(this.manager)).setCrossOrigin(this.crossOrigin),o=0,s=t.length;case 8:if(!(o<s)){e.next=33;break}if(l=t[o],u=l.url,!Array.isArray(u)){e.next=26;break}c=[],f=0,d=u.length;case 14:if(!(f<d)){e.next=23;break}return h=u[f],e.next=18,a(h);case 18:null!==(p=e.sent)&&(p instanceof HTMLImageElement?c.push(p):c.push(new Rd(p.data,p.width,p.height)));case 20:f++,e.next=14;break;case 23:r[l.uuid]=new Co(c),e.next=30;break;case 26:return e.next=28,a(l.url);case 28:v=e.sent,r[l.uuid]=new Co(v);case 30:o++,e.next=8;break;case 33:return e.abrupt("return",r);case 34:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"parseTextures",value:function(e,t){function n(e,t){return"number"===typeof e?e:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",e),t[e])}var r={};if(void 0!==e)for(var i=0,a=e.length;i<a;i++){var A=e[i];void 0===A.image&&console.warn('THREE.ObjectLoader: No "image" specified for',A.uuid),void 0===t[A.image]&&console.warn("THREE.ObjectLoader: Undefined image",A.image);var o=t[A.image],s=o.data,l=void 0;Array.isArray(s)?(l=new lu,6===s.length&&(l.needsUpdate=!0)):(l=s&&s.data?new Rd:new Bo,s&&(l.needsUpdate=!0)),l.source=o,l.uuid=A.uuid,void 0!==A.name&&(l.name=A.name),void 0!==A.mapping&&(l.mapping=n(A.mapping,qv)),void 0!==A.channel&&(l.channel=A.channel),void 0!==A.offset&&l.offset.fromArray(A.offset),void 0!==A.repeat&&l.repeat.fromArray(A.repeat),void 0!==A.center&&l.center.fromArray(A.center),void 0!==A.rotation&&(l.rotation=A.rotation),void 0!==A.wrap&&(l.wrapS=n(A.wrap[0],Zv),l.wrapT=n(A.wrap[1],Zv)),void 0!==A.format&&(l.format=A.format),void 0!==A.internalFormat&&(l.internalFormat=A.internalFormat),void 0!==A.type&&(l.type=A.type),void 0!==A.colorSpace&&(l.colorSpace=A.colorSpace),void 0!==A.encoding&&(l.encoding=A.encoding),void 0!==A.minFilter&&(l.minFilter=n(A.minFilter,$v)),void 0!==A.magFilter&&(l.magFilter=n(A.magFilter,$v)),void 0!==A.anisotropy&&(l.anisotropy=A.anisotropy),void 0!==A.flipY&&(l.flipY=A.flipY),void 0!==A.generateMipmaps&&(l.generateMipmaps=A.generateMipmaps),void 0!==A.premultiplyAlpha&&(l.premultiplyAlpha=A.premultiplyAlpha),void 0!==A.unpackAlignment&&(l.unpackAlignment=A.unpackAlignment),void 0!==A.userData&&(l.userData=A.userData),r[A.uuid]=l}return r}},{key:"parseObject",value:function(e,t,n,r,i){var a,A,o;function s(e){return void 0===t[e]&&console.warn("THREE.ObjectLoader: Undefined geometry",e),t[e]}function l(e){if(void 0!==e){if(Array.isArray(e)){for(var t=[],r=0,i=e.length;r<i;r++){var a=e[r];void 0===n[a]&&console.warn("THREE.ObjectLoader: Undefined material",a),t.push(n[a])}return t}return void 0===n[e]&&console.warn("THREE.ObjectLoader: Undefined material",e),n[e]}}function u(e){return void 0===r[e]&&console.warn("THREE.ObjectLoader: Undefined texture",e),r[e]}switch(e.type){case"Scene":a=new td,void 0!==e.background&&(Number.isInteger(e.background)?a.background=new al(e.background):a.background=u(e.background)),void 0!==e.environment&&(a.environment=u(e.environment)),void 0!==e.fog&&("Fog"===e.fog.type?a.fog=new ed(e.fog.color,e.fog.near,e.fog.far):"FogExp2"===e.fog.type&&(a.fog=new $f(e.fog.color,e.fog.density))),void 0!==e.backgroundBlurriness&&(a.backgroundBlurriness=e.backgroundBlurriness),void 0!==e.backgroundIntensity&&(a.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":a=new Au(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(a.focus=e.focus),void 0!==e.zoom&&(a.zoom=e.zoom),void 0!==e.filmGauge&&(a.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(a.filmOffset=e.filmOffset),void 0!==e.view&&(a.view=Object.assign({},e.view));break;case"OrthographicCamera":a=new Ru(e.left,e.right,e.top,e.bottom,e.near,e.far),void 0!==e.zoom&&(a.zoom=e.zoom),void 0!==e.view&&(a.view=Object.assign({},e.view));break;case"AmbientLight":a=new Hv(e.color,e.intensity);break;case"DirectionalLight":a=new Gv(e.color,e.intensity);break;case"PointLight":a=new Fv(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":a=new Vv(e.color,e.intensity,e.width,e.height);break;case"SpotLight":a=new Dv(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":a=new Tv(e.color,e.groundColor,e.intensity);break;case"LightProbe":a=(new jv).fromJSON(e);break;case"SkinnedMesh":A=s(e.geometry),o=l(e.material),a=new kd(A,o),void 0!==e.bindMode&&(a.bindMode=e.bindMode),void 0!==e.bindMatrix&&a.bindMatrix.fromArray(e.bindMatrix),void 0!==e.skeleton&&(a.skeleton=e.skeleton);break;case"Mesh":A=s(e.geometry),o=l(e.material),a=new ql(A,o);break;case"InstancedMesh":A=s(e.geometry),o=l(e.material);var c=e.count,f=e.instanceMatrix,d=e.instanceColor;(a=new Vd(A,o,c)).instanceMatrix=new Ld(new Float32Array(f.array),16),void 0!==d&&(a.instanceColor=new Ld(new Float32Array(d.array),d.itemSize));break;case"LOD":a=new _d;break;case"Line":a=new Yd(s(e.geometry),l(e.material));break;case"LineLoop":a=new eh(s(e.geometry),l(e.material));break;case"LineSegments":a=new $d(s(e.geometry),l(e.material));break;case"PointCloud":case"Points":a=new Ah(s(e.geometry),l(e.material));break;case"Sprite":a=new gd(l(e.material));break;case"Group":a=new Vf;break;case"Bone":a=new Bd;break;default:a=new zs}if(a.uuid=e.uuid,void 0!==e.name&&(a.name=e.name),void 0!==e.matrix?(a.matrix.fromArray(e.matrix),void 0!==e.matrixAutoUpdate&&(a.matrixAutoUpdate=e.matrixAutoUpdate),a.matrixAutoUpdate&&a.matrix.decompose(a.position,a.quaternion,a.scale)):(void 0!==e.position&&a.position.fromArray(e.position),void 0!==e.rotation&&a.rotation.fromArray(e.rotation),void 0!==e.quaternion&&a.quaternion.fromArray(e.quaternion),void 0!==e.scale&&a.scale.fromArray(e.scale)),void 0!==e.up&&a.up.fromArray(e.up),void 0!==e.castShadow&&(a.castShadow=e.castShadow),void 0!==e.receiveShadow&&(a.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.bias&&(a.shadow.bias=e.shadow.bias),void 0!==e.shadow.normalBias&&(a.shadow.normalBias=e.shadow.normalBias),void 0!==e.shadow.radius&&(a.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&a.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera&&(a.shadow.camera=this.parseObject(e.shadow.camera))),void 0!==e.visible&&(a.visible=e.visible),void 0!==e.frustumCulled&&(a.frustumCulled=e.frustumCulled),void 0!==e.renderOrder&&(a.renderOrder=e.renderOrder),void 0!==e.userData&&(a.userData=e.userData),void 0!==e.layers&&(a.layers.mask=e.layers),void 0!==e.children)for(var h=e.children,p=0;p<h.length;p++)a.add(this.parseObject(h[p],t,n,r,i));if(void 0!==e.animations)for(var v=e.animations,m=0;m<v.length;m++){var g=v[m];a.animations.push(i[g])}if("LOD"===e.type){void 0!==e.autoUpdate&&(a.autoUpdate=e.autoUpdate);for(var y=e.levels,b=0;b<y.length;b++){var x=y[b],_=a.getObjectByProperty("uuid",x.object);void 0!==_&&a.addLevel(_,x.distance,x.hysteresis)}}return a}},{key:"bindSkeletons",value:function(e,t){0!==Object.keys(t).length&&e.traverse((function(e){if(!0===e.isSkinnedMesh&&void 0!==e.skeleton){var n=t[e.skeleton];void 0===n?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",e.skeleton):e.bind(n,e.bindMatrix)}}))}}]),n}(mv),qv={UVMapping:Pi,CubeReflectionMapping:Ii,CubeRefractionMapping:Di,EquirectangularReflectionMapping:Li,EquirectangularRefractionMapping:Ui,CubeUVReflectionMapping:Ni},Zv={RepeatWrapping:Oi,ClampToEdgeWrapping:Fi,MirroredRepeatWrapping:zi},$v={NearestFilter:Gi,NearestMipmapNearestFilter:Hi,NearestMipmapLinearFilter:Wi,LinearFilter:Qi,LinearMipmapNearestFilter:Xi,LinearMipmapLinearFilter:Ki},em=function(e){br(n,e);var t=Er(n);function n(e){var r;return vr(this,n),(r=t.call(this,e)).isImageBitmapLoader=!0,"undefined"===typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"===typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),r.options={premultiplyAlpha:"none"},r}return gr(n,[{key:"setOptions",value:function(e){return this.options=e,this}},{key:"load",value:function(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,a=hv.get(e);if(void 0!==a)return i.manager.itemStart(e),setTimeout((function(){t&&t(a),i.manager.itemEnd(e)}),0),a;var A={};A.credentials="anonymous"===this.crossOrigin?"same-origin":"include",A.headers=this.requestHeader,fetch(e,A).then((function(e){return e.blob()})).then((function(e){return createImageBitmap(e,Object.assign(i.options,{colorSpaceConversion:"none"}))})).then((function(n){hv.add(e,n),t&&t(n),i.manager.itemEnd(e)})).catch((function(t){r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)})),i.manager.itemStart(e)}}]),n}(mv),tm=function(){function e(){vr(this,e)}return gr(e,null,[{key:"getContext",value:function(){return void 0===dv&&(dv=new(window.AudioContext||window.webkitAudioContext)),dv}},{key:"setContext",value:function(e){dv=e}}]),e}(),nm=function(e){br(n,e);var t=Er(n);function n(e){return vr(this,n),t.call(this,e)}return gr(n,[{key:"load",value:function(e,t,n,r){var i=this,a=new bv(this.manager);function A(t){r?r(t):console.error(t),i.manager.itemError(e)}a.setResponseType("arraybuffer"),a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,(function(e){try{var n=e.slice(0);tm.getContext().decodeAudioData(n,(function(e){t(e)}),A)}catch(r){A(r)}}),n,r)}}]),n}(mv),rm=function(e){br(n,e);var t=Er(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;vr(this,n),(i=t.call(this,void 0,a)).isHemisphereLightProbe=!0;var A=(new al).set(e),o=(new al).set(r),s=new Fo(A.r,A.g,A.b),l=new Fo(o.r,o.g,o.b),u=Math.sqrt(Math.PI),c=u*Math.sqrt(.75);return i.sh.coefficients[0].copy(s).add(l).multiplyScalar(u),i.sh.coefficients[1].copy(s).sub(l).multiplyScalar(c),i}return gr(n)}(jv),im=function(e){br(n,e);var t=Er(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;vr(this,n),(r=t.call(this,void 0,i)).isAmbientLightProbe=!0;var a=(new al).set(e);return r.sh.coefficients[0].set(a.r,a.g,a.b).multiplyScalar(2*Math.sqrt(Math.PI)),r}return gr(n)}(jv),am=new ps,Am=new ps,om=new ps,sm=function(){function e(){vr(this,e),this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Au,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Au,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}return gr(e,[{key:"update",value:function(e){var t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,om.copy(e.projectionMatrix);var n,r,i=t.eyeSep/2,a=i*t.near/t.focus,A=t.near*Math.tan(YA*t.fov*.5)/t.zoom;Am.elements[12]=-i,am.elements[12]=i,n=-A*t.aspect+a,r=A*t.aspect+a,om.elements[0]=2*t.near/(r-n),om.elements[8]=(r+n)/(r-n),this.cameraL.projectionMatrix.copy(om),n=-A*t.aspect-a,r=A*t.aspect-a,om.elements[0]=2*t.near/(r-n),om.elements[8]=(r+n)/(r-n),this.cameraR.projectionMatrix.copy(om)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(Am),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(am)}}]),e}(),lm=function(){function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];vr(this,e),this.autoStart=t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}return gr(e,[{key:"start",value:function(){this.startTime=um(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}},{key:"stop",value:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}},{key:"getElapsedTime",value:function(){return this.getDelta(),this.elapsedTime}},{key:"getDelta",value:function(){var e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var t=um();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}]),e}();function um(){return("undefined"===typeof performance?Date:performance).now()}var cm=new Fo,fm=new Oo,dm=new Fo,hm=new Fo,pm=function(e){br(n,e);var t=Er(n);function n(){var e;return vr(this,n),(e=t.call(this)).type="AudioListener",e.context=tm.getContext(),e.gain=e.context.createGain(),e.gain.connect(e.context.destination),e.filter=null,e.timeDelta=0,e._clock=new lm,e}return gr(n,[{key:"getInput",value:function(){return this.gain}},{key:"removeFilter",value:function(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}},{key:"getFilter",value:function(){return this.filter}},{key:"setFilter",value:function(e){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}},{key:"getMasterVolume",value:function(){return this.gain.gain.value}},{key:"setMasterVolume",value:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}},{key:"updateMatrixWorld",value:function(e){Br(xr(n.prototype),"updateMatrixWorld",this).call(this,e);var t=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(cm,fm,dm),hm.set(0,0,-1).applyQuaternion(fm),t.positionX){var i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(cm.x,i),t.positionY.linearRampToValueAtTime(cm.y,i),t.positionZ.linearRampToValueAtTime(cm.z,i),t.forwardX.linearRampToValueAtTime(hm.x,i),t.forwardY.linearRampToValueAtTime(hm.y,i),t.forwardZ.linearRampToValueAtTime(hm.z,i),t.upX.linearRampToValueAtTime(r.x,i),t.upY.linearRampToValueAtTime(r.y,i),t.upZ.linearRampToValueAtTime(r.z,i)}else t.setPosition(cm.x,cm.y,cm.z),t.setOrientation(hm.x,hm.y,hm.z,r.x,r.y,r.z)}}]),n}(zs),vm=function(e){br(n,e);var t=Er(n);function n(e){var r;return vr(this,n),(r=t.call(this)).type="Audio",r.listener=e,r.context=e.context,r.gain=r.context.createGain(),r.gain.connect(e.getInput()),r.autoplay=!1,r.buffer=null,r.detune=0,r.loop=!1,r.loopStart=0,r.loopEnd=0,r.offset=0,r.duration=void 0,r.playbackRate=1,r.isPlaying=!1,r.hasPlaybackControl=!0,r.source=null,r.sourceType="empty",r._startedAt=0,r._progress=0,r._connected=!1,r.filters=[],r}return gr(n,[{key:"getOutput",value:function(){return this.gain}},{key:"setNodeSource",value:function(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}},{key:"setMediaElementSource",value:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}},{key:"setMediaStreamSource",value:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}},{key:"setBuffer",value:function(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}},{key:"play",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!0!==this.isPlaying){if(!1!==this.hasPlaybackControl){this._startedAt=this.context.currentTime+e;var t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}console.warn("THREE.Audio: this Audio has no playback control.")}else console.warn("THREE.Audio: Audio is already playing.")}},{key:"pause",value:function(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"stop",value:function(){if(!1!==this.hasPlaybackControl)return this._progress=0,null!==this.source&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"connect",value:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}},{key:"disconnect",value:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}},{key:"getFilters",value:function(){return this.filters}},{key:"setFilters",value:function(e){return e||(e=[]),!0===this._connected?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}},{key:"setDetune",value:function(e){if(this.detune=e,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}},{key:"getDetune",value:function(){return this.detune}},{key:"getFilter",value:function(){return this.getFilters()[0]}},{key:"setFilter",value:function(e){return this.setFilters(e?[e]:[])}},{key:"setPlaybackRate",value:function(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"getPlaybackRate",value:function(){return this.playbackRate}},{key:"onEnded",value:function(){this.isPlaying=!1}},{key:"getLoop",value:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}},{key:"setLoop",value:function(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"setLoopStart",value:function(e){return this.loopStart=e,this}},{key:"setLoopEnd",value:function(e){return this.loopEnd=e,this}},{key:"getVolume",value:function(){return this.gain.gain.value}},{key:"setVolume",value:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}]),n}(zs),mm=new Fo,gm=new Oo,ym=new Fo,bm=new Fo,xm=function(e){br(n,e);var t=Er(n);function n(e){var r;return vr(this,n),(r=t.call(this,e)).panner=r.context.createPanner(),r.panner.panningModel="HRTF",r.panner.connect(r.gain),r}return gr(n,[{key:"disconnect",value:function(){Br(xr(n.prototype),"disconnect",this).call(this),this.panner.disconnect(this.gain)}},{key:"getOutput",value:function(){return this.panner}},{key:"getRefDistance",value:function(){return this.panner.refDistance}},{key:"setRefDistance",value:function(e){return this.panner.refDistance=e,this}},{key:"getRolloffFactor",value:function(){return this.panner.rolloffFactor}},{key:"setRolloffFactor",value:function(e){return this.panner.rolloffFactor=e,this}},{key:"getDistanceModel",value:function(){return this.panner.distanceModel}},{key:"setDistanceModel",value:function(e){return this.panner.distanceModel=e,this}},{key:"getMaxDistance",value:function(){return this.panner.maxDistance}},{key:"setMaxDistance",value:function(e){return this.panner.maxDistance=e,this}},{key:"setDirectionalCone",value:function(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this}},{key:"updateMatrixWorld",value:function(e){if(Br(xr(n.prototype),"updateMatrixWorld",this).call(this,e),!0!==this.hasPlaybackControl||!1!==this.isPlaying){this.matrixWorld.decompose(mm,gm,ym),bm.set(0,0,1).applyQuaternion(gm);var t=this.panner;if(t.positionX){var r=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(mm.x,r),t.positionY.linearRampToValueAtTime(mm.y,r),t.positionZ.linearRampToValueAtTime(mm.z,r),t.orientationX.linearRampToValueAtTime(bm.x,r),t.orientationY.linearRampToValueAtTime(bm.y,r),t.orientationZ.linearRampToValueAtTime(bm.z,r)}else t.setPosition(mm.x,mm.y,mm.z),t.setOrientation(bm.x,bm.y,bm.z)}}}]),n}(vm),_m=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2048;vr(this,e),this.analyser=t.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}return gr(e,[{key:"getFrequencyData",value:function(){return this.analyser.getByteFrequencyData(this.data),this.data}},{key:"getAverageFrequency",value:function(){for(var e=0,t=this.getFrequencyData(),n=0;n<t.length;n++)e+=t[n];return e/t.length}}]),e}(),wm=function(){function e(t,n,r){var i,a,A;switch(vr(this,e),this.binding=t,this.valueSize=r,n){case"quaternion":i=this._slerp,a=this._slerpAdditive,A=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*r),this._workIndex=5;break;case"string":case"bool":i=this._select,a=this._select,A=this._setAdditiveIdentityOther,this.buffer=new Array(5*r);break;default:i=this._lerp,a=this._lerpAdditive,A=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*r)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=a,this._setIdentity=A,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}return gr(e,[{key:"accumulate",value:function(e,t){var n=this.buffer,r=this.valueSize,i=e*r+r,a=this.cumulativeWeight;if(0===a){for(var A=0;A!==r;++A)n[i+A]=n[A];a=t}else{var o=t/(a+=t);this._mixBufferRegion(n,i,0,o,r)}this.cumulativeWeight=a}},{key:"accumulateAdditive",value:function(e){var t=this.buffer,n=this.valueSize,r=n*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,n),this.cumulativeWeightAdditive+=e}},{key:"apply",value:function(e){var t=this.valueSize,n=this.buffer,r=e*t+t,i=this.cumulativeWeight,a=this.cumulativeWeightAdditive,A=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,i<1){var o=t*this._origIndex;this._mixBufferRegion(n,r,o,1-i,t)}a>0&&this._mixBufferRegionAdditive(n,r,this._addIndex*t,1,t);for(var s=t,l=t+t;s!==l;++s)if(n[s]!==n[s+t]){A.setValue(n,r);break}}},{key:"saveOriginalState",value:function(){var e=this.binding,t=this.buffer,n=this.valueSize,r=n*this._origIndex;e.getValue(t,r);for(var i=n,a=r;i!==a;++i)t[i]=t[r+i%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}},{key:"restoreOriginalState",value:function(){var e=3*this.valueSize;this.binding.setValue(this.buffer,e)}},{key:"_setAdditiveIdentityNumeric",value:function(){for(var e=this._addIndex*this.valueSize,t=e+this.valueSize,n=e;n<t;n++)this.buffer[n]=0}},{key:"_setAdditiveIdentityQuaternion",value:function(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}},{key:"_setAdditiveIdentityOther",value:function(){for(var e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize,n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]}},{key:"_select",value:function(e,t,n,r,i){if(r>=.5)for(var a=0;a!==i;++a)e[t+a]=e[n+a]}},{key:"_slerp",value:function(e,t,n,r){Oo.slerpFlat(e,t,e,t,e,n,r)}},{key:"_slerpAdditive",value:function(e,t,n,r,i){var a=this._workIndex*i;Oo.multiplyQuaternionsFlat(e,a,e,t,e,n),Oo.slerpFlat(e,t,e,t,e,a,r)}},{key:"_lerp",value:function(e,t,n,r,i){for(var a=1-r,A=0;A!==i;++A){var o=t+A;e[o]=e[o]*a+e[n+A]*r}}},{key:"_lerpAdditive",value:function(e,t,n,r,i){for(var a=0;a!==i;++a){var A=t+a;e[A]=e[A]+e[n+a]*r}}}]),e}(),Em="\\[\\]\\.:\\/",Mm=new RegExp("["+Em+"]","g"),Sm="[^"+Em+"]",Cm="[^"+Em.replace("\\.","")+"]",Tm=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",Sm)+/(WCOD+)?/.source.replace("WCOD",Cm)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Sm)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Sm)+"$"),km=["material","materials","bones","map"],Bm=function(){function e(t,n,r){vr(this,e);var i=r||Rm.parseTrackName(n);this._targetGroup=t,this._bindings=t.subscribe_(n,i)}return gr(e,[{key:"getValue",value:function(e,t){this.bind();var n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(e,t)}},{key:"setValue",value:function(e,t){for(var n=this._bindings,r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(e,t)}},{key:"bind",value:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}},{key:"unbind",value:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}]),e}(),Rm=function(){function e(t,n,r){vr(this,e),this.path=n,this.parsedPath=r||e.parseTrackName(n),this.node=e.findNode(t,this.parsedPath.nodeName),this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}return gr(e,[{key:"_getValue_unavailable",value:function(){}},{key:"_setValue_unavailable",value:function(){}},{key:"_getValue_direct",value:function(e,t){e[t]=this.targetObject[this.propertyName]}},{key:"_getValue_array",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)e[t++]=n[r]}},{key:"_getValue_arrayElement",value:function(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}},{key:"_getValue_toArray",value:function(e,t){this.resolvedProperty.toArray(e,t)}},{key:"_setValue_direct",value:function(e,t){this.targetObject[this.propertyName]=e[t]}},{key:"_setValue_direct_setNeedsUpdate",value:function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}},{key:"_setValue_direct_setMatrixWorldNeedsUpdate",value:function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_array",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++]}},{key:"_setValue_array_setNeedsUpdate",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0}},{key:"_setValue_array_setMatrixWorldNeedsUpdate",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_arrayElement",value:function(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}},{key:"_setValue_arrayElement_setNeedsUpdate",value:function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}},{key:"_setValue_arrayElement_setMatrixWorldNeedsUpdate",value:function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_fromArray",value:function(e,t){this.resolvedProperty.fromArray(e,t)}},{key:"_setValue_fromArray_setNeedsUpdate",value:function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}},{key:"_setValue_fromArray_setMatrixWorldNeedsUpdate",value:function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_getValue_unbound",value:function(e,t){this.bind(),this.getValue(e,t)}},{key:"_setValue_unbound",value:function(e,t){this.bind(),this.setValue(e,t)}},{key:"bind",value:function(){var t=this.node,n=this.parsedPath,r=n.objectName,i=n.propertyName,a=n.propertyIndex;if(t||(t=e.findNode(this.rootNode,n.nodeName),this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,t){if(r){var A=n.objectIndex;switch(r){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(var o=0;o<t.length;o++)if(t[o].name===A){A=o;break}break;case"map":if("map"in t){t=t.map;break}if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.map)return void console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);t=t.material.map;break;default:if(void 0===t[r])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[r]}if(void 0!==A){if(void 0===t[A])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[A]}}var s=t[i];if(void 0!==s){var l=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?l=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(l=this.Versioning.MatrixWorldNeedsUpdate);var u=this.BindingType.Direct;if(void 0!==a){if("morphTargetInfluences"===i){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==t.morphTargetDictionary[a]&&(a=t.morphTargetDictionary[a])}u=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=a}else void 0!==s.fromArray&&void 0!==s.toArray?(u=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(u=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=i;this.getValue=this.GetterByBindingType[u],this.setValue=this.SetterByBindingTypeAndVersioning[u][l]}else{var c=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+i+" but it wasn't found.",t)}}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")}},{key:"unbind",value:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}],[{key:"create",value:function(t,n,r){return t&&t.isAnimationObjectGroup?new e.Composite(t,n,r):new e(t,n,r)}},{key:"sanitizeNodeName",value:function(e){return e.replace(/\s/g,"_").replace(Mm,"")}},{key:"parseTrackName",value:function(e){var t=Tm.exec(e);if(null===t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);var n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){var i=n.nodeName.substring(r+1);-1!==km.indexOf(i)&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=i)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}},{key:"findNode",value:function(e,t){if(void 0===t||""===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){var n=e.skeleton.getBoneByName(t);if(void 0!==n)return n}if(e.children){var r=function e(n){for(var r=0;r<n.length;r++){var i=n[r];if(i.name===t||i.uuid===t)return i;var a=e(i.children);if(a)return a}return null}(e.children);if(r)return r}return null}}]),e}();Rm.Composite=Bm,Rm.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Rm.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},Rm.prototype.GetterByBindingType=[Rm.prototype._getValue_direct,Rm.prototype._getValue_array,Rm.prototype._getValue_arrayElement,Rm.prototype._getValue_toArray],Rm.prototype.SetterByBindingTypeAndVersioning=[[Rm.prototype._setValue_direct,Rm.prototype._setValue_direct_setNeedsUpdate,Rm.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Rm.prototype._setValue_array,Rm.prototype._setValue_array_setNeedsUpdate,Rm.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Rm.prototype._setValue_arrayElement,Rm.prototype._setValue_arrayElement_setNeedsUpdate,Rm.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Rm.prototype._setValue_fromArray,Rm.prototype._setValue_fromArray_setNeedsUpdate,Rm.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];var Pm=function(){function e(){vr(this,e),this.isAnimationObjectGroup=!0,this.uuid=ZA(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var t={};this._indicesByUUID=t;for(var n=0,r=arguments.length;n!==r;++n)t[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var i=this;this.stats={objects:{get total(){return i._objects.length},get inUse(){return this.total-i.nCachedObjects_}},get bindingsPerObject(){return i._bindings.length}}}return gr(e,[{key:"add",value:function(){for(var e=this._objects,t=this._indicesByUUID,n=this._paths,r=this._parsedPaths,i=this._bindings,a=i.length,A=void 0,o=e.length,s=this.nCachedObjects_,l=0,u=arguments.length;l!==u;++l){var c=arguments[l],f=c.uuid,d=t[f];if(void 0===d){d=o++,t[f]=d,e.push(c);for(var h=0,p=a;h!==p;++h)i[h].push(new Rm(c,n[h],r[h]))}else if(d<s){A=e[d];var v=--s,m=e[v];t[m.uuid]=d,e[d]=m,t[f]=v,e[v]=c;for(var g=0,y=a;g!==y;++g){var b=i[g],x=b[v],_=b[d];b[d]=x,void 0===_&&(_=new Rm(c,n[g],r[g])),b[v]=_}}else e[d]!==A&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=s}},{key:"remove",value:function(){for(var e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length,i=this.nCachedObjects_,a=0,A=arguments.length;a!==A;++a){var o=arguments[a],s=o.uuid,l=t[s];if(void 0!==l&&l>=i){var u=i++,c=e[u];t[c.uuid]=l,e[l]=c,t[s]=u,e[u]=o;for(var f=0,d=r;f!==d;++f){var h=n[f],p=h[u],v=h[l];h[l]=p,h[u]=v}}}this.nCachedObjects_=i}},{key:"uncache",value:function(){for(var e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length,i=this.nCachedObjects_,a=e.length,A=0,o=arguments.length;A!==o;++A){var s=arguments[A].uuid,l=t[s];if(void 0!==l)if(delete t[s],l<i){var u=--i,c=e[u],f=--a,d=e[f];t[c.uuid]=l,e[l]=c,t[d.uuid]=u,e[u]=d,e.pop();for(var h=0,p=r;h!==p;++h){var v=n[h],m=v[u],g=v[f];v[l]=m,v[u]=g,v.pop()}}else{var y=--a,b=e[y];y>0&&(t[b.uuid]=l),e[l]=b,e.pop();for(var x=0,_=r;x!==_;++x){var w=n[x];w[l]=w[y],w.pop()}}}this.nCachedObjects_=i}},{key:"subscribe_",value:function(e,t){var n=this._bindingsIndicesByPath,r=n[e],i=this._bindings;if(void 0!==r)return i[r];var a=this._paths,A=this._parsedPaths,o=this._objects,s=o.length,l=this.nCachedObjects_,u=new Array(s);r=i.length,n[e]=r,a.push(e),A.push(t),i.push(u);for(var c=l,f=o.length;c!==f;++c){var d=o[c];u[c]=new Rm(d,e,t)}return u}},{key:"unsubscribe_",value:function(e){var t=this._bindingsIndicesByPath,n=t[e];if(void 0!==n){var r=this._paths,i=this._parsedPaths,a=this._bindings,A=a.length-1,o=a[A];t[e[A]]=n,a[n]=o,a.pop(),i[n]=i[A],i.pop(),r[n]=r[A],r.pop()}}}]),e}(),Im=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n.blendMode;vr(this,e),this._mixer=t,this._clip=n,this._localRoot=r,this.blendMode=i;for(var a=n.tracks,A=a.length,o=new Array(A),s={endingStart:tA,endingEnd:tA},l=0;l!==A;++l){var u=a[l].createInterpolant(null);o[l]=u,u.settings=s}this._interpolantSettings=s,this._interpolants=o,this._propertyBindings=new Array(A),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Ya,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}return gr(e,[{key:"play",value:function(){return this._mixer._activateAction(this),this}},{key:"stop",value:function(){return this._mixer._deactivateAction(this),this.reset()}},{key:"reset",value:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}},{key:"isRunning",value:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}},{key:"isScheduled",value:function(){return this._mixer._isActiveAction(this)}},{key:"startAt",value:function(e){return this._startTime=e,this}},{key:"setLoop",value:function(e,t){return this.loop=e,this.repetitions=t,this}},{key:"setEffectiveWeight",value:function(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}},{key:"getEffectiveWeight",value:function(){return this._effectiveWeight}},{key:"fadeIn",value:function(e){return this._scheduleFading(e,0,1)}},{key:"fadeOut",value:function(e){return this._scheduleFading(e,1,0)}},{key:"crossFadeFrom",value:function(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){var r=this._clip.duration,i=e._clip.duration,a=i/r,A=r/i;e.warp(1,a,t),this.warp(A,1,t)}return this}},{key:"crossFadeTo",value:function(e,t,n){return e.crossFadeFrom(this,t,n)}},{key:"stopFading",value:function(){var e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}},{key:"setEffectiveTimeScale",value:function(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}},{key:"getEffectiveTimeScale",value:function(){return this._effectiveTimeScale}},{key:"setDuration",value:function(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}},{key:"syncWith",value:function(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}},{key:"halt",value:function(e){return this.warp(this._effectiveTimeScale,0,e)}},{key:"warp",value:function(e,t,n){var r=this._mixer,i=r.time,a=this.timeScale,A=this._timeScaleInterpolant;null===A&&(A=r._lendControlInterpolant(),this._timeScaleInterpolant=A);var o=A.parameterPositions,s=A.sampleValues;return o[0]=i,o[1]=i+n,s[0]=e/a,s[1]=t/a,this}},{key:"stopWarping",value:function(){var e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}},{key:"getMixer",value:function(){return this._mixer}},{key:"getClip",value:function(){return this._clip}},{key:"getRoot",value:function(){return this._localRoot||this._mixer._root}},{key:"_update",value:function(e,t,n,r){if(this.enabled){var i=this._startTime;if(null!==i){var a=(e-i)*n;a<0||0===n?t=0:(this._startTime=null,t=n*a)}t*=this._updateTimeScale(e);var A=this._updateTime(t),o=this._updateWeight(e);if(o>0){var s=this._interpolants,l=this._propertyBindings;if(this.blendMode===aA)for(var u=0,c=s.length;u!==c;++u)s[u].evaluate(A),l[u].accumulateAdditive(o);else for(var f=0,d=s.length;f!==d;++f)s[f].evaluate(A),l[f].accumulate(r,o)}}else this._updateWeight(e)}},{key:"_updateWeight",value:function(e){var t=0;if(this.enabled){t=this.weight;var n=this._weightInterpolant;if(null!==n){var r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=t,t}},{key:"_updateTimeScale",value:function(e){var t=0;if(!this.paused){t=this.timeScale;var n=this._timeScaleInterpolant;if(null!==n)t*=n.evaluate(e)[0],e>n.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t)}return this._effectiveTimeScale=t,t}},{key:"_updateTime",value:function(e){var t=this._clip.duration,n=this.loop,r=this.time+e,i=this._loopCount,a=n===qa;if(0===e)return-1===i?r:a&&1===(1&i)?t-r:r;if(n===Ka){-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else{if(!(r<0)){this.time=r;break e}r=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===i&&(e>=0?(i=0,this._setEndings(!0,0===this.repetitions,a)):this._setEndings(0===this.repetitions,!0,a)),r>=t||r<0){var A=Math.floor(r/t);r-=t*A,i+=Math.abs(A);var o=this.repetitions-i;if(o<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===o){var s=e<0;this._setEndings(s,!s,a)}else this._setEndings(!1,!1,a);this._loopCount=i,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:A})}}else this.time=r;if(a&&1===(1&i))return t-r}return r}},{key:"_setEndings",value:function(e,t,n){var r=this._interpolantSettings;n?(r.endingStart=nA,r.endingEnd=nA):(r.endingStart=e?this.zeroSlopeAtStart?nA:tA:rA,r.endingEnd=t?this.zeroSlopeAtEnd?nA:tA:rA)}},{key:"_scheduleFading",value:function(e,t,n){var r=this._mixer,i=r.time,a=this._weightInterpolant;null===a&&(a=r._lendControlInterpolant(),this._weightInterpolant=a);var A=a.parameterPositions,o=a.sampleValues;return A[0]=i,o[0]=t,A[1]=i+e,o[1]=n,this}}]),e}(),Dm=new Float32Array(1),Lm=function(e){br(n,e);var t=Er(n);function n(e){var r;return vr(this,n),(r=t.call(this))._root=e,r._initMemoryManager(),r._accuIndex=0,r.time=0,r.timeScale=1,r}return gr(n,[{key:"_bindAction",value:function(e,t){var n=e._localRoot||this._root,r=e._clip.tracks,i=r.length,a=e._propertyBindings,A=e._interpolants,o=n.uuid,s=this._bindingsByRootAndName,l=s[o];void 0===l&&(l={},s[o]=l);for(var u=0;u!==i;++u){var c=r[u],f=c.name,d=l[f];if(void 0!==d)++d.referenceCount,a[u]=d;else{if(void 0!==(d=a[u])){null===d._cacheIndex&&(++d.referenceCount,this._addInactiveBinding(d,o,f));continue}var h=t&&t._propertyBindings[u].binding.parsedPath;++(d=new wm(Rm.create(n,f,h),c.ValueTypeName,c.getValueSize())).referenceCount,this._addInactiveBinding(d,o,f),a[u]=d}A[u].resultBuffer=d.buffer}}},{key:"_activateAction",value:function(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){var t=(e._localRoot||this._root).uuid,n=e._clip.uuid,r=this._actionsByClip[n];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,n,t)}for(var i=e._propertyBindings,a=0,A=i.length;a!==A;++a){var o=i[a];0===o.useCount++&&(this._lendBinding(o),o.saveOriginalState())}this._lendAction(e)}}},{key:"_deactivateAction",value:function(e){if(this._isActiveAction(e)){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var i=t[n];0===--i.useCount&&(i.restoreOriginalState(),this._takeBackBinding(i))}this._takeBackAction(e)}}},{key:"_initMemoryManager",value:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}},{key:"_isActiveAction",value:function(e){var t=e._cacheIndex;return null!==t&&t<this._nActiveActions}},{key:"_addInactiveAction",value:function(e,t,n){var r=this._actions,i=this._actionsByClip,a=i[t];if(void 0===a)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,i[t]=a;else{var A=a.knownActions;e._byClipCacheIndex=A.length,A.push(e)}e._cacheIndex=r.length,r.push(e),a.actionByRoot[n]=e}},{key:"_removeInactiveAction",value:function(e){var t=this._actions,n=t[t.length-1],r=e._cacheIndex;n._cacheIndex=r,t[r]=n,t.pop(),e._cacheIndex=null;var i=e._clip.uuid,a=this._actionsByClip,A=a[i],o=A.knownActions,s=o[o.length-1],l=e._byClipCacheIndex;s._byClipCacheIndex=l,o[l]=s,o.pop(),e._byClipCacheIndex=null,delete A.actionByRoot[(e._localRoot||this._root).uuid],0===o.length&&delete a[i],this._removeInactiveBindingsForAction(e)}},{key:"_removeInactiveBindingsForAction",value:function(e){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var i=t[n];0===--i.referenceCount&&this._removeInactiveBinding(i)}}},{key:"_lendAction",value:function(e){var t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}},{key:"_takeBackAction",value:function(e){var t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}},{key:"_addInactiveBinding",value:function(e,t,n){var r=this._bindingsByRootAndName,i=this._bindings,a=r[t];void 0===a&&(a={},r[t]=a),a[n]=e,e._cacheIndex=i.length,i.push(e)}},{key:"_removeInactiveBinding",value:function(e){var t=this._bindings,n=e.binding,r=n.rootNode.uuid,i=n.path,a=this._bindingsByRootAndName,A=a[r],o=t[t.length-1],s=e._cacheIndex;o._cacheIndex=s,t[s]=o,t.pop(),delete A[i],0===Object.keys(A).length&&delete a[r]}},{key:"_lendBinding",value:function(e){var t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}},{key:"_takeBackBinding",value:function(e){var t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}},{key:"_lendControlInterpolant",value:function(){var e=this._controlInterpolants,t=this._nActiveControlInterpolants++,n=e[t];return void 0===n&&((n=new tv(new Float32Array(2),new Float32Array(2),1,Dm)).__cacheIndex=t,e[t]=n),n}},{key:"_takeBackControlInterpolant",value:function(e){var t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,i=t[r];e.__cacheIndex=r,t[r]=e,i.__cacheIndex=n,t[n]=i}},{key:"clipAction",value:function(e,t,n){var r=t||this._root,i=r.uuid,a="string"===typeof e?cv.findByName(r,e):e,A=null!==a?a.uuid:e,o=this._actionsByClip[A],s=null;if(void 0===n&&(n=null!==a?a.blendMode:iA),void 0!==o){var l=o.actionByRoot[i];if(void 0!==l&&l.blendMode===n)return l;s=o.knownActions[0],null===a&&(a=s._clip)}if(null===a)return null;var u=new Im(this,a,t,n);return this._bindAction(u,s),this._addInactiveAction(u,A,i),u}},{key:"existingAction",value:function(e,t){var n=t||this._root,r=n.uuid,i="string"===typeof e?cv.findByName(n,e):e,a=i?i.uuid:e,A=this._actionsByClip[a];return void 0!==A&&A.actionByRoot[r]||null}},{key:"stopAllAction",value:function(){for(var e=this._actions,t=this._nActiveActions-1;t>=0;--t)e[t].stop();return this}},{key:"update",value:function(e){e*=this.timeScale;for(var t=this._actions,n=this._nActiveActions,r=this.time+=e,i=Math.sign(e),a=this._accuIndex^=1,A=0;A!==n;++A){t[A]._update(r,e,i,a)}for(var o=this._bindings,s=this._nActiveBindings,l=0;l!==s;++l)o[l].apply(a);return this}},{key:"setTime",value:function(e){this.time=0;for(var t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}},{key:"getRoot",value:function(){return this._root}},{key:"uncacheClip",value:function(e){var t=this._actions,n=e.uuid,r=this._actionsByClip,i=r[n];if(void 0!==i){for(var a=i.knownActions,A=0,o=a.length;A!==o;++A){var s=a[A];this._deactivateAction(s);var l=s._cacheIndex,u=t[t.length-1];s._cacheIndex=null,s._byClipCacheIndex=null,u._cacheIndex=l,t[l]=u,t.pop(),this._removeInactiveBindingsForAction(s)}delete r[n]}}},{key:"uncacheRoot",value:function(e){var t=e.uuid,n=this._actionsByClip;for(var r in n){var i=n[r].actionByRoot[t];void 0!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}var a=this._bindingsByRootAndName[t];if(void 0!==a)for(var A in a){var o=a[A];o.restoreOriginalState(),this._removeInactiveBinding(o)}}},{key:"uncacheAction",value:function(e,t){var n=this.existingAction(e,t);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}]),n}(XA),Um=function(){function e(t){vr(this,e),this.value=t}return gr(e,[{key:"clone",value:function(){return new e(void 0===this.value.clone?this.value:this.value.clone())}}]),e}(),Nm=0,Om=function(e){br(n,e);var t=Er(n);function n(){var e;return vr(this,n),(e=t.call(this)).isUniformsGroup=!0,Object.defineProperty(wr(e),"id",{value:Nm++}),e.name="",e.usage=LA,e.uniforms=[],e}return gr(n,[{key:"add",value:function(e){return this.uniforms.push(e),this}},{key:"remove",value:function(e){var t=this.uniforms.indexOf(e);return-1!==t&&this.uniforms.splice(t,1),this}},{key:"setName",value:function(e){return this.name=e,this}},{key:"setUsage",value:function(e){return this.usage=e,this}},{key:"dispose",value:function(){return this.dispatchEvent({type:"dispose"}),this}},{key:"copy",value:function(e){this.name=e.name,this.usage=e.usage;var t=e.uniforms;this.uniforms.length=0;for(var n=0,r=t.length;n<r;n++)this.uniforms.push(t[n].clone());return this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),n}(XA),Fm=function(e){br(n,e);var t=Er(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return vr(this,n),(i=t.call(this,e,r)).isInstancedInterleavedBuffer=!0,i.meshPerAttribute=a,i}return gr(n,[{key:"copy",value:function(e){return Br(xr(n.prototype),"copy",this).call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}},{key:"clone",value:function(e){var t=Br(xr(n.prototype),"clone",this).call(this,e);return t.meshPerAttribute=this.meshPerAttribute,t}},{key:"toJSON",value:function(e){var t=Br(xr(n.prototype),"toJSON",this).call(this,e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}]),n}(nd),zm=function(){function e(t,n,r,i,a){vr(this,e),this.isGLBufferAttribute=!0,this.name="",this.buffer=t,this.type=n,this.itemSize=r,this.elementSize=i,this.count=a,this.version=0}return gr(e,[{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"setBuffer",value:function(e){return this.buffer=e,this}},{key:"setType",value:function(e,t){return this.type=e,this.elementSize=t,this}},{key:"setItemSize",value:function(e){return this.itemSize=e,this}},{key:"setCount",value:function(e){return this.count=e,this}}]),e}(),Gm=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0;vr(this,e),this.ray=new hs(t,n),this.near=r,this.far=i,this.camera=null,this.layers=new Ss,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}return gr(e,[{key:"set",value:function(e,t){this.ray.set(e,t)}},{key:"setFromCamera",value:function(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}},{key:"intersectObject",value:function(e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return Vm(e,this,t,!(arguments.length>1&&void 0!==arguments[1])||arguments[1]),t.sort(Hm),t}},{key:"intersectObjects",value:function(e){for(var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=0,i=e.length;r<i;r++)Vm(e[r],this,n,t);return n.sort(Hm),n}}]),e}();function Hm(e,t){return e.distance-t.distance}function Vm(e,t,n,r){if(e.layers.test(t.layers)&&e.raycast(t,n),!0===r)for(var i=e.children,a=0,A=i.length;a<A;a++)Vm(i[a],t,n,!0)}var Wm=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return vr(this,e),this.radius=t,this.phi=n,this.theta=r,this}return gr(e,[{key:"set",value:function(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}},{key:"copy",value:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}},{key:"makeSafe",value:function(){var e=1e-6;return this.phi=Math.max(e,Math.min(Math.PI-e,this.phi)),this}},{key:"setFromVector3",value:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}},{key:"setFromCartesianCoords",value:function(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos($A(t/this.radius,-1,1))),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),jm=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return vr(this,e),this.radius=t,this.theta=n,this.y=r,this}return gr(e,[{key:"set",value:function(e,t,n){return this.radius=e,this.theta=t,this.y=n,this}},{key:"copy",value:function(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}},{key:"setFromVector3",value:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}},{key:"setFromCartesianCoords",value:function(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),Qm=new so,Xm=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new so(1/0,1/0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new so(-1/0,-1/0);vr(this,e),this.isBox2=!0,this.min=t,this.max=n}return gr(e,[{key:"set",value:function(e,t){return this.min.copy(e),this.max.copy(t),this}},{key:"setFromPoints",value:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}},{key:"setFromCenterAndSize",value:function(e,t){var n=Qm.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.min.copy(e.min),this.max.copy(e.max),this}},{key:"makeEmpty",value:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}},{key:"isEmpty",value:function(){return this.max.x<this.min.x||this.max.y<this.min.y}},{key:"getCenter",value:function(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}},{key:"getSize",value:function(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}},{key:"expandByPoint",value:function(e){return this.min.min(e),this.max.max(e),this}},{key:"expandByVector",value:function(e){return this.min.sub(e),this.max.add(e),this}},{key:"expandByScalar",value:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this}},{key:"containsPoint",value:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}},{key:"containsBox",value:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}},{key:"getParameter",value:function(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}},{key:"intersectsBox",value:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}},{key:"clampPoint",value:function(e,t){return t.copy(e).clamp(this.min,this.max)}},{key:"distanceToPoint",value:function(e){return this.clampPoint(e,Qm).distanceTo(e)}},{key:"intersect",value:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}},{key:"union",value:function(e){return this.min.min(e.min),this.max.max(e.max),this}},{key:"translate",value:function(e){return this.min.add(e),this.max.add(e),this}},{key:"equals",value:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}]),e}(),Jm=new Fo,Km=new Fo,Ym=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Fo,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Fo;vr(this,e),this.start=t,this.end=n}return gr(e,[{key:"set",value:function(e,t){return this.start.copy(e),this.end.copy(t),this}},{key:"copy",value:function(e){return this.start.copy(e.start),this.end.copy(e.end),this}},{key:"getCenter",value:function(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}},{key:"delta",value:function(e){return e.subVectors(this.end,this.start)}},{key:"distanceSq",value:function(){return this.start.distanceToSquared(this.end)}},{key:"distance",value:function(){return this.start.distanceTo(this.end)}},{key:"at",value:function(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}},{key:"closestPointToPointParameter",value:function(e,t){Jm.subVectors(e,this.start),Km.subVectors(this.end,this.start);var n=Km.dot(Km),r=Km.dot(Jm)/n;return t&&(r=$A(r,0,1)),r}},{key:"closestPointToPoint",value:function(e,t,n){var r=this.closestPointToPointParameter(e,t);return this.delta(n).multiplyScalar(r).add(this.start)}},{key:"applyMatrix4",value:function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}},{key:"equals",value:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),qm=new Fo,Zm=function(e){br(n,e);var t=Er(n);function n(e,r){var i;vr(this,n),(i=t.call(this)).light=e,i.matrix=e.matrixWorld,i.matrixAutoUpdate=!1,i.color=r,i.type="SpotLightHelper";for(var a=new Il,A=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],o=0,s=1;o<32;o++,s++){var l=o/32*Math.PI*2,u=s/32*Math.PI*2;A.push(Math.cos(l),Math.sin(l),1,Math.cos(u),Math.sin(u),1)}a.setAttribute("position",new El(A,3));var c=new Wd({fog:!1,toneMapped:!1});return i.cone=new $d(a,c),i.add(i.cone),i.update(),i}return gr(n,[{key:"dispose",value:function(){this.cone.geometry.dispose(),this.cone.material.dispose()}},{key:"update",value:function(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);var e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),qm.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(qm),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}]),n}(zs),$m=new Fo,eg=new ps,tg=new ps,ng=function(e){br(n,e);var t=Er(n);function n(e){var r;vr(this,n);for(var i=rg(e),a=new Il,A=[],o=[],s=new al(0,0,1),l=new al(0,1,0),u=0;u<i.length;u++){var c=i[u];c.parent&&c.parent.isBone&&(A.push(0,0,0),A.push(0,0,0),o.push(s.r,s.g,s.b),o.push(l.r,l.g,l.b))}a.setAttribute("position",new El(A,3)),a.setAttribute("color",new El(o,3));var f=new Wd({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});return(r=t.call(this,a,f)).isSkeletonHelper=!0,r.type="SkeletonHelper",r.root=e,r.bones=i,r.matrix=e.matrixWorld,r.matrixAutoUpdate=!1,r}return gr(n,[{key:"updateMatrixWorld",value:function(e){var t=this.bones,r=this.geometry,i=r.getAttribute("position");tg.copy(this.root.matrixWorld).invert();for(var a=0,A=0;a<t.length;a++){var o=t[a];o.parent&&o.parent.isBone&&(eg.multiplyMatrices(tg,o.matrixWorld),$m.setFromMatrixPosition(eg),i.setXYZ(A,$m.x,$m.y,$m.z),eg.multiplyMatrices(tg,o.parent.matrixWorld),$m.setFromMatrixPosition(eg),i.setXYZ(A+1,$m.x,$m.y,$m.z),A+=2)}r.getAttribute("position").needsUpdate=!0,Br(xr(n.prototype),"updateMatrixWorld",this).call(this,e)}},{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}}]),n}($d);function rg(e){var t=[];!0===e.isBone&&t.push(e);for(var n=0;n<e.children.length;n++)t.push.apply(t,rg(e.children[n]));return t}var ig=function(e){br(n,e);var t=Er(n);function n(e,r,i){var a;vr(this,n);var A=new Tp(r,4,2),o=new ol({wireframe:!0,fog:!1,toneMapped:!1});return(a=t.call(this,A,o)).light=e,a.color=i,a.type="PointLightHelper",a.matrix=a.light.matrixWorld,a.matrixAutoUpdate=!1,a.update(),a}return gr(n,[{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}},{key:"update",value:function(){this.light.updateWorldMatrix(!0,!1),void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}]),n}(ql),ag=new Fo,Ag=new al,og=new al,sg=function(e){br(n,e);var t=Er(n);function n(e,r,i){var a;vr(this,n),(a=t.call(this)).light=e,a.matrix=e.matrixWorld,a.matrixAutoUpdate=!1,a.color=i,a.type="HemisphereLightHelper";var A=new Mp(r);A.rotateY(.5*Math.PI),a.material=new ol({wireframe:!0,fog:!1,toneMapped:!1}),void 0===a.color&&(a.material.vertexColors=!0);var o=A.getAttribute("position"),s=new Float32Array(3*o.count);return A.setAttribute("color",new pl(s,3)),a.add(new ql(A,a.material)),a.update(),a}return gr(n,[{key:"dispose",value:function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}},{key:"update",value:function(){var e=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{var t=e.geometry.getAttribute("color");Ag.copy(this.light.color),og.copy(this.light.groundColor);for(var n=0,r=t.count;n<r;n++){var i=n<r/2?Ag:og;t.setXYZ(n,i.r,i.g,i.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(ag.setFromMatrixPosition(this.light.matrixWorld).negate())}}]),n}(zs),lg=function(e){br(n,e);var t=Er(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4473924,A=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8947848;vr(this,n),a=new al(a),A=new al(A);for(var o=i/2,s=r/i,l=r/2,u=[],c=[],f=0,d=0,h=-l;f<=i;f++,h+=s){u.push(-l,0,h,l,0,h),u.push(h,0,-l,h,0,l);var p=f===o?a:A;p.toArray(c,d),d+=3,p.toArray(c,d),d+=3,p.toArray(c,d),d+=3,p.toArray(c,d),d+=3}var v=new Il;v.setAttribute("position",new El(u,3)),v.setAttribute("color",new El(c,3));var m=new Wd({vertexColors:!0,toneMapped:!1});return(e=t.call(this,v,m)).type="GridHelper",e}return gr(n,[{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}}]),n}($d),ug=function(e){br(n,e);var t=Er(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,A=arguments.length>3&&void 0!==arguments[3]?arguments[3]:64,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:4473924,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:8947848;vr(this,n),o=new al(o),s=new al(s);var l=[],u=[];if(i>1)for(var c=0;c<i;c++){var f=c/i*(2*Math.PI),d=Math.sin(f)*r,h=Math.cos(f)*r;l.push(0,0,0),l.push(d,0,h);var p=1&c?o:s;u.push(p.r,p.g,p.b),u.push(p.r,p.g,p.b)}for(var v=0;v<a;v++)for(var m=1&v?o:s,g=r-r/a*v,y=0;y<A;y++){var b=y/A*(2*Math.PI),x=Math.sin(b)*g,_=Math.cos(b)*g;l.push(x,0,_),u.push(m.r,m.g,m.b),b=(y+1)/A*(2*Math.PI),x=Math.sin(b)*g,_=Math.cos(b)*g,l.push(x,0,_),u.push(m.r,m.g,m.b)}var w=new Il;w.setAttribute("position",new El(l,3)),w.setAttribute("color",new El(u,3));var E=new Wd({vertexColors:!0,toneMapped:!1});return(e=t.call(this,w,E)).type="PolarGridHelper",e}return gr(n,[{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}}]),n}($d),cg=new Fo,fg=new Fo,dg=new Fo,hg=function(e){br(n,e);var t=Er(n);function n(e,r,i){var a;vr(this,n),(a=t.call(this)).light=e,a.matrix=e.matrixWorld,a.matrixAutoUpdate=!1,a.color=i,a.type="DirectionalLightHelper",void 0===r&&(r=1);var A=new Il;A.setAttribute("position",new El([-r,r,0,r,r,0,r,-r,0,-r,-r,0,-r,r,0],3));var o=new Wd({fog:!1,toneMapped:!1});return a.lightPlane=new Yd(A,o),a.add(a.lightPlane),(A=new Il).setAttribute("position",new El([0,0,0,0,0,1],3)),a.targetLine=new Yd(A,o),a.add(a.targetLine),a.update(),a}return gr(n,[{key:"dispose",value:function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}},{key:"update",value:function(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),cg.setFromMatrixPosition(this.light.matrixWorld),fg.setFromMatrixPosition(this.light.target.matrixWorld),dg.subVectors(fg,cg),this.lightPlane.lookAt(fg),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(fg),this.targetLine.scale.z=dg.length()}}]),n}(zs),pg=new Fo,vg=new au,mg=function(e){br(n,e);var t=Er(n);function n(e){var r;vr(this,n);var i=new Il,a=new Wd({color:16777215,vertexColors:!0,toneMapped:!1}),A=[],o=[],s={};function l(e,t){u(e),u(t)}function u(e){A.push(0,0,0),o.push(0,0,0),void 0===s[e]&&(s[e]=[]),s[e].push(A.length/3-1)}l("n1","n2"),l("n2","n4"),l("n4","n3"),l("n3","n1"),l("f1","f2"),l("f2","f4"),l("f4","f3"),l("f3","f1"),l("n1","f1"),l("n2","f2"),l("n3","f3"),l("n4","f4"),l("p","n1"),l("p","n2"),l("p","n3"),l("p","n4"),l("u1","u2"),l("u2","u3"),l("u3","u1"),l("c","t"),l("p","c"),l("cn1","cn2"),l("cn3","cn4"),l("cf1","cf2"),l("cf3","cf4"),i.setAttribute("position",new El(A,3)),i.setAttribute("color",new El(o,3)),(r=t.call(this,i,a)).type="CameraHelper",r.camera=e,r.camera.updateProjectionMatrix&&r.camera.updateProjectionMatrix(),r.matrix=e.matrixWorld,r.matrixAutoUpdate=!1,r.pointMap=s,r.update();var c=new al(16755200),f=new al(16711680),d=new al(43775),h=new al(16777215),p=new al(3355443);return r.setColors(c,f,d,h,p),r}return gr(n,[{key:"setColors",value:function(e,t,n,r,i){var a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,n.r,n.g,n.b),a.setXYZ(33,n.r,n.g,n.b),a.setXYZ(34,n.r,n.g,n.b),a.setXYZ(35,n.r,n.g,n.b),a.setXYZ(36,n.r,n.g,n.b),a.setXYZ(37,n.r,n.g,n.b),a.setXYZ(38,r.r,r.g,r.b),a.setXYZ(39,r.r,r.g,r.b),a.setXYZ(40,i.r,i.g,i.b),a.setXYZ(41,i.r,i.g,i.b),a.setXYZ(42,i.r,i.g,i.b),a.setXYZ(43,i.r,i.g,i.b),a.setXYZ(44,i.r,i.g,i.b),a.setXYZ(45,i.r,i.g,i.b),a.setXYZ(46,i.r,i.g,i.b),a.setXYZ(47,i.r,i.g,i.b),a.setXYZ(48,i.r,i.g,i.b),a.setXYZ(49,i.r,i.g,i.b),a.needsUpdate=!0}},{key:"update",value:function(){var e=this.geometry,t=this.pointMap;vg.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),gg("c",t,e,vg,0,0,-1),gg("t",t,e,vg,0,0,1),gg("n1",t,e,vg,-1,-1,-1),gg("n2",t,e,vg,1,-1,-1),gg("n3",t,e,vg,-1,1,-1),gg("n4",t,e,vg,1,1,-1),gg("f1",t,e,vg,-1,-1,1),gg("f2",t,e,vg,1,-1,1),gg("f3",t,e,vg,-1,1,1),gg("f4",t,e,vg,1,1,1),gg("u1",t,e,vg,.7,1.1,-1),gg("u2",t,e,vg,-.7,1.1,-1),gg("u3",t,e,vg,0,2,-1),gg("cf1",t,e,vg,-1,0,1),gg("cf2",t,e,vg,1,0,1),gg("cf3",t,e,vg,0,-1,1),gg("cf4",t,e,vg,0,1,1),gg("cn1",t,e,vg,-1,0,-1),gg("cn2",t,e,vg,1,0,-1),gg("cn3",t,e,vg,0,-1,-1),gg("cn4",t,e,vg,0,1,-1),e.getAttribute("position").needsUpdate=!0}},{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}}]),n}($d);function gg(e,t,n,r,i,a,A){pg.set(i,a,A).unproject(r);var o=t[e];if(void 0!==o)for(var s=n.getAttribute("position"),l=0,u=o.length;l<u;l++)s.setXYZ(o[l],pg.x,pg.y,pg.z)}var yg,bg,xg=new Ho,_g=function(e){br(n,e);var t=Er(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16776960;vr(this,n);var a=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),A=new Float32Array(24),o=new Il;return o.setIndex(new pl(a,1)),o.setAttribute("position",new pl(A,3)),(r=t.call(this,o,new Wd({color:i,toneMapped:!1}))).object=e,r.type="BoxHelper",r.matrixAutoUpdate=!1,r.update(),r}return gr(n,[{key:"update",value:function(e){if(void 0!==e&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&xg.setFromObject(this.object),!xg.isEmpty()){var t=xg.min,n=xg.max,r=this.geometry.attributes.position,i=r.array;i[0]=n.x,i[1]=n.y,i[2]=n.z,i[3]=t.x,i[4]=n.y,i[5]=n.z,i[6]=t.x,i[7]=t.y,i[8]=n.z,i[9]=n.x,i[10]=t.y,i[11]=n.z,i[12]=n.x,i[13]=n.y,i[14]=t.z,i[15]=t.x,i[16]=n.y,i[17]=t.z,i[18]=t.x,i[19]=t.y,i[20]=t.z,i[21]=n.x,i[22]=t.y,i[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}}},{key:"setFromObject",value:function(e){return this.object=e,this.update(),this}},{key:"copy",value:function(e,t){return Br(xr(n.prototype),"copy",this).call(this,e,t),this.object=e.object,this}},{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}}]),n}($d),wg=function(e){br(n,e);var t=Er(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16776960;vr(this,n);var a=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),A=new Il;return A.setIndex(new pl(a,1)),A.setAttribute("position",new El([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),(r=t.call(this,A,new Wd({color:i,toneMapped:!1}))).box=e,r.type="Box3Helper",r.geometry.computeBoundingSphere(),r}return gr(n,[{key:"updateMatrixWorld",value:function(e){var t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),Br(xr(n.prototype),"updateMatrixWorld",this).call(this,e))}},{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}}]),n}($d),Eg=function(e){br(n,e);var t=Er(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16776960;vr(this,n);var A=a,o=new Il;o.setAttribute("position",new El([1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],3)),o.computeBoundingSphere(),(r=t.call(this,o,new Wd({color:A,toneMapped:!1}))).type="PlaneHelper",r.plane=e,r.size=i;var s=new Il;return s.setAttribute("position",new El([1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],3)),s.computeBoundingSphere(),r.add(new ql(s,new ol({color:A,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1}))),r}return gr(n,[{key:"updateMatrixWorld",value:function(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),Br(xr(n.prototype),"updateMatrixWorld",this).call(this,e)}},{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}]),n}(Yd),Mg=new Fo,Sg=function(e){br(n,e);var t=Er(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Fo(0,0,1),i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Fo(0,0,0),a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,A=arguments.length>3&&void 0!==arguments[3]?arguments[3]:16776960,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.2*a,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:.2*o;return vr(this,n),(e=t.call(this)).type="ArrowHelper",void 0===yg&&((yg=new Il).setAttribute("position",new El([0,0,0,0,1,0],3)),(bg=new Oh(0,.5,1,5,1)).translate(0,-.5,0)),e.position.copy(i),e.line=new Yd(yg,new Wd({color:A,toneMapped:!1})),e.line.matrixAutoUpdate=!1,e.add(e.line),e.cone=new ql(bg,new ol({color:A,toneMapped:!1})),e.cone.matrixAutoUpdate=!1,e.add(e.cone),e.setDirection(r),e.setLength(a,o,s),e}return gr(n,[{key:"setDirection",value:function(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{Mg.set(e.z,0,-e.x).normalize();var t=Math.acos(e.y);this.quaternion.setFromAxisAngle(Mg,t)}}},{key:"setLength",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2*e,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.2*t;this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()}},{key:"setColor",value:function(e){this.line.material.color.set(e),this.cone.material.color.set(e)}},{key:"copy",value:function(e){return Br(xr(n.prototype),"copy",this).call(this,e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}},{key:"dispose",value:function(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}]),n}(zs),Cg=function(e){br(n,e);var t=Er(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;vr(this,n);var i=[0,0,0,r,0,0,0,0,0,0,r,0,0,0,0,0,0,r],a=new Il;a.setAttribute("position",new El(i,3)),a.setAttribute("color",new El([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));var A=new Wd({vertexColors:!0,toneMapped:!1});return(e=t.call(this,a,A)).type="AxesHelper",e}return gr(n,[{key:"setColors",value:function(e,t,n){var r=new al,i=this.geometry.attributes.color.array;return r.set(e),r.toArray(i,0),r.toArray(i,3),r.set(t),r.toArray(i,6),r.toArray(i,9),r.set(n),r.toArray(i,12),r.toArray(i,15),this.geometry.attributes.color.needsUpdate=!0,this}},{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}}]),n}($d),Tg=function(){function e(){vr(this,e),this.type="ShapePath",this.color=new al,this.subPaths=[],this.currentPath=null}return gr(e,[{key:"moveTo",value:function(e,t){return this.currentPath=new Dh,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}},{key:"lineTo",value:function(e,t){return this.currentPath.lineTo(e,t),this}},{key:"quadraticCurveTo",value:function(e,t,n,r){return this.currentPath.quadraticCurveTo(e,t,n,r),this}},{key:"bezierCurveTo",value:function(e,t,n,r,i,a){return this.currentPath.bezierCurveTo(e,t,n,r,i,a),this}},{key:"splineThru",value:function(e){return this.currentPath.splineThru(e),this}},{key:"toShapes",value:function(e){function t(e,t){for(var n=t.length,r=!1,i=n-1,a=0;a<n;i=a++){var A=t[i],o=t[a],s=o.x-A.x,l=o.y-A.y;if(Math.abs(l)>Number.EPSILON){if(l<0&&(A=t[a],s=-s,o=t[i],l=-l),e.y<A.y||e.y>o.y)continue;if(e.y===A.y){if(e.x===A.x)return!0}else{var u=l*(e.x-A.x)-s*(e.y-A.y);if(0===u)return!0;if(u<0)continue;r=!r}}else{if(e.y!==A.y)continue;if(o.x<=e.x&&e.x<=A.x||A.x<=e.x&&e.x<=o.x)return!0}}return r}var n,r,i,a=yp.isClockWise,A=this.subPaths;if(0===A.length)return[];var o=[];if(1===A.length)return r=A[0],(i=new Xh).curves=r.curves,o.push(i),o;var s=!a(A[0].getPoints());s=e?!s:s;var l,u,c=[],f=[],d=[],h=0;f[h]=void 0,d[h]=[];for(var p=0,v=A.length;p<v;p++)n=a(l=(r=A[p]).getPoints()),(n=e?!n:n)?(!s&&f[h]&&h++,f[h]={s:new Xh,p:l},f[h].s.curves=r.curves,s&&h++,d[h]=[]):d[h].push({h:r,p:l[0]});if(!f[0])return function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n],a=new Xh;a.curves=i.curves,t.push(a)}return t}(A);if(f.length>1){for(var m=!1,g=0,y=0,b=f.length;y<b;y++)c[y]=[];for(var x=0,_=f.length;x<_;x++)for(var w=d[x],E=0;E<w.length;E++){for(var M=w[E],S=!0,C=0;C<f.length;C++)t(M.p,f[C].p)&&(x!==C&&g++,S?(S=!1,c[C].push(M)):m=!0);S&&c[x].push(M)}g>0&&!1===m&&(d=c)}for(var T=0,k=f.length;T<k;T++){i=f[T].s,o.push(i);for(var B=0,R=(u=d[T]).length;B<R;B++)i.holes.push(u[B].h)}return o}}]),e}(),kg=function(e){br(n,e);var t=Er(n);function n(e,r,i,a,A,o){return vr(this,n),console.warn("THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry."),t.call(this,e,r,i,a,A,o)}return gr(n)}($l),Bg=function(e){br(n,e);var t=Er(n);function n(e,r,i,a){return vr(this,n),console.warn("THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry."),t.call(this,e,r,i,a)}return gr(n)}(Uh),Rg=function(e){br(n,e);var t=Er(n);function n(e,r,i,a){return vr(this,n),console.warn("THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry."),t.call(this,e,r,i,a)}return gr(n)}(Nh),Pg=function(e){br(n,e);var t=Er(n);function n(e,r,i,a,A,o,s){return vr(this,n),console.warn("THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry."),t.call(this,e,r,i,a,A,o,s)}return gr(n)}(Fh),Ig=function(e){br(n,e);var t=Er(n);function n(e,r,i,a,A,o,s,l){return vr(this,n),console.warn("THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry."),t.call(this,e,r,i,a,A,o,s,l)}return gr(n)}(Oh),Dg=function(e){br(n,e);var t=Er(n);function n(e,r){return vr(this,n),console.warn("THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry."),t.call(this,e,r)}return gr(n)}(Gh),Lg=function(e){br(n,e);var t=Er(n);function n(e,r){return vr(this,n),console.warn("THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry."),t.call(this,e,r)}return gr(n)}(_p),Ug=function(e){br(n,e);var t=Er(n);function n(e,r){return vr(this,n),console.warn("THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry."),t.call(this,e,r)}return gr(n)}(Ep),Ng=function(e){br(n,e);var t=Er(n);function n(e,r,i,a){return vr(this,n),console.warn("THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry."),t.call(this,e,r,i,a)}return gr(n)}(Lh),Og=function(e){br(n,e);var t=Er(n);function n(e,r){return vr(this,n),console.warn("THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry."),t.call(this,e,r)}return gr(n)}(Mp),Fg=function(e){br(n,e);var t=Er(n);function n(e,r,i,a){return vr(this,n),console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry."),t.call(this,e,r,i,a)}return gr(n)}(bu),zg=function(e){br(n,e);var t=Er(n);function n(e,r,i,a){return vr(this,n),console.warn("THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry."),t.call(this,e,r,i,a)}return gr(n)}(zh),Gg=function(e){br(n,e);var t=Er(n);function n(e,r,i,a,A,o){return vr(this,n),console.warn("THREE.RingBufferGeometry has been renamed to THREE.RingGeometry."),t.call(this,e,r,i,a,A,o)}return gr(n)}(Sp),Hg=function(e){br(n,e);var t=Er(n);function n(e,r){return vr(this,n),console.warn("THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry."),t.call(this,e,r)}return gr(n)}(Cp),Vg=function(e){br(n,e);var t=Er(n);function n(e,r,i,a,A,o,s){return vr(this,n),console.warn("THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry."),t.call(this,e,r,i,a,A,o,s)}return gr(n)}(Tp),Wg=function(e){br(n,e);var t=Er(n);function n(e,r){return vr(this,n),console.warn("THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry."),t.call(this,e,r)}return gr(n)}(kp),jg=function(e){br(n,e);var t=Er(n);function n(e,r,i,a,A){return vr(this,n),console.warn("THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry."),t.call(this,e,r,i,a,A)}return gr(n)}(Bp),Qg=function(e){br(n,e);var t=Er(n);function n(e,r,i,a,A,o){return vr(this,n),console.warn("THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry."),t.call(this,e,r,i,a,A,o)}return gr(n)}(Rp),Xg=function(e){br(n,e);var t=Er(n);function n(e,r,i,a,A){return vr(this,n),console.warn("THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry."),t.call(this,e,r,i,a,A)}return gr(n)}(Pp);"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Pr}})),"undefined"!==typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Pr);var Jg=n(585);function Kg(e){var t,n=new Set,r=function(e,r){var i="function"===typeof e?e(t):e;if(i!==t){var a=t;t=r?i:Object.assign({},t,i),n.forEach((function(e){return e(t,a)}))}},i=function(){return t},a={setState:r,getState:i,subscribe:function(e,r,a){return r||a?function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.is;console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");var A=r(t);function o(){var n=r(t);if(!a(A,n)){var i=A;e(A=n,i)}}return n.add(o),function(){return n.delete(o)}}(e,r,a):(n.add(e),function(){return n.delete(e)})},destroy:function(){return n.clear()}};return t=e(r,i,a),a}var Yg="undefined"===typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent)?t.useEffect:t.useLayoutEffect;function qg(e){var n="function"===typeof e?Kg(e):e,r=function(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.getState,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.is,a=m((0,t.useReducer)((function(e){return e+1}),0),2)[1],A=n.getState(),o=(0,t.useRef)(A),s=(0,t.useRef)(r),l=(0,t.useRef)(i),u=(0,t.useRef)(!1),c=(0,t.useRef)();void 0===c.current&&(c.current=r(A));var f=!1;(o.current!==A||s.current!==r||l.current!==i||u.current)&&(e=r(A),f=!i(c.current,e)),Yg((function(){f&&(c.current=e),o.current=A,s.current=r,l.current=i,u.current=!1}));var d=(0,t.useRef)(A);Yg((function(){var e=function(){try{var e=n.getState(),t=s.current(e);l.current(c.current,t)||(o.current=e,c.current=t,a())}catch(r){u.current=!0,a()}},t=n.subscribe(e);return n.getState()!==d.current&&e(),t}),[]);var h=f?e:c.current;return(0,t.useDebugValue)(h),h};return Object.assign(r,n),r[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");var e=[r,n];return{next:function(){var t=e.length<=0;return{value:e.shift(),done:t}}}},r}var Zg=n(258),$g=n.n(Zg),ey=n(545);function ty(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e,t){return e===t};if(e===t)return!0;if(!e||!t)return!1;var r=e.length;if(t.length!==r)return!1;for(var i=0;i<r;i++)if(!n(e[i],t[i]))return!1;return!0}var ny=[];function ry(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=0,a=ny;i<a.length;i++){var A=a[i];if(ty(t,A.keys,A.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(A,"error"))throw A.error;if(Object.prototype.hasOwnProperty.call(A,"response"))return A.response;if(!n)throw A.promise}}var o={keys:t,equal:r.equal,promise:e.apply(void 0,y(t)).then((function(e){return o.response=e})).then((function(){r.lifespan&&r.lifespan>0&&setTimeout((function(){var e=ny.indexOf(o);-1!==e&&ny.splice(e,1)}),r.lifespan)})).catch((function(e){return o.error=e}))};if(ny.push(o),!n)throw o.promise}var iy,ay,Ay=function(e,t,n){return ry(e,t,!1,n)},oy=["args","attach"],sy=["args","children"],ly=["args","children"],uy=["children","key","ref"],cy=["children","key","ref"],fy=["params"],dy=["events","size"],hy={},py=function(e){Object.assign(hy,e)};var vy=function(e){return"colorSpace"in e||"outputColorSpace"in e},my=function(){var e;return null!=(e=hy.ColorManagement)?e:null},gy=function(e){return e&&e.isOrthographicCamera},yy="undefined"!==typeof window&&(null!=(iy=window.document)&&iy.createElement||"ReactNative"===(null==(ay=window.navigator)?void 0:ay.product))?t.useLayoutEffect:t.useEffect;function by(e){var n=t.useRef(e);return yy((function(){n.current=e}),[e]),n}function xy(e){var t=e.set;return yy((function(){return t(new Promise((function(){return null}))),function(){return t(!1)}}),[t]),null}var _y=function(e){br(n,e);var t=Er(n);function n(){var e;vr(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).state={error:!1},e}return gr(n,[{key:"componentDidCatch",value:function(e){this.props.set(e)}},{key:"render",value:function(){return this.state.error?null:this.props.children}}]),n}(t.Component);_y.getDerivedStateFromError=function(){return{error:!0}};var wy="__default",Ey=new Map,My=function(e){return e&&!!e.memoized&&!!e.changes};function Sy(e){var t,n="undefined"!==typeof window?null!=(t=window.devicePixelRatio)?t:2:1;return Array.isArray(e)?Math.min(Math.max(e[0],n),e[1]):e}var Cy=function(e){var t;return null==(t=e.__r3f)?void 0:t.root.getState()},Ty={obj:function(e){return e===Object(e)&&!Ty.arr(e)&&"function"!==typeof e},fun:function(e){return"function"===typeof e},str:function(e){return"string"===typeof e},num:function(e){return"number"===typeof e},boo:function(e){return"boolean"===typeof e},und:function(e){return void 0===e},arr:function(e){return Array.isArray(e)},equ:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.arrays,i=void 0===r?"shallow":r,a=n.objects,A=void 0===a?"reference":a,o=n.strict,s=void 0===o||o;if(typeof e!==typeof t||!!e!==!!t)return!1;if(Ty.str(e)||Ty.num(e))return e===t;var l=Ty.obj(e);if(l&&"reference"===A)return e===t;var u,c=Ty.arr(e);if(c&&"reference"===i)return e===t;if((c||l)&&e===t)return!0;for(u in e)if(!(u in t))return!1;if(l&&"shallow"===i&&"shallow"===A){for(u in s?t:e)if(!Ty.equ(e[u],t[u],{strict:s,objects:"reference"}))return!1}else for(u in s?t:e)if(e[u]!==t[u])return!1;if(Ty.und(u)){if(c&&0===e.length&&0===t.length)return!0;if(l&&0===Object.keys(e).length&&0===Object.keys(t).length)return!0;if(e!==t)return!1}return!0}};function ky(e){var t={nodes:{},materials:{}};return e&&e.traverse((function(e){e.name&&(t.nodes[e.name]=e),e.material&&!t.materials[e.material.name]&&(t.materials[e.material.name]=e.material)})),t}function By(e,t){var n=e;return(null!=t&&t.primitive||!n.__r3f)&&(n.__r3f=pr({type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null},t)),e}function Ry(e,t){var n=e;if(t.includes("-")){var r=t.split("-"),i=r.pop();return n=r.reduce((function(e,t){return e[t]}),e),{target:n,key:i}}return{target:n,key:t}}var Py=/-\d+$/;function Iy(e,t,n){if(Ty.str(n)){if(Py.test(n)){var r=Ry(e,n.replace(Py,"")),i=r.target,a=r.key;Array.isArray(i[a])||(i[a]=[])}var A=Ry(e,n),o=A.target,s=A.key;t.__r3f.previousAttach=o[s],o[s]=t}else t.__r3f.previousAttach=n(e,t)}function Dy(e,t,n){var r,i;if(Ty.str(n)){var a=Ry(e,n),A=a.target,o=a.key,s=t.__r3f.previousAttach;void 0===s?delete A[o]:A[o]=s}else null==(r=t.__r3f)||null==r.previousAttach||r.previousAttach(e,t);null==(i=t.__r3f)||delete i.previousAttach}function Ly(e,t){t.children,t.key,t.ref;var n,r=ur(t,uy),i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=(i.children,i.key,i.ref,ur(i,cy)),A=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=null!=(n=null==e?void 0:e.__r3f)?n:{},s=Object.entries(r),l=[];if(A)for(var u=Object.keys(a),c=0;c<u.length;c++)r.hasOwnProperty(u[c])||s.unshift([u[c],wy+"remove"]);s.forEach((function(t){var n,i=m(t,2),A=i[0],o=i[1];if((null==(n=e.__r3f)||!n.primitive||"object"!==A)&&!Ty.equ(o,a[A])){if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(A))return l.push([A,o,!0,[]]);var s=[];for(var u in A.includes("-")&&(s=A.split("-")),l.push([A,o,!1,s]),r){var c=r[u];u.startsWith("".concat(A,"-"))&&l.push([u,c,!1,u.split("-")])}}}));var f=pr({},r);return o.memoizedProps&&o.memoizedProps.args&&(f.args=o.memoizedProps.args),o.memoizedProps&&o.memoizedProps.attach&&(f.attach=o.memoizedProps.attach),{memoized:f,changes:l}}function Uy(e,t){var n,r,i,a,A=null!=(n=e.__r3f)?n:{},o=A.root,s=null!=(r=null==o||null==o.getState?void 0:o.getState())?r:{},l=My(t)?t:Ly(e,t),u=l.memoized,c=l.changes,f=A.eventCount;e.__r3f&&(e.__r3f.memoizedProps=u);for(var h=0;h<c.length;h++){var b=m(c[h],4),x=b[0],_=b[1],w=b[2],E=b[3];if(vy(e)){var M="srgb",S="srgb-linear";"encoding"===x?(x="colorSpace",_=3001===_?M:S):"outputEncoding"===x&&(x="outputColorSpace",_=3001===_?M:S)}var C=e,T=C[x];if(E.length&&(T=E.reduce((function(e,t){return e[t]}),e),!T||!T.set)){var k=E.reverse(),B=d(a=k)||g(a)||p(a)||v(),R=B[0];C=B.slice(1).reverse().reduce((function(e,t){return e[t]}),e),x=R}if(_===wy+"remove")if(C.constructor){var P=Ey.get(C.constructor);P||(P=new C.constructor,Ey.set(C.constructor,P)),_=P[x]}else _=0;if(w)_?A.handlers[x]=_:delete A.handlers[x],A.eventCount=Object.keys(A.handlers).length;else if(T&&T.set&&(T.copy||T instanceof Ss)){var I;if(Array.isArray(_))T.fromArray?T.fromArray(_):(I=T).set.apply(I,y(_));else if(T.copy&&_&&_.constructor&&T.constructor===_.constructor)T.copy(_);else if(void 0!==_){var D=T instanceof al;!D&&T.setScalar?T.setScalar(_):T instanceof Ss&&_ instanceof Ss?T.mask=_.mask:T.set(_),my()||s.linear||!D||T.convertSRGBToLinear()}}else if(C[x]=_,C[x]instanceof Bo&&C[x].format===la&&C[x].type===qi){var L=C[x];vy(L)&&vy(s.gl)?L.colorSpace=s.gl.outputColorSpace:L.encoding=s.gl.outputEncoding}Ny(e)}if(A.parent&&s.internal&&e.raycast&&f!==A.eventCount){var U=s.internal.interaction.indexOf(e);U>-1&&s.internal.interaction.splice(U,1),A.eventCount&&s.internal.interaction.push(e)}return!(1===c.length&&"onUpdate"===c[0][0])&&c.length&&null!=(i=e.__r3f)&&i.parent&&Oy(e),e}function Ny(e){var t,n,r=null==(t=e.__r3f)||null==(n=t.root)||null==n.getState?void 0:n.getState();r&&0===r.internal.frames&&r.invalidate()}function Oy(e){null==e.onUpdate||e.onUpdate(e)}function Fy(e,t){e.manual||(gy(e)?(e.left=t.width/-2,e.right=t.width/2,e.top=t.height/2,e.bottom=t.height/-2):e.aspect=t.width/t.height,e.updateProjectionMatrix(),e.updateMatrixWorld())}function zy(e){return(e.eventObject||e.object).uuid+"/"+e.index+e.instanceId}function Gy(e,t,n,r){var i=n.get(t);i&&(n.delete(t),0===n.size&&(e.delete(r),i.target.releasePointerCapture(r)))}function Hy(e){function t(e){return e.filter((function(e){return["Move","Over","Enter","Out","Leave"].some((function(t){var n;return null==(n=e.__r3f)?void 0:n.handlers["onPointer"+t]}))}))}function n(t){var n,r=e.getState().internal,i=Mr(r.hovered.values());try{var a=function(){var e=n.value;if(!t.length||!t.find((function(t){return t.object===e.object&&t.index===e.index&&t.instanceId===e.instanceId}))){var i=e.eventObject.__r3f,a=null==i?void 0:i.handlers;if(r.hovered.delete(zy(e)),null!=i&&i.eventCount){var A=pr(pr({},e),{},{intersections:t});null==a.onPointerOut||a.onPointerOut(A),null==a.onPointerLeave||a.onPointerLeave(A)}}};for(i.s();!(n=i.n()).done;)a()}catch(A){i.e(A)}finally{i.f()}}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n].__r3f;null==r||null==r.handlers.onPointerMissed||r.handlers.onPointerMissed(e)}}return{handlePointer:function(i){switch(i){case"onPointerLeave":case"onPointerCancel":return function(){return n([])};case"onLostPointerCapture":return function(t){var r=e.getState().internal;"pointerId"in t&&r.capturedMap.has(t.pointerId)&&requestAnimationFrame((function(){r.capturedMap.has(t.pointerId)&&(r.capturedMap.delete(t.pointerId),n([]))}))}}return function(a){var A=e.getState(),o=A.onPointerMissed,s=A.internal;s.lastEvent.current=a;var l="onPointerMove"===i,u="onClick"===i||"onContextMenu"===i||"onDoubleClick"===i,c=function(t,n){for(var r=e.getState(),i=new Set,a=[],A=n?n(r.internal.interaction):r.internal.interaction,o=0;o<A.length;o++){var s=Cy(A[o]);s&&(s.raycaster.camera=void 0)}r.previousRoot||null==r.events.compute||r.events.compute(t,r);var l=A.flatMap((function(e){var n,r=Cy(e);return r&&r.events.enabled&&null!==r.raycaster.camera?(void 0===r.raycaster.camera&&(null==r.events.compute||r.events.compute(t,r,null==(n=r.previousRoot)?void 0:n.getState()),void 0===r.raycaster.camera&&(r.raycaster.camera=null)),r.raycaster.camera?r.raycaster.intersectObject(e,!0):[]):[]})).sort((function(e,t){var n=Cy(e.object),r=Cy(t.object);return n&&r&&r.events.priority-n.events.priority||e.distance-t.distance})).filter((function(e){var t=zy(e);return!i.has(t)&&(i.add(t),!0)}));r.events.filter&&(l=r.events.filter(l,r));var u,c=Mr(l);try{for(c.s();!(u=c.n()).done;)for(var f=u.value,d=f.object;d;){var h;null!=(h=d.__r3f)&&h.eventCount&&a.push(pr(pr({},f),{},{eventObject:d})),d=d.parent}}catch(g){c.e(g)}finally{c.f()}if("pointerId"in t&&r.internal.capturedMap.has(t.pointerId)){var p,v=Mr(r.internal.capturedMap.get(t.pointerId).values());try{for(v.s();!(p=v.n()).done;){var m=p.value;i.has(zy(m.intersection))||a.push(m.intersection)}}catch(g){v.e(g)}finally{v.f()}}return a}(a,l?t:void 0),f=u?function(t){var n=e.getState().internal,r=t.offsetX-n.initialClick[0],i=t.offsetY-n.initialClick[1];return Math.round(Math.sqrt(r*r+i*i))}(a):0;"onPointerDown"===i&&(s.initialClick=[a.offsetX,a.offsetY],s.initialHits=c.map((function(e){return e.eventObject}))),u&&!c.length&&f<=2&&(r(a,s.interaction),o&&o(a)),l&&n(c),function(t,r,i,a){var A=e.getState();if(t.length){var o,s={stopped:!1},l=Mr(t);try{var u=function(){var e=o.value,l=Cy(e.object)||A,u=l.raycaster,c=l.pointer,f=l.camera,d=l.internal,h=new Fo(c.x,c.y,0).unproject(f),p=function(t){var n,r;return null!=(n=null==(r=d.capturedMap.get(t))?void 0:r.has(e.eventObject))&&n},v=function(t){var n={intersection:e,target:r.target};d.capturedMap.has(t)?d.capturedMap.get(t).set(e.eventObject,n):d.capturedMap.set(t,new Map([[e.eventObject,n]])),r.target.setPointerCapture(t)},m=function(t){var n=d.capturedMap.get(t);n&&Gy(d.capturedMap,e.eventObject,n,t)},g={};for(var b in r){var x=r[b];"function"!==typeof x&&(g[b]=x)}var _=pr(pr(pr({},e),g),{},{pointer:c,intersections:t,stopped:s.stopped,delta:i,unprojectedPoint:h,ray:u.ray,camera:f,stopPropagation:function(){var i="pointerId"in r&&d.capturedMap.get(r.pointerId);if((!i||i.has(e.eventObject))&&(_.stopped=s.stopped=!0,d.hovered.size&&Array.from(d.hovered.values()).find((function(t){return t.eventObject===e.eventObject})))){var a=t.slice(0,t.indexOf(e));n([].concat(y(a),[e]))}},target:{hasPointerCapture:p,setPointerCapture:v,releasePointerCapture:m},currentTarget:{hasPointerCapture:p,setPointerCapture:v,releasePointerCapture:m},nativeEvent:r});if(a(_),!0===s.stopped)return"break"};for(l.s();!(o=l.n()).done&&"break"!==u(););}catch(c){l.e(c)}finally{l.f()}}}(c,a,f,(function(e){var t=e.eventObject,n=t.__r3f,A=null==n?void 0:n.handlers;if(null!=n&&n.eventCount)if(l){if(A.onPointerOver||A.onPointerEnter||A.onPointerOut||A.onPointerLeave){var o=zy(e),c=s.hovered.get(o);c?c.stopped&&e.stopPropagation():(s.hovered.set(o,e),null==A.onPointerOver||A.onPointerOver(e),null==A.onPointerEnter||A.onPointerEnter(e))}null==A.onPointerMove||A.onPointerMove(e)}else{var f=A[i];f?u&&!s.initialHits.includes(t)||(r(a,s.interaction.filter((function(e){return!s.initialHits.includes(e)}))),f(e)):u&&s.initialHits.includes(t)&&r(a,s.interaction.filter((function(e){return!s.initialHits.includes(e)})))}}))}}}}var Vy,Wy=["set","get","setSize","setFrameloop","setDpr","events","invalidate","advance","size","viewport"],jy=function(e){return!(null==e||!e.render)},Qy=t.createContext(null),Xy=function(e,n){var r=qg((function(r,i){var a=new Fo,A=new Fo,o=new Fo;function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i().camera,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:A,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i().size,r=n.width,s=n.height,l=n.top,u=n.left,c=r/s;t instanceof Fo?o.copy(t):o.set.apply(o,y(t));var f=e.getWorldPosition(a).distanceTo(o);if(gy(e))return{width:r/e.zoom,height:s/e.zoom,top:l,left:u,factor:1,distance:f,aspect:c};var d=e.fov*Math.PI/180,h=2*Math.tan(d/2)*f,p=h*(r/s);return{width:p,height:h,top:l,left:u,factor:r/p,distance:f,aspect:c}}var l=void 0,u=function(e){return r((function(t){return{performance:pr(pr({},t.performance),{},{current:e})}}))},c=new so,f={set:r,get:i,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return e(i(),t)},advance:function(e,t){return n(e,t,i())},legacy:!1,linear:!1,flat:!1,controls:null,clock:new lm,pointer:c,mouse:c,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:function(){var e=i();l&&clearTimeout(l),e.performance.current!==e.performance.min&&u(e.performance.min),l=setTimeout((function(){return u(i().performance.max)}),e.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:s},setEvents:function(e){return r((function(t){return pr(pr({},t),{},{events:pr(pr({},t.events),e)})}))},setSize:function(e,t,n,a,o){var l=i().camera,u={width:e,height:t,top:a||0,left:o||0,updateStyle:n};r((function(e){return{size:u,viewport:pr(pr({},e.viewport),s(l,A,u))}}))},setDpr:function(e){return r((function(t){var n=Sy(e);return{viewport:pr(pr({},t.viewport),{},{dpr:n,initialDpr:t.viewport.initialDpr||n})}}))},setFrameloop:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"always",t=i().clock;t.stop(),t.elapsedTime=0,"never"!==e&&(t.start(),t.elapsedTime=0),r((function(){return{frameloop:e}}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:t.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:function(e,t,n){var r=i().internal;return r.priority=r.priority+(t>0?1:0),r.subscribers.push({ref:e,priority:t,store:n}),r.subscribers=r.subscribers.sort((function(e,t){return e.priority-t.priority})),function(){var n=i().internal;null!=n&&n.subscribers&&(n.priority=n.priority-(t>0?1:0),n.subscribers=n.subscribers.filter((function(t){return t.ref!==e})))}}}};return f})),i=r.getState(),a=i.size,A=i.viewport.dpr,o=i.camera;return r.subscribe((function(){var e=r.getState(),t=e.camera,n=e.size,i=e.viewport,s=e.gl,l=e.set;if(n!==a||i.dpr!==A){var u;a=n,A=i.dpr,Fy(t,n),s.setPixelRatio(i.dpr);var c=null!=(u=n.updateStyle)?u:"undefined"!==typeof HTMLCanvasElement&&s.domElement instanceof HTMLCanvasElement;s.setSize(n.width,n.height,c)}t!==o&&(o=t,l((function(e){return{viewport:pr(pr({},e.viewport),e.viewport.getCurrentViewport(t))}})))})),r.subscribe((function(t){return e(t)})),r};var Jy,Ky,Yy=new Set,qy=new Set,Zy=new Set;function $y(e,t){if(e.size){var n,r=Mr(e.values());try{for(r.s();!(n=r.n()).done;){(0,n.value.callback)(t)}}catch(i){r.e(i)}finally{r.f()}}}function eb(e,t){switch(e){case"before":return $y(Yy,t);case"after":return $y(qy,t);case"tail":return $y(Zy,t)}}function tb(e,t,n){var r=t.clock.getDelta();for("never"===t.frameloop&&"number"===typeof e&&(r=e-t.clock.elapsedTime,t.clock.oldTime=t.clock.elapsedTime,t.clock.elapsedTime=e),Jy=t.internal.subscribers,Vy=0;Vy<Jy.length;Vy++)(Ky=Jy[Vy]).ref.current(Ky.store.getState(),r,n);return!t.internal.priority&&t.gl.render&&t.gl.render(t.scene,t.camera),t.internal.frames=Math.max(0,t.internal.frames-1),"always"===t.frameloop?1:t.internal.frames}function nb(){var e=t.useContext(Qy);if(!e)throw new Error("R3F: Hooks can only be used within the Canvas component!");return e}function rb(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e},t=arguments.length>1?arguments[1]:void 0;return nb()(e,t)}function ib(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=nb(),r=n.getState().internal.subscribe,i=by(e);return yy((function(){return r(i,t,n)}),[t,r,n]),null}function ab(e,t){return function(n){var r=new n;e&&e(r);for(var i=arguments.length,a=new Array(i>1?i-1:0),A=1;A<i;A++)a[A-1]=arguments[A];return Promise.all(a.map((function(e){return new Promise((function(n,i){return r.load(e,(function(e){e.scene&&Object.assign(e,ky(e.scene)),n(e)}),t,(function(t){return i(new Error("Could not load ".concat(e,": ").concat(t.message,")")))}))}))})))}}function Ab(e,t,n,r){var i=Array.isArray(t)?t:[t],a=Ay(ab(n,r),[e].concat(y(i)),{equal:Ty.equ});return Array.isArray(t)?a:a[0]}Ab.preload=function(e,t,n){var r=Array.isArray(t)?t:[t];return function(e,t,n){ry(e,t,!0,n)}(ab(n),[e].concat(y(r)))},Ab.clear=function(e,t){var n=Array.isArray(t)?t:[t];return function(e){if(void 0===e||0===e.length)ny.splice(0,ny.length);else{var t=ny.find((function(t){return ty(e,t.keys,t.equal)}));if(t){var n=ny.indexOf(t);-1!==n&&ny.splice(n,1)}}}([e].concat(y(n)))};var ob=new Map,sb=function(e){var t,n,r,i=!1;function a(A){n=requestAnimationFrame(a),i=!0,t=0,eb("before",A);var o,s=Mr(e.values());try{for(s.s();!(o=s.n()).done;){var l,u=o.value;!(r=u.store.getState()).internal.active||!("always"===r.frameloop||r.internal.frames>0)||null!=(l=r.gl.xr)&&l.isPresenting||(t+=tb(A,r))}}catch(c){s.e(c)}finally{s.f()}if(eb("after",A),0===t)return eb("tail",A),i=!1,cancelAnimationFrame(n)}return{loop:a,invalidate:function t(n){var r,A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!n)return e.forEach((function(e){return t(e.store.getState())}),A);null!=(r=n.gl.xr)&&r.isPresenting||!n.internal.active||"never"===n.frameloop||(n.internal.frames=Math.min(60,n.internal.frames+A),i||(i=!0,requestAnimationFrame(a)))},advance:function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;if(n&&eb("before",t),r)tb(t,r,i);else{var a,A=Mr(e.values());try{for(A.s();!(a=A.n()).done;){tb(t,a.value.store.getState())}}catch(o){A.e(o)}finally{A.f()}}n&&eb("after",t)}}}(ob),lb=sb.invalidate,ub=sb.advance,cb=function(e,t){function n(e,t,n){var r,i=t.args,a=void 0===i?[]:i,A=t.attach,o=ur(t,oy),s="".concat(e[0].toUpperCase()).concat(e.slice(1));if("primitive"===e){if(void 0===o.object)throw new Error("R3F: Primitives without 'object' are invalid!");r=By(o.object,{type:e,root:n,attach:A,primitive:!0})}else{var l=hy[s];if(!l)throw new Error("R3F: ".concat(s," is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively"));if(!Array.isArray(a))throw new Error("R3F: The args prop must be an array!");r=By(Sr(l,y(a)),{type:e,root:n,attach:A,memoizedProps:{args:a}})}return void 0===r.__r3f.attach&&(r instanceof Il?r.__r3f.attach="geometry":r instanceof el&&(r.__r3f.attach="material")),"inject"!==s&&Uy(r,o),r}function r(e,t){var n,r,i=!1;t&&(null!=(n=t.__r3f)&&n.attach?Iy(e,t,t.__r3f.attach):t.isObject3D&&e.isObject3D&&(e.add(t),i=!0),i||null==(r=e.__r3f)||r.objects.push(t),t.__r3f||By(t,{}),t.__r3f.parent=e,Oy(t),Ny(t))}function i(e,t,n){var r=!1;if(t){var i,a;if(null!=(i=t.__r3f)&&i.attach)Iy(e,t,t.__r3f.attach);else if(t.isObject3D&&e.isObject3D){t.parent=e,t.dispatchEvent({type:"added"});var A=e.children.filter((function(e){return e!==t})),o=A.indexOf(n);e.children=[].concat(y(A.slice(0,o)),[t],y(A.slice(o))),r=!0}r||null==(a=e.__r3f)||a.objects.push(t),t.__r3f||By(t,{}),t.__r3f.parent=e,Oy(t),Ny(t)}}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e&&y(e).forEach((function(e){return A(t,e,n)}))}function A(e,t,n){if(t){var r,i,A;if(t.__r3f&&(t.__r3f.parent=null),null!=(r=e.__r3f)&&r.objects&&(e.__r3f.objects=e.__r3f.objects.filter((function(e){return e!==t}))),null!=(i=t.__r3f)&&i.attach)Dy(e,t,t.__r3f.attach);else if(t.isObject3D&&e.isObject3D){var o;e.remove(t),null!=(o=t.__r3f)&&o.root&&function(e,t){var n=e.getState(),r=n.internal;r.interaction=r.interaction.filter((function(e){return e!==t})),r.initialHits=r.initialHits.filter((function(e){return e!==t})),r.hovered.forEach((function(e,n){e.eventObject!==t&&e.object!==t||r.hovered.delete(n)})),r.capturedMap.forEach((function(e,n){Gy(r.capturedMap,t,e,n)}))}(t.__r3f.root,t)}var s,l=null==(A=t.__r3f)?void 0:A.primitive,u=void 0===n?null!==t.dispose&&!l:n;if(!l)a(null==(s=t.__r3f)?void 0:s.objects,t,u),a(t.children,t,u);t.__r3f&&(delete t.__r3f.root,delete t.__r3f.objects,delete t.__r3f.handlers,delete t.__r3f.memoizedProps,l||delete t.__r3f),u&&t.dispose&&"Scene"!==t.type&&(0,ey.unstable_scheduleCallback)(ey.unstable_IdlePriority,(function(){try{t.dispose()}catch(e){}})),Ny(e)}}var o=function(){return console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.")};return{reconciler:$g()({createInstance:n,removeChild:A,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:function(e,t){if(t){var n=e.getState().scene;n.__r3f&&(n.__r3f.root=e,r(n,t))}},removeChildFromContainer:function(e,t){t&&A(e.getState().scene,t)},insertInContainerBefore:function(e,t,n){if(t&&n){var r=e.getState().scene;r.__r3f&&i(r,t,n)}},getRootHostContext:function(){return null},getChildHostContext:function(e){return e},finalizeInitialChildren:function(e){var t,n=null!=(t=null==e?void 0:e.__r3f)?t:{};return Boolean(n.handlers)},prepareUpdate:function(e,t,n,r){if(e.__r3f.primitive&&r.object&&r.object!==e)return[!0];var i=r.args,a=void 0===i?[]:i,A=(r.children,ur(r,sy)),o=n.args,s=void 0===o?[]:o,l=(n.children,ur(n,ly));if(!Array.isArray(a))throw new Error("R3F: the args prop must be an array!");if(a.some((function(e,t){return e!==s[t]})))return[!0];var u=Ly(e,A,l,!0);return u.changes.length?[!1,u]:null},commitUpdate:function(e,t,i,a,o,s){var l=m(t,2),u=l[0],c=l[1];u?function(e,t,i,a){var o,s=null==(o=e.__r3f)?void 0:o.parent;if(s){var l=n(t,i,e.__r3f.root);if(e.children){var u,c=Mr(e.children);try{for(c.s();!(u=c.n()).done;){var f=u.value;f.__r3f&&r(l,f)}}catch(d){c.e(d)}finally{c.f()}e.children=e.children.filter((function(e){return!e.__r3f}))}e.__r3f.objects.forEach((function(e){return r(l,e)})),e.__r3f.objects=[],e.__r3f.autoRemovedBeforeAppend||A(s,e),l.parent&&(l.__r3f.autoRemovedBeforeAppend=!0),r(s,l),l.raycast&&l.__r3f.eventCount&&l.__r3f.root.getState().internal.interaction.push(l),[a,a.alternate].forEach((function(e){null!==e&&(e.stateNode=l,e.ref&&("function"===typeof e.ref?e.ref(l):e.ref.current=l))}))}}(e,i,o,s):Uy(e,c)},commitMount:function(e,t,n,r){var i,a=null!=(i=e.__r3f)?i:{};e.raycast&&a.handlers&&a.eventCount&&e.__r3f.root.getState().internal.interaction.push(e)},getPublicInstance:function(e){return e},prepareForCommit:function(){return null},preparePortalMount:function(e){return By(e.getState().scene)},resetAfterCommit:function(){},shouldSetTextContent:function(){return!1},clearContainer:function(){return!1},hideInstance:function(e){var t,n=null!=(t=e.__r3f)?t:{},r=n.attach,i=n.parent;r&&i&&Dy(i,e,r),e.isObject3D&&(e.visible=!1),Ny(e)},unhideInstance:function(e,t){var n,r=null!=(n=e.__r3f)?n:{},i=r.attach,a=r.parent;i&&a&&Iy(a,e,i),(e.isObject3D&&null==t.visible||t.visible)&&(e.visible=!0),Ny(e)},createTextInstance:o,hideTextInstance:o,unhideTextInstance:o,getCurrentEventPriority:function(){return t?t():Jg.DefaultEventPriority},beforeActiveInstanceBlur:function(){},afterActiveInstanceBlur:function(){},detachDeletedInstance:function(){},now:"undefined"!==typeof performance&&Ty.fun(performance.now)?performance.now:Ty.fun(Date.now)?Date.now:function(){return 0},scheduleTimeout:Ty.fun(setTimeout)?setTimeout:void 0,cancelTimeout:Ty.fun(clearTimeout)?clearTimeout:void 0}),applyProps:Uy}}(0,(function(){var e,t="undefined"!==typeof self&&self||"undefined"!==typeof window&&window;if(!t)return Jg.DefaultEventPriority;switch(null==(e=t.event)?void 0:e.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Jg.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Jg.ContinuousEventPriority;default:return Jg.DefaultEventPriority}})),fb=cb.reconciler,db=cb.applyProps,hb={objects:"shallow",strict:!1},pb=function(e,t){var n="function"===typeof e?e(t):e;return jy(n)?n:new Yf(pr({powerPreference:"high-performance",canvas:t,antialias:!0,alpha:!0},e))};function vb(e){var n=ob.get(e),r=null==n?void 0:n.fiber,i=null==n?void 0:n.store;n&&console.warn("R3F.createRoot should only be called once!");var a,A="function"===typeof reportError?reportError:console.error,o=i||Xy(lb,ub),s=r||fb.createContainer(o,Jg.ConcurrentRoot,null,!1,null,"",A,null);n||ob.set(e,{fiber:s,store:o});var l,u=!1;return{configure:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.gl,r=t.size,i=t.scene,A=t.events,s=t.onCreated,c=t.shadows,f=void 0!==c&&c,d=t.linear,h=void 0!==d&&d,p=t.flat,v=void 0!==p&&p,m=t.legacy,g=void 0!==m&&m,y=t.orthographic,b=void 0!==y&&y,x=t.frameloop,_=void 0===x?"always":x,w=t.dpr,E=void 0===w?[1,2]:w,M=t.performance,S=t.raycaster,C=t.camera,T=t.onPointerMissed,k=o.getState(),B=k.gl;k.gl||k.set({gl:B=pb(n,e)});var R=k.raycaster;R||k.set({raycaster:R=new Gm});var P,I=S||{},D=I.params,L=ur(I,fy);if(Ty.equ(L,R,hb)||db(R,pr({},L)),Ty.equ(D,R.params,hb)||db(R,{params:pr(pr({},R.params),D)}),!k.camera||k.camera===l&&!Ty.equ(l,C,hb)){l=C;var U=C instanceof au,N=U?C:b?new Ru(0,0,0,0,.1,1e3):new Au(75,0,.1,1e3);U||(N.position.z=5,C&&db(N,C),k.camera||null!=C&&C.rotation||N.lookAt(0,0,0)),k.set({camera:N})}k.scene||(i instanceof td?P=i:(P=new td,i&&db(P,i)),k.set({scene:By(P)}));if(!k.xr){var O=function(e,t){var n=o.getState();"never"!==n.frameloop&&ub(e,!0,n,t)},F=function(){var e=o.getState();e.gl.xr.enabled=e.gl.xr.isPresenting,e.gl.xr.setAnimationLoop(e.gl.xr.isPresenting?O:null),e.gl.xr.isPresenting||lb(e)},z={connect:function(){var e=o.getState().gl;e.xr.addEventListener("sessionstart",F),e.xr.addEventListener("sessionend",F)},disconnect:function(){var e=o.getState().gl;e.xr.removeEventListener("sessionstart",F),e.xr.removeEventListener("sessionend",F)}};B.xr&&z.connect(),k.set({xr:z})}if(B.shadowMap){var G=B.shadowMap.enabled,H=B.shadowMap.type;if(B.shadowMap.enabled=!!f,Ty.boo(f))B.shadowMap.type=Gr;else if(Ty.str(f)){var V,W={basic:Fr,percentage:zr,soft:Gr,variance:Hr};B.shadowMap.type=null!=(V=W[f])?V:Gr}else Ty.obj(f)&&Object.assign(B.shadowMap,f);G===B.shadowMap.enabled&&H===B.shadowMap.type||(B.shadowMap.needsUpdate=!0)}var j=my();j&&("enabled"in j?j.enabled=!g:"legacyMode"in j&&(j.legacyMode=g));db(B,{outputEncoding:h?3e3:3001,toneMapping:v?Si:Bi}),k.legacy!==g&&k.set((function(){return{legacy:g}})),k.linear!==h&&k.set((function(){return{linear:h}})),k.flat!==v&&k.set((function(){return{flat:v}})),!n||Ty.fun(n)||jy(n)||Ty.equ(n,B,hb)||db(B,n),A&&!k.events.handlers&&k.set({events:A(o)});var Q=function(e,t){if(t)return t;if("undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement&&e.parentElement){var n=e.parentElement.getBoundingClientRect();return{width:n.width,height:n.height,top:n.top,left:n.left}}return"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas?{width:e.width,height:e.height,top:0,left:0}:{width:0,height:0,top:0,left:0}}(e,r);return Ty.equ(Q,k.size,hb)||k.setSize(Q.width,Q.height,Q.updateStyle,Q.top,Q.left),E&&k.viewport.dpr!==Sy(E)&&k.setDpr(E),k.frameloop!==_&&k.setFrameloop(_),k.onPointerMissed||k.set({onPointerMissed:T}),M&&!Ty.equ(M,k.performance,hb)&&k.set((function(e){return{performance:pr(pr({},e.performance),M)}})),a=s,u=!0,this},render:function(n){return u||this.configure(),fb.updateContainer(t.createElement(mb,{store:o,children:n,onCreated:a,rootElement:e}),s,null,(function(){})),o},unmount:function(){gb(e)}}}function mb(e){var n=e.store,r=e.children,i=e.onCreated,a=e.rootElement;return yy((function(){var e=n.getState();e.set((function(e){return{internal:pr(pr({},e.internal),{},{active:!0})}})),i&&i(e),n.getState().events.connected||null==e.events.connect||e.events.connect(a)}),[]),t.createElement(Qy.Provider,{value:n},r)}function gb(e,t){var n=ob.get(e),r=null==n?void 0:n.fiber;if(r){var i=null==n?void 0:n.store.getState();i&&(i.internal.active=!1),fb.updateContainer(null,r,null,(function(){i&&setTimeout((function(){try{var n,r,a,A;null==i.events.disconnect||i.events.disconnect(),null==(n=i.gl)||null==(r=n.renderLists)||null==r.dispose||r.dispose(),null==(a=i.gl)||null==a.forceContextLoss||a.forceContextLoss(),null!=(A=i.gl)&&A.xr&&i.xr.disconnect(),function(e){for(var t in e.dispose&&"Scene"!==e.type&&e.dispose(),e)null==t.dispose||t.dispose(),delete e[t]}(i),ob.delete(e),t&&t(e)}catch(o){}}),500)}))}}function yb(e){var n=e.state,r=void 0===n?{}:n,i=e.children,a=e.container,A=r.events,o=r.size,s=ur(r,dy),l=nb(),u=m(t.useState((function(){return new Gm})),1)[0],c=m(t.useState((function(){return new so})),1)[0],f=t.useCallback((function(e,t){var n=pr({},e);Object.keys(e).forEach((function(r){(Wy.includes(r)||e[r]!==t[r]&&t[r])&&delete n[r]}));var r=void 0;if(t&&o){var i=t.camera;r=e.viewport.getCurrentViewport(i,new Fo,o),i!==e.camera&&Fy(i,o)}return pr(pr({},n),{},{scene:a,raycaster:u,pointer:c,mouse:c,previousRoot:l,events:pr(pr(pr({},e.events),null==t?void 0:t.events),A),size:pr(pr({},e.size),o),viewport:pr(pr({},e.viewport),r)},s)}),[r]),d=t.useState((function(){var e=l.getState(),t=qg((function(t,n){return pr(pr(pr({},e),{},{scene:a,raycaster:u,pointer:c,mouse:c,previousRoot:l,events:pr(pr({},e.events),A),size:pr(pr({},e.size),o)},s),{},{set:t,get:n,setEvents:function(e){return t((function(t){return pr(pr({},t),{},{events:pr(pr({},t.events),e)})}))}})}));return t})),h=m(d,1)[0];return t.useEffect((function(){var e=l.subscribe((function(e){return h.setState((function(t){return f(e,t)}))}));return function(){e(),h.destroy()}}),[]),t.useEffect((function(){h.setState((function(e){return f(l.getState(),e)}))}),[f]),t.createElement(t.Fragment,null,fb.createPortal(t.createElement(Qy.Provider,{value:h},i),h,null))}fb.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:t.version});t.unstable_act;var bb=n(494),xb=n.n(bb);function _b(e){var n=void 0===e?{debounce:0,scroll:!1,offsetSize:!1}:e,r=n.debounce,i=n.scroll,a=n.polyfill,A=n.offsetSize,o=a||("undefined"===typeof window?gr((function e(){vr(this,e)})):window.ResizeObserver);if(!o)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");var s=m((0,t.useState)({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),2),l=s[0],u=s[1],c=(0,t.useRef)({element:null,scrollContainers:null,resizeObserver:null,lastBounds:l}),f=r?"number"===typeof r?r:r.scroll:null,d=r?"number"===typeof r?r:r.resize:null,h=(0,t.useRef)(!1);(0,t.useEffect)((function(){return h.current=!0,function(){h.current=!1}}));var p=m((0,t.useMemo)((function(){var e=function(){if(c.current.element){var e=c.current.element.getBoundingClientRect(),t={left:e.left,top:e.top,width:e.width,height:e.height,bottom:e.bottom,right:e.right,x:e.x,y:e.y};c.current.element instanceof HTMLElement&&A&&(t.height=c.current.element.offsetHeight,t.width=c.current.element.offsetWidth),Object.freeze(t),h.current&&!Mb(c.current.lastBounds,t)&&u(c.current.lastBounds=t)}};return[e,d?xb()(e,d):e,f?xb()(e,f):e]}),[u,A,f,d]),3),v=p[0],g=p[1],y=p[2];function b(){c.current.scrollContainers&&(c.current.scrollContainers.forEach((function(e){return e.removeEventListener("scroll",y,!0)})),c.current.scrollContainers=null),c.current.resizeObserver&&(c.current.resizeObserver.disconnect(),c.current.resizeObserver=null)}function x(){c.current.element&&(c.current.resizeObserver=new o(y),c.current.resizeObserver.observe(c.current.element),i&&c.current.scrollContainers&&c.current.scrollContainers.forEach((function(e){return e.addEventListener("scroll",y,{capture:!0,passive:!0})})))}var _,w,E;return _=y,w=Boolean(i),(0,t.useEffect)((function(){if(w){var e=_;return window.addEventListener("scroll",e,{capture:!0,passive:!0}),function(){window.removeEventListener("scroll",e,!0)}}}),[_,w]),E=g,(0,t.useEffect)((function(){var e=E;return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[E]),(0,t.useEffect)((function(){b(),x()}),[i,y,g]),(0,t.useEffect)((function(){return b}),[]),[function(e){e&&e!==c.current.element&&(b(),c.current.element=e,c.current.scrollContainers=wb(e),x())},l,v]}function wb(e){var t=[];if(!e||e===document.body)return t;var n=window.getComputedStyle(e);return[n.overflow,n.overflowX,n.overflowY].some((function(e){return"auto"===e||"scroll"===e}))&&t.push(e),[].concat(t,y(wb(e.parentElement)))}var Eb=["x","y","top","bottom","left","right","width","height"],Mb=function(e,t){return Eb.every((function(n){return e[n]===t[n]}))},Sb=Object.defineProperty,Cb=Object.defineProperties,Tb=Object.getOwnPropertyDescriptors,kb=Object.getOwnPropertySymbols,Bb=Object.prototype.hasOwnProperty,Rb=Object.prototype.propertyIsEnumerable,Pb=function(e,t,n){return t in e?Sb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Ib=function(e,t){for(var n in t||(t={}))Bb.call(t,n)&&Pb(e,n,t[n]);if(kb){var r,i=Mr(kb(t));try{for(i.s();!(r=i.n()).done;){n=r.value;Rb.call(t,n)&&Pb(e,n,t[n])}}catch(a){i.e(a)}finally{i.f()}}return e};function Db(e,t,n){if(e){if(!0===n(e))return e;for(var r=t?e.return:e.child;r;){var i=Db(r,t,n);if(i)return i;r=t?null:r.sibling}}}function Lb(e){try{return Object.defineProperties(e,{_currentRenderer:{get:function(){return null},set:function(){}},_currentRenderer2:{get:function(){return null},set:function(){}}})}catch(se){return e}}var Ub=Lb(t.createContext(null)),Nb=function(e){br(r,e);var n=Er(r);function r(){return vr(this,r),n.apply(this,arguments)}return gr(r,[{key:"render",value:function(){return t.createElement(Ub.Provider,{value:this._reactInternals},this.props.children)}}]),r}(t.Component),Ob=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Fb=Ob.ReactCurrentOwner,zb=Ob.ReactCurrentDispatcher;function Gb(){var e=t.useContext(Ub);if(null===e)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");var n=t.useId();return t.useMemo((function(){for(var t=0,r=[null==Fb?void 0:Fb.current,e,null==e?void 0:e.alternate];t<r.length;t++){var i=r[t];if(i){var a=Db(i,!1,(function(e){for(var t=e.memoizedState;t;){if(t.memoizedState===n)return!0;t=t.next}}));if(a)return a}}}),[e,n])}function Hb(){var e=function(){var e,n,r=Gb(),i=m(t.useState((function(){return new Map})),1)[0];i.clear();for(var a=r;a;){var A=null==(e=a.type)?void 0:e._context;A&&A!==Ub&&!i.has(A)&&i.set(A,null==(n=null==zb?void 0:zb.current)?void 0:n.readContext(Lb(A))),a=a.return}return i}();return t.useMemo((function(){return Array.from(e.keys()).reduce((function(n,r){return function(i){return t.createElement(n,null,t.createElement(r.Provider,function(e,t){return Cb(e,Tb(t))}(Ib({},i),{value:e.get(r)})))}}),(function(e){return t.createElement(Nb,Ib({},e))}))}),[e])}var Vb=["children","fallback","resize","style","gl","events","eventSource","eventPrefix","shadows","linear","flat","legacy","orthographic","frameloop","dpr","performance","raycaster","camera","onPointerMissed","onCreated"],Wb={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function jb(e){var t=Hy(e).handlePointer;return{priority:1,enabled:!0,compute:function(e,t,n){t.pointer.set(e.offsetX/t.size.width*2-1,-e.offsetY/t.size.height*2+1),t.raycaster.setFromCamera(t.pointer,t.camera)},connected:void 0,handlers:Object.keys(Wb).reduce((function(e,n){return pr(pr({},e),{},dr({},n,t(n)))}),{}),update:function(){var t,n=e.getState(),r=n.events,i=n.internal;null!=(t=i.lastEvent)&&t.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:function(t){var n,r=e.getState(),i=r.set,a=r.events;null==a.disconnect||a.disconnect(),i((function(e){return{events:pr(pr({},e.events),{},{connected:t})}})),Object.entries(null!=(n=a.handlers)?n:[]).forEach((function(e){var n=m(e,2),r=n[0],i=n[1],a=m(Wb[r],2),A=a[0],o=a[1];t.addEventListener(A,i,{passive:o})}))},disconnect:function(){var t,n=e.getState(),r=n.set,i=n.events;i.connected&&(Object.entries(null!=(t=i.handlers)?t:[]).forEach((function(e){var t=m(e,2),n=t[0],r=t[1];if(i&&i.connected instanceof HTMLElement){var a=m(Wb[n],1)[0];i.connected.removeEventListener(a,r)}})),r((function(e){return{events:pr(pr({},e.events),{},{connected:void 0})}})))}}}var Qb=t.forwardRef((function(n,r){var i=n.children,a=n.fallback,A=n.resize,o=n.style,s=n.gl,l=n.events,u=void 0===l?jb:l,c=n.eventSource,f=n.eventPrefix,d=n.shadows,h=n.linear,p=n.flat,v=n.legacy,g=n.orthographic,y=n.frameloop,x=n.dpr,_=n.performance,w=n.raycaster,E=n.camera,M=n.onPointerMissed,S=n.onCreated,C=ur(n,Vb);t.useMemo((function(){return py(e)}),[]);var T=Hb(),k=m(_b(pr({scroll:!0,debounce:{scroll:50,resize:0}},A)),2),B=k[0],R=k[1],P=t.useRef(null),I=t.useRef(null);t.useImperativeHandle(r,(function(){return P.current}));var D=by(M),L=m(t.useState(!1),2),U=L[0],N=L[1],O=m(t.useState(!1),2),F=O[0],z=O[1];if(U)throw U;if(F)throw F;var G=t.useRef(null);yy((function(){var e=P.current;R.width>0&&R.height>0&&e&&(G.current||(G.current=vb(e)),G.current.configure({gl:s,events:u,shadows:d,linear:h,flat:p,legacy:v,orthographic:g,frameloop:y,dpr:x,performance:_,raycaster:w,camera:E,size:R,onPointerMissed:function(){return null==D.current?void 0:D.current.apply(D,arguments)},onCreated:function(e){var t;null==e.events.connect||e.events.connect(c?(t=c)&&t.hasOwnProperty("current")?c.current:c:I.current),f&&e.setEvents({compute:function(e,t){var n=e[f+"X"],r=e[f+"Y"];t.pointer.set(n/t.size.width*2-1,-r/t.size.height*2+1),t.raycaster.setFromCamera(t.pointer,t.camera)}}),null==S||S(e)}}),G.current.render(t.createElement(T,null,t.createElement(_y,{set:z},t.createElement(t.Suspense,{fallback:t.createElement(xy,{set:N})},i)))))})),t.useEffect((function(){var e=P.current;if(e)return function(){return gb(e)}}),[]);var H=c?"none":"auto";return t.createElement("div",b({ref:I,style:pr({position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:H},o)},C),t.createElement("div",{ref:B,style:{width:"100%",height:"100%"}},t.createElement("canvas",{ref:P,style:{display:"block"}},a)))})),Xb=t.forwardRef((function(e,n){return t.createElement(Nb,null,t.createElement(Qb,b({},e,{ref:n})))})),Jb=function(e){br(n,e);var t=Er(n);function n(e,r){var i,a;vr(this,n);var A,o=(A=e)&&A.isCubeTexture,s=(null!=(a=o?null==(i=e.image[0])?void 0:i.width:e.image.width)?a:1024)/4,l=Math.floor(Math.log2(s)),u=Math.pow(2,l),c=3*Math.max(u,112),f=4*u,d=[o?"#define ENVMAP_TYPE_CUBE":"","#define CUBEUV_TEXEL_WIDTH ".concat(1/c),"#define CUBEUV_TEXEL_HEIGHT ".concat(1/f),"#define CUBEUV_MAX_MIP ".concat(l,".0")].join("\n")+"\n        #define ENVMAP_TYPE_CUBE_UV\n        varying vec3 vWorldPosition;\n        uniform float radius;\n        uniform float height;\n        uniform float angle;\n        #ifdef ENVMAP_TYPE_CUBE\n            uniform samplerCube map;\n        #else\n            uniform sampler2D map;\n        #endif\n        // From: https://www.shadertoy.com/view/4tsBD7\n        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) \n        {\n            float d = dot ( rd, n );\n            \n            if( d > 0.0 ) { return 1e6; }\n            \n            vec3  o = ro - c;\n            float t = - dot( n, o ) / d;\n            vec3  q = o + rd * t;\n            \n            return ( dot( q, q ) < r * r ) ? t : 1e6;\n        }\n        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm\n        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) \n        {\n            vec3 oc = ro - ce;\n            float b = dot( oc, rd );\n            float c = dot( oc, oc ) - ra * ra;\n            float h = b * b - c;\n            \n            if( h < 0.0 ) { return -1.0; }\n            \n            h = sqrt( h );\n            \n            return - b + h;\n        }\n        vec3 project() \n        {\n            vec3 p = normalize( vWorldPosition );\n            vec3 camPos = cameraPosition;\n            camPos.y -= height;\n            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );\n            if( intersection > 0.0 ) {\n                \n                vec3 h = vec3( 0.0, - height, 0.0 );\n                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );\n                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;\n            } else {\n                p = vec3( 0.0, 1.0, 0.0 );\n            }\n            return p;\n        }\n        #include <common>\n        #include <cube_uv_reflection_fragment>\n        void main() \n        {\n            vec3 projectedWorldPosition = project();\n            \n            #ifdef ENVMAP_TYPE_CUBE\n                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;\n            #else\n                vec3 direction = normalize( projectedWorldPosition );\n                vec2 uv = equirectUv( direction );\n                vec3 outcolor = texture2D( map, uv ).rgb;\n            #endif\n            gl_FragColor = vec4( outcolor, 1.0 );\n            #include <tonemapping_fragment>\n            #include <encodings_fragment>\n        }\n        ",h={map:{value:e},height:{value:(null==r?void 0:r.height)||15},radius:{value:(null==r?void 0:r.radius)||100}},p=new Ep(1,16),v=new iu({uniforms:h,fragmentShader:d,vertexShader:"\n        varying vec3 vWorldPosition;\n        void main() \n        {\n            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );\n            vWorldPosition = worldPosition.xyz;\n            \n            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n        }\n        ",side:jr});return t.call(this,p,v)}return gr(n,[{key:"radius",get:function(){return this.material.uniforms.radius.value},set:function(e){this.material.uniforms.radius.value=e}},{key:"height",get:function(){return this.material.uniforms.height.value},set:function(e){this.material.uniforms.height.value=e}}]),n}(ql),Kb=function(e){br(n,e);var t=Er(n);function n(e){var r;return vr(this,n),(r=t.call(this,e)).type=ia,r}return gr(n,[{key:"parse",value:function(e){var t=function(e,t){switch(e){case 1:console.error("THREE.RGBELoader Read Error: "+(t||""));break;case 2:console.error("THREE.RGBELoader Write Error: "+(t||""));break;case 3:console.error("THREE.RGBELoader Bad File Format: "+(t||""));break;default:console.error("THREE.RGBELoader: Error: "+(t||""))}return-1},n=function(e,t,n){t=t||1024;for(var r=e.pos,i=-1,a=0,A="",o=String.fromCharCode.apply(null,new Uint16Array(e.subarray(r,r+128)));0>(i=o.indexOf("\n"))&&a<t&&r<e.byteLength;)A+=o,a+=o.length,r+=128,o+=String.fromCharCode.apply(null,new Uint16Array(e.subarray(r,r+128)));return-1<i&&(!1!==n&&(e.pos+=a+i+1),A+o.slice(0,i))},r=function(e,t,n,r){var i=e[t+3],a=Math.pow(2,i-128)/255;n[r+0]=e[t+0]*a,n[r+1]=e[t+1]*a,n[r+2]=e[t+2]*a,n[r+3]=1},i=function(e,t,n,r){var i=e[t+3],a=Math.pow(2,i-128)/255;n[r+0]=fl.toHalfFloat(Math.min(e[t+0]*a,65504)),n[r+1]=fl.toHalfFloat(Math.min(e[t+1]*a,65504)),n[r+2]=fl.toHalfFloat(Math.min(e[t+2]*a,65504)),n[r+3]=fl.toHalfFloat(1)},a=new Uint8Array(e);a.pos=0;var A=function(e){var r,i,a=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,A=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,o=/^\s*FORMAT=(\S+)\s*$/,s=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,l={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};if(e.pos>=e.byteLength||!(r=n(e)))return t(1,"no header found");if(!(i=r.match(/^#\?(\S+)/)))return t(3,"bad initial token");for(l.valid|=1,l.programtype=i[1],l.string+=r+"\n";!1!==(r=n(e));)if(l.string+=r+"\n","#"!==r.charAt(0)){if((i=r.match(a))&&(l.gamma=parseFloat(i[1])),(i=r.match(A))&&(l.exposure=parseFloat(i[1])),(i=r.match(o))&&(l.valid|=2,l.format=i[1]),(i=r.match(s))&&(l.valid|=4,l.height=parseInt(i[1],10),l.width=parseInt(i[2],10)),2&l.valid&&4&l.valid)break}else l.comments+=r+"\n";return 2&l.valid?4&l.valid?l:t(3,"missing image size specifier"):t(3,"missing format specifier")}(a);if(-1!==A){var o=A.width,s=A.height,l=function(e,n,r){var i=n;if(i<8||i>32767||2!==e[0]||2!==e[1]||128&e[2])return new Uint8Array(e);if(i!==(e[2]<<8|e[3]))return t(3,"wrong scanline width");var a=new Uint8Array(4*n*r);if(!a.length)return t(4,"unable to allocate buffer space");for(var A=0,o=0,s=4*i,l=new Uint8Array(4),u=new Uint8Array(s),c=r;c>0&&o<e.byteLength;){if(o+4>e.byteLength)return t(1);if(l[0]=e[o++],l[1]=e[o++],l[2]=e[o++],l[3]=e[o++],2!=l[0]||2!=l[1]||(l[2]<<8|l[3])!=i)return t(3,"bad rgbe scanline format");for(var f=0,d=void 0;f<s&&o<e.byteLength;){var h=(d=e[o++])>128;if(h&&(d-=128),0===d||f+d>s)return t(3,"bad scanline data");if(h)for(var p=e[o++],v=0;v<d;v++)u[f++]=p;else u.set(e.subarray(o,o+d),f),f+=d,o+=d}for(var m=i,g=0;g<m;g++){var y=0;a[A]=u[g+y],y+=i,a[A+1]=u[g+y],y+=i,a[A+2]=u[g+y],y+=i,a[A+3]=u[g+y],A+=4}c--}return a}(a.subarray(a.pos),o,s);if(-1!==l){var u,c,f;switch(this.type){case ra:f=l.length/4;for(var d=new Float32Array(4*f),h=0;h<f;h++)r(l,4*h,d,4*h);u=d,c=ra;break;case ia:f=l.length/4;for(var p=new Uint16Array(4*f),v=0;v<f;v++)i(l,4*v,p,4*v);u=p,c=ia;break;default:console.error("THREE.RGBELoader: unsupported type: ",this.type)}return{width:o,height:s,data:u,header:A.string,gamma:A.gamma,exposure:A.exposure,type:c}}}return null}},{key:"setDataType",value:function(e){return this.type=e,this}},{key:"load",value:function(e,t,r,i){return Br(xr(n.prototype),"load",this).call(this,e,(function(e,n){switch(e.type){case ra:case ia:"colorSpace"in e?e.colorSpace="srgb-linear":e.encoding=3e3,e.minFilter=Qi,e.magFilter=Qi,e.generateMipmaps=!1,e.flipY=!0}t&&t(e,n)}),r,i)}}]),n}(Mv),Yb={sunset:"venice/venice_sunset_1k.hdr",dawn:"kiara/kiara_1_dawn_1k.hdr",night:"dikhololo/dikhololo_night_1k.hdr",warehouse:"empty-wharehouse/empty_warehouse_01_1k.hdr",forest:"forrest-slope/forest_slope_1k.hdr",apartment:"lebombo/lebombo_1k.hdr",studio:"studio-small-3/studio_small_03_1k.hdr",city:"potsdamer-platz/potsdamer_platz_1k.hdr",park:"rooitou/rooitou_park_1k.hdr",lobby:"st-fagans/st_fagans_interior_1k.hdr"},qb="https://market-assets.fra1.cdn.digitaloceanspaces.com/market-assets/hdris/";function Zb(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.files,n=void 0===t?["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"]:t,r=e.path,i=void 0===r?"":r,a=e.preset,A=void 0===a?void 0:a,o=e.encoding,s=void 0===o?void 0:o,l=e.extensions;if(A){if(!(A in Yb))throw new Error("Preset must be one of: "+Object.keys(Yb).join(", "));n=Yb[A],i=qb}var u=Array.isArray(n),c=Ab(u?Ev:Kb,u?[n]:n,(function(e){e.setPath(i),l&&l(e)})),f=u?c[0]:c;return f.mapping=u?Ii:Li,f.encoding=(null!==s&&void 0!==s?s:u)?uA:lA,f}var $b=["background","scene","blur"],ex=function(e){return(t=e).current&&t.current.isScene?e.current:e;var t};function tx(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=ex(t||n),A=a.background,o=a.environment,s=a.backgroundBlurriness||0;return"only"!==e&&(a.environment=r),e&&(a.background=r),e&&void 0!==a.backgroundBlurriness&&(a.backgroundBlurriness=i),function(){"only"!==e&&(a.environment=o),e&&(a.background=A),e&&void 0!==a.backgroundBlurriness&&(a.backgroundBlurriness=s)}}function nx(e){var n=e.scene,r=e.background,i=void 0!==r&&r,a=e.blur,A=e.map,o=rb((function(e){return e.scene}));return t.useLayoutEffect((function(){if(A)return tx(i,n,o,A,a)}),[o,n,A,i,a]),null}function rx(e){var n=e.background,r=void 0!==n&&n,i=e.scene,a=e.blur,A=Zb(ur(e,$b)),o=rb((function(e){return e.scene}));return t.useLayoutEffect((function(){return tx(r,i,o,A,a)}),[A,r,i,o,a]),null}function ix(e){var n=e.children,r=e.near,i=void 0===r?1:r,a=e.far,A=void 0===a?1e3:a,o=e.resolution,s=void 0===o?256:o,l=e.frames,u=void 0===l?1:l,c=e.map,f=e.background,d=void 0!==f&&f,h=e.blur,p=e.scene,v=e.files,g=e.path,y=e.preset,b=void 0===y?void 0:y,x=e.extensions,_=rb((function(e){return e.gl})),w=rb((function(e){return e.scene})),E=t.useRef(null),M=m(t.useState((function(){return new td})),1)[0],S=t.useMemo((function(){var e=new uu(s);return e.texture.type=ia,e}),[s]);t.useLayoutEffect((function(){return 1===u&&E.current.update(_,M),tx(d,p,w,S.texture,h)}),[n,M,S.texture,p,w,d,u,_]);var C=1;return ib((function(){(u===1/0||C<u)&&(E.current.update(_,M),C++)})),t.createElement(t.Fragment,null,function(e,n,r){return t.createElement(yb,{key:n.uuid,children:e,container:n,state:r})}(t.createElement(t.Fragment,null,n,t.createElement("cubeCamera",{ref:E,args:[i,A,S]}),v||b?t.createElement(rx,{background:!0,files:v,preset:b,path:g,extensions:x}):c?t.createElement(nx,{background:!0,map:c,extensions:x}):null),M))}function ax(e){var n,r,i,a,A=Zb(e),o=e.map||A;t.useMemo((function(){return py({GroundProjectedEnvImpl:Jb})}),[]);var s=t.useMemo((function(){return[o]}),[o]),l=null==(n=e.ground)?void 0:n.height,u=null==(r=e.ground)?void 0:r.radius,c=null!==(i=null==(a=e.ground)?void 0:a.scale)&&void 0!==i?i:1e3;return t.createElement(t.Fragment,null,t.createElement(nx,b({},e,{map:o})),t.createElement("groundProjectedEnvImpl",{args:s,scale:c,height:l,radius:u}))}function Ax(e){return e.ground?t.createElement(ax,e):e.map?t.createElement(nx,e):e.children?t.createElement(ix,e):t.createElement(rx,e)}var ox={uniforms:{tDiffuse:{value:null},h:{value:1/512}},vertexShader:"\n      varying vec2 vUv;\n\n      void main() {\n\n        vUv = uv;\n        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n      }\n  ",fragmentShader:"\n    uniform sampler2D tDiffuse;\n    uniform float h;\n\n    varying vec2 vUv;\n\n    void main() {\n\n    \tvec4 sum = vec4( 0.0 );\n\n    \tsum += texture2D( tDiffuse, vec2( vUv.x - 4.0 * h, vUv.y ) ) * 0.051;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x - 3.0 * h, vUv.y ) ) * 0.0918;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x - 2.0 * h, vUv.y ) ) * 0.12245;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x - 1.0 * h, vUv.y ) ) * 0.1531;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x + 1.0 * h, vUv.y ) ) * 0.1531;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x + 2.0 * h, vUv.y ) ) * 0.12245;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x + 3.0 * h, vUv.y ) ) * 0.0918;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x + 4.0 * h, vUv.y ) ) * 0.051;\n\n    \tgl_FragColor = sum;\n\n    }\n  "},sx={uniforms:{tDiffuse:{value:null},v:{value:1/512}},vertexShader:"\n    varying vec2 vUv;\n\n    void main() {\n\n      vUv = uv;\n      gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n    }\n  ",fragmentShader:"\n\n  uniform sampler2D tDiffuse;\n  uniform float v;\n\n  varying vec2 vUv;\n\n  void main() {\n\n    vec4 sum = vec4( 0.0 );\n\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 4.0 * v ) ) * 0.051;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 3.0 * v ) ) * 0.0918;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 2.0 * v ) ) * 0.12245;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 1.0 * v ) ) * 0.1531;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 1.0 * v ) ) * 0.1531;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 2.0 * v ) ) * 0.12245;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 3.0 * v ) ) * 0.0918;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 4.0 * v ) ) * 0.051;\n\n    gl_FragColor = sum;\n\n  }\n  "},lx=["scale","frames","opacity","width","height","blur","far","resolution","smooth","color","depthWrite","renderOrder"],ux=t.forwardRef((function(e,n){var r=e.scale,i=void 0===r?10:r,a=e.frames,A=void 0===a?1/0:a,o=e.opacity,s=void 0===o?1:o,l=e.width,u=void 0===l?1:l,c=e.height,f=void 0===c?1:c,d=e.blur,h=void 0===d?1:d,p=e.far,v=void 0===p?10:p,g=e.resolution,y=void 0===g?512:g,x=e.smooth,_=void 0===x||x,w=e.color,E=void 0===w?"#000000":w,M=e.depthWrite,S=void 0!==M&&M,C=e.renderOrder,T=ur(e,lx),k=t.useRef(null),B=rb((function(e){return e.scene})),R=rb((function(e){return e.gl})),P=t.useRef(null);u*=Array.isArray(i)?i[0]:i||1,f*=Array.isArray(i)?i[1]:i||1;var I,D,L=t.useMemo((function(){var e=new Po(y,y),t=new Po(y,y);t.texture.generateMipmaps=e.texture.generateMipmaps=!1;var n=new bu(u,f).rotateX(Math.PI/2),r=new ql(n),i=new Uf;i.depthTest=i.depthWrite=!1,i.onBeforeCompile=function(e){e.uniforms=pr(pr({},e.uniforms),{},{ucolor:{value:new al(E)}}),e.fragmentShader=e.fragmentShader.replace("void main() {","uniform vec3 ucolor;\n           void main() {\n          "),e.fragmentShader=e.fragmentShader.replace("vec4( vec3( 1.0 - fragCoordZ ), opacity );","vec4( ucolor * fragCoordZ * 2.0, ( 1.0 - fragCoordZ ) * 1.0 );")};var a=new iu(ox),A=new iu(sx);return A.depthTest=a.depthTest=!1,[e,n,i,r,a,A,t]}),[y,u,f,i,E]),U=m(L,7),N=U[0],O=U[1],F=U[2],z=U[3],G=U[4],H=U[5],V=U[6],W=function(e){z.visible=!0,z.material=G,G.uniforms.tDiffuse.value=N.texture,G.uniforms.h.value=1*e/256,R.setRenderTarget(V),R.render(z,P.current),z.material=H,H.uniforms.tDiffuse.value=V.texture,H.uniforms.v.value=1*e/256,R.setRenderTarget(N),R.render(z,P.current),z.visible=!1},j=0;return ib((function(){P.current&&(A===1/0||j<A)&&(j++,I=B.background,D=B.overrideMaterial,k.current.visible=!1,B.background=null,B.overrideMaterial=F,R.setRenderTarget(N),R.render(B,P.current),W(h),_&&W(.4*h),R.setRenderTarget(null),k.current.visible=!0,B.overrideMaterial=D,B.background=I)})),t.useImperativeHandle(n,(function(){return k.current}),[]),t.createElement("group",b({"rotation-x":Math.PI/2},T,{ref:k}),t.createElement("mesh",{renderOrder:C,geometry:O,scale:[1,-1,1],rotation:[-Math.PI/2,0,0]},t.createElement("meshBasicMaterial",{transparent:!0,map:N.texture,opacity:s,depthWrite:S})),t.createElement("orthographicCamera",{ref:P,args:[-u/2,u/2,f/2,-f/2,0,v]}))})),cx=["children","disable","disableX","disableY","disableZ","left","right","top","bottom","front","back","onCentered","precise","cacheKey"],fx=t.forwardRef((function(e,n){var r=e.children,i=e.disable,a=e.disableX,A=e.disableY,o=e.disableZ,s=e.left,l=e.right,u=e.top,c=e.bottom,f=e.front,d=e.back,h=e.onCentered,p=e.precise,v=void 0===p||p,m=e.cacheKey,g=void 0===m?0:m,y=ur(e,cx),x=t.useRef(null),_=t.useRef(null),w=t.useRef(null);return t.useLayoutEffect((function(){_.current.matrixWorld.identity();var e=(new Ho).setFromObject(w.current,v),t=new Fo,n=new As,r=e.max.x-e.min.x,p=e.max.y-e.min.y,m=e.max.z-e.min.z;e.getCenter(t),e.getBoundingSphere(n);var g=u?p/2:c?-p/2:0,y=s?-r/2:l?r/2:0,b=f?m/2:d?-m/2:0;_.current.position.set(i||a?0:-t.x+y,i||A?0:-t.y+g,i||o?0:-t.z+b),"undefined"!==typeof h&&h({parent:x.current.parent,container:x.current,width:r,height:p,depth:m,boundingBox:e,boundingSphere:n,center:t,verticalAlignment:g,horizontalAlignment:y,depthAlignment:b})}),[g,h,u,s,f,i,a,A,o,v,l,c,d]),t.useImperativeHandle(n,(function(){return x.current}),[]),t.createElement("group",b({ref:x},y),t.createElement("group",{ref:_},t.createElement("group",{ref:w},r)))}));function dx(e,t,n,r){var i=function(i){br(A,i);var a=Er(A);function A(){var i,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};vr(this,A);var s=Object.entries(e);return(i=a.call(this,{uniforms:s.reduce((function(e,t){var n=m(t,2),r=n[0],i=n[1],a=ru.clone(dr({},r,{value:i}));return pr(pr({},e),a)}),{}),vertexShader:t,fragmentShader:n})).key="",s.forEach((function(e){var t=m(e,1)[0];return Object.defineProperty(wr(i),t,{get:function(){return i.uniforms[t].value},set:function(e){return i.uniforms[t].value=e}})})),Object.assign(wr(i),o),r&&r(wr(i)),i}return gr(A)}(iu);return i.key=oo.generateUUID(),i}var hx=dx({},"void main() { }","void main() { gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0); discard;  }"),px=["children","temporal","frames","limit","blend","scale","opacity","alphaTest","color","colorBlend","resolution","toneMapped"],vx=["castShadow","bias","mapSize","size","near","far","frames","position","radius","amount","intensity","ambient"];var mx=t.createContext(null),gx=dx({color:new al,blend:2,alphaTest:.75,opacity:0,map:null},"varying vec2 vUv;\n   void main() {\n     gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4(position, 1.);\n     vUv = uv;\n   }","varying vec2 vUv;\n   uniform sampler2D map;\n   uniform vec3 color;\n   uniform float opacity;\n   uniform float alphaTest;\n   uniform float blend;\n   void main() {\n     vec4 sampledDiffuseColor = texture2D(map, vUv);\n     gl_FragColor = vec4(color * sampledDiffuseColor.r * blend, max(0.0, (1.0 - (sampledDiffuseColor.r + sampledDiffuseColor.g + sampledDiffuseColor.b) / alphaTest)) * opacity);\n     #include <tonemapping_fragment>\n     #include <encodings_fragment>\n   }"),yx=t.forwardRef((function(e,n){var r=e.children,i=e.temporal,a=e.frames,A=void 0===a?40:a,o=e.limit,s=void 0===o?1/0:o,l=e.blend,u=void 0===l?20:l,c=e.scale,f=void 0===c?10:c,d=e.opacity,h=void 0===d?1:d,p=e.alphaTest,v=void 0===p?.75:p,g=e.color,y=void 0===g?"black":g,b=e.colorBlend,x=void 0===b?2:b,_=e.resolution,w=void 0===_?1024:_,E=e.toneMapped,M=void 0===E||E,S=ur(e,px);py({SoftShadowMaterial:gx});var C=rb((function(e){return e.gl})),T=rb((function(e){return e.scene})),k=rb((function(e){return e.camera})),B=rb((function(e){return e.invalidate})),R=t.useRef(null),P=t.useRef(null),I=m(t.useState((function(){return new xx(C,T,w)})),1)[0];t.useLayoutEffect((function(){I.configure(R.current)}),[]);var D=t.useMemo((function(){return{lights:new Map,temporal:!!i,frames:Math.max(2,A),blend:Math.max(2,A===1/0?u:A),count:0,getMesh:function(){return R.current},reset:function(){I.clear();var e=R.current.material;e.opacity=0,e.alphaTest=0,D.count=0},update:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=R.current.material;D.temporal?(t.opacity=Math.min(h,t.opacity+h/D.blend),t.alphaTest=Math.min(v,t.alphaTest+v/D.blend)):(t.opacity=h,t.alphaTest=v),P.current.visible=!0,I.prepare();for(var n=0;n<e;n++)D.lights.forEach((function(e){return e.update()})),I.update(k,D.blend);P.current.visible=!1,I.finish()}}}),[I,k,T,i,A,u,h,v]);return t.useLayoutEffect((function(){D.reset(),D.temporal||D.frames===1/0||D.update(D.blend)})),t.useImperativeHandle(n,(function(){return D}),[D]),ib((function(){(D.temporal||D.frames===1/0)&&D.count<D.frames&&D.count<s&&(B(),D.update(),D.count++)})),t.createElement("group",S,t.createElement("group",{traverse:function(){return null},ref:P},t.createElement(mx.Provider,{value:D},r)),t.createElement("mesh",{receiveShadow:!0,ref:R,scale:f,rotation:[-Math.PI/2,0,0]},t.createElement("planeGeometry",null),t.createElement("softShadowMaterial",{transparent:!0,depthWrite:!1,toneMapped:M,color:y,blend:x,map:I.progressiveLightMap2.texture})))})),bx=t.forwardRef((function(e,n){var r=e.castShadow,i=void 0===r||r,a=e.bias,A=void 0===a?.001:a,o=e.mapSize,s=void 0===o?512:o,l=e.size,u=void 0===l?5:l,c=e.near,f=void 0===c?.5:c,d=e.far,h=void 0===d?500:d,p=(e.frames,e.position),v=void 0===p?[0,0,0]:p,m=e.radius,g=void 0===m?1:m,x=e.amount,_=void 0===x?8:x,w=e.intensity,E=void 0===w?1:w,M=e.ambient,S=void 0===M?.5:M,C=ur(e,vx),T=t.useRef(null),k=Sr(Fo,y(v)).length(),B=t.useContext(mx),R=t.useCallback((function(){var e;if(T.current)for(var t=0;t<T.current.children.length;t++)if(e=T.current.children[t],Math.random()>S)e.position.set(v[0]+oo.randFloatSpread(g),v[1]+oo.randFloatSpread(g),v[2]+oo.randFloatSpread(g));else{var n=Math.acos(2*Math.random()-1)-Math.PI/2,r=2*Math.PI*Math.random();e.position.set(Math.cos(n)*Math.cos(r)*k,Math.abs(Math.cos(n)*Math.sin(r)*k),Math.sin(n)*k)}}),[g,S,k].concat(y(v))),P=t.useMemo((function(){return{update:R}}),[R]);return t.useImperativeHandle(n,(function(){return P}),[P]),t.useLayoutEffect((function(){var e=T.current;return B&&B.lights.set(e.uuid,P),function(){B.lights.delete(e.uuid)}}),[B,P]),t.createElement("group",b({ref:T},C),Array.from({length:_},(function(e,n){return t.createElement("directionalLight",{key:n,castShadow:i,"shadow-bias":A,"shadow-mapSize":[s,s],intensity:E/_},t.createElement("orthographicCamera",{attach:"shadow-camera",args:[-u,u,u,-u,f,h]}))})))})),xx=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1024;vr(this,e),this.renderer=t,this.res=i,this.scene=n,this.buffer1Active=!1,this.lights=[],this.meshes=[],this.object=null,this.clearColor=new al,this.clearAlpha=0;var a=/(Android|iPad|iPhone|iPod)/g.test(navigator.userAgent)?ia:ra;this.progressiveLightMap1=new Po(this.res,this.res,{type:a}),this.progressiveLightMap2=new Po(this.res,this.res,{type:a}),this.discardMat=new hx,this.targetMat=new Vp({fog:!1}),this.previousShadowMap={value:this.progressiveLightMap1.texture},this.averagingWindow={value:100},this.targetMat.onBeforeCompile=function(e){e.vertexShader="varying vec2 vUv;\n"+e.vertexShader.slice(0,-1)+"vUv = uv; gl_Position = vec4((uv - 0.5) * 2.0, 1.0, 1.0); }";var t=e.fragmentShader.indexOf("void main() {");e.fragmentShader="varying vec2 vUv;\n"+e.fragmentShader.slice(0,t)+"uniform sampler2D previousShadowMap;\n\tuniform float averagingWindow;\n"+e.fragmentShader.slice(t-1,-1)+"\nvec3 texelOld = texture2D(previousShadowMap, vUv).rgb;\n        gl_FragColor.rgb = mix(texelOld, gl_FragColor.rgb, 1.0/ averagingWindow);\n      }",e.uniforms.previousShadowMap=r.previousShadowMap,e.uniforms.averagingWindow=r.averagingWindow}}return gr(e,[{key:"clear",value:function(){var e=this;this.renderer.getClearColor(this.clearColor),this.clearAlpha=this.renderer.getClearAlpha(),this.renderer.setClearColor("black",1),this.renderer.setRenderTarget(this.progressiveLightMap1),this.renderer.clear(),this.renderer.setRenderTarget(this.progressiveLightMap2),this.renderer.clear(),this.renderer.setRenderTarget(null),this.renderer.setClearColor(this.clearColor,this.clearAlpha),this.lights=[],this.meshes=[],this.scene.traverse((function(t){!function(e){return!!e.geometry}(t)?function(e){return e.isLight}(t)&&e.lights.push({object:t,intensity:t.intensity}):e.meshes.push({object:t,material:t.material})}))}},{key:"prepare",value:function(){var e=this;this.lights.forEach((function(e){return e.object.intensity=0})),this.meshes.forEach((function(t){return t.object.material=e.discardMat}))}},{key:"finish",value:function(){this.lights.forEach((function(e){return e.object.intensity=e.intensity})),this.meshes.forEach((function(e){return e.object.material=e.material}))}},{key:"configure",value:function(e){this.object=e}},{key:"update",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;if(this.object){this.averagingWindow.value=t,this.object.material=this.targetMat;var n=this.buffer1Active?this.progressiveLightMap1:this.progressiveLightMap2,r=this.buffer1Active?this.progressiveLightMap2:this.progressiveLightMap1,i=this.scene.background;this.scene.background=null,this.renderer.setRenderTarget(n),this.previousShadowMap.value=r.texture,this.buffer1Active=!this.buffer1Active,this.renderer.render(this.scene,e),this.renderer.setRenderTarget(null),this.scene.background=i}}}]),e}(),_x=function(e){return e&&e.isOrthographicCamera},wx=function(e){return e&&e.isBox3},Ex=t.createContext(null);function Mx(e){var n=e.children,r=e.damping,i=void 0===r?6:r,a=e.fit,A=e.clip,o=e.observe,s=e.margin,l=void 0===s?1.2:s,u=e.eps,c=void 0===u?.01:u,f=e.onFit,d=t.useRef(null),h=rb(),p=h.camera,v=h.invalidate,g=h.size,b=h.controls,x=t.useRef(f);function _(e,t){return Math.abs(e.x-t.x)<c&&Math.abs(e.y-t.y)<c&&Math.abs(e.z-t.z)<c}function w(e,t,n,r){e.x=oo.damp(e.x,t.x,n,r),e.y=oo.damp(e.y,t.y,n,r),e.z=oo.damp(e.z,t.z,n,r)}x.current=f;var E=m(t.useState((function(){return{animating:!1,focus:new Fo,camera:new Fo,zoom:1}})),1)[0],M=m(t.useState((function(){return{focus:new Fo,camera:new Fo,zoom:1}})),1)[0],S=m(t.useState((function(){return new Ho})),1)[0],C=t.useMemo((function(){function e(){var e=S.getSize(new Fo),t=S.getCenter(new Fo),n=Math.max(e.x,e.y,e.z),r=_x(p)?4*n:n/(2*Math.atan(Math.PI*p.fov/360)),i=_x(p)?4*n:r/p.aspect,a=l*Math.max(r,i);return{box:S,size:e,center:t,distance:a}}return{getSize:e,refresh:function(t){if(wx(t))S.copy(t);else{var n=t||d.current;n.updateWorldMatrix(!0,!0),S.setFromObject(n)}if(S.isEmpty()){var r=p.position.length()||10;S.setFromCenterAndSize(new Fo,new Fo(r,r,r))}if("OrthographicTrackballControls"===(null==b?void 0:b.constructor.name)){var i=e().distance,a=p.position.clone().sub(b.target).normalize().multiplyScalar(i),A=b.target.clone().add(a);p.position.copy(A)}return this},clip:function(){var t=e().distance;return b&&(b.maxDistance=10*t),p.near=t/100,p.far=100*t,p.updateProjectionMatrix(),b&&b.update(),v(),this},to:function(t){var n,r=t.position,a=t.target;E.camera.copy(p.position);var A,o,s=e().center;((n=M.camera).set.apply(n,y(r)),a)?(A=M.focus).set.apply(A,y(a)):M.focus.copy(s);i?E.animating=!0:(o=p.position).set.apply(o,y(r));return this},fit:function(){E.camera.copy(p.position),b&&E.focus.copy(b.target);var t=e(),n=t.center,r=t.distance,a=n.clone().sub(p.position).normalize().multiplyScalar(r);if(M.camera.copy(n).sub(a),M.focus.copy(n),_x(p)){E.zoom=p.zoom;var A=0,o=0,s=[new Fo(S.min.x,S.min.y,S.min.z),new Fo(S.min.x,S.max.y,S.min.z),new Fo(S.min.x,S.min.y,S.max.z),new Fo(S.min.x,S.max.y,S.max.z),new Fo(S.max.x,S.max.y,S.max.z),new Fo(S.max.x,S.max.y,S.min.z),new Fo(S.max.x,S.min.y,S.max.z),new Fo(S.max.x,S.min.y,S.min.z)];n.applyMatrix4(p.matrixWorldInverse);for(var u=0,c=s;u<c.length;u++){var f=c[u];f.applyMatrix4(p.matrixWorldInverse),A=Math.max(A,Math.abs(f.y-n.y)),o=Math.max(o,Math.abs(f.x-n.x))}A*=2,o*=2;var d=(p.top-p.bottom)/A,h=(p.right-p.left)/o;M.zoom=Math.min(d,h)/l,i||(p.zoom=M.zoom,p.updateProjectionMatrix())}return i?E.animating=!0:(p.position.copy(M.camera),p.lookAt(M.focus),b&&(b.target.copy(M.focus),b.update())),x.current&&x.current(this.getSize()),v(),this}}}),[S,p,b,l,i,v]);t.useLayoutEffect((function(){if(b){var e=function(){return E.animating=!1};return b.addEventListener("start",e),function(){return b.removeEventListener("start",e)}}}),[b]);var T=t.useRef(0);return t.useLayoutEffect((function(){(o||0===T.current++)&&(C.refresh(),a&&C.fit(),A&&C.clip())}),[g,A,a,o,p,b]),ib((function(e,t){if(E.animating){if(w(E.focus,M.focus,i,t),w(E.camera,M.camera,i,t),E.zoom=oo.damp(E.zoom,M.zoom,i,t),p.position.copy(E.camera),_x(p)&&(p.zoom=E.zoom,p.updateProjectionMatrix()),b?(b.target.copy(E.focus),b.update()):p.lookAt(E.focus),v(),_x(p)&&!(Math.abs(E.zoom-M.zoom)<c))return;if(!_x(p)&&!_(E.camera,M.camera))return;if(b&&!_(E.focus,M.focus))return;E.animating=!1}})),t.createElement("group",{ref:d},t.createElement(Ex.Provider,{value:C},n))}var Sx=["children","center","adjustCamera","intensity","shadows","environment","preset"],Cx={rembrandt:{main:[1,2,1],fill:[-2,-.5,-2]},portrait:{main:[-1,2,.5],fill:[-1,.5,-1.5]},upfront:{main:[0,2,1],fill:[-1,.5,-1.5]},soft:{main:[-2,4,4],fill:[-1,.5,-1.5]}};function Tx(e){var n=e.radius,r=e.adjustCamera,i=t.useContext(Ex);return t.useEffect((function(){r&&i.refresh().clip().fit()}),[n,r]),null}function kx(e){var n,r,i,a,A,o,s,l,u=e.children,c=e.center,f=e.adjustCamera,d=void 0===f||f,h=e.intensity,p=void 0===h?.5:h,v=e.shadows,g=void 0===v?"contact":v,y=e.environment,x=void 0===y?"city":y,_=e.preset,w=void 0===_?"rembrandt":_,E=ur(e,Sx),M="string"===typeof w?Cx[w]:w,S=m(t.useState({radius:0,width:0,height:0,depth:0}),2),C=S[0],T=C.radius,k=C.height,B=S[1],R=null!==(n=null==g?void 0:g.bias)&&void 0!==n?n:-1e-4,P=null!==(r=null==g?void 0:g.normalBias)&&void 0!==r?r:0,I=null!==(i=null==g?void 0:g.size)&&void 0!==i?i:1024,D=null!==(a=null==g?void 0:g.offset)&&void 0!==a?a:0,L="contact"===g||"contact"===(null==g?void 0:g.type),U="accumulative"===g||"accumulative"===(null==g?void 0:g.type),N=pr({},"object"===typeof g?g:{}),O=x?"string"===typeof x?{preset:x}:x:null,F=t.useCallback((function(e){var t=e.width,n=e.height,r=e.depth,i=e.boundingSphere;B({radius:i.radius,width:t,height:n,depth:r}),null!=c&&c.onCentered&&c.onCentered(e)}),[]);return t.createElement(t.Fragment,null,t.createElement("ambientLight",{intensity:p/3}),t.createElement("spotLight",{penumbra:1,position:[M.main[0]*T,M.main[1]*T,M.main[2]*T],intensity:2*p,castShadow:!!g,"shadow-bias":R,"shadow-normalBias":P,"shadow-mapSize":I}),t.createElement("pointLight",{position:[M.fill[0]*T,M.fill[1]*T,M.fill[2]*T],intensity:p}),t.createElement(Mx,b({fit:!!d,clip:!!d,margin:Number(d),observe:!0},E),t.createElement(Tx,{radius:T,adjustCamera:d}),t.createElement(fx,b({},c,{position:[0,D/2,0],onCentered:F}),u)),t.createElement("group",{position:[0,-k/2-D/2,0]},L&&t.createElement(ux,b({scale:4*T,far:T,blur:2},N)),U&&t.createElement(yx,b({temporal:!0,frames:100,alphaTest:.9,toneMapped:!0,scale:4*T},N),t.createElement(bx,{amount:null!==(A=N.amount)&&void 0!==A?A:8,radius:null!==(o=N.radius)&&void 0!==o?o:T,ambient:null!==(s=N.ambient)&&void 0!==s?s:.5,intensity:null!==(l=N.intensity)&&void 0!==l?l:1,position:[M.main[0]*T,M.main[1]*T,M.main[2]*T],size:4*T,bias:-R,mapSize:I}))),x&&t.createElement(Ax,O))}var Bx,Rx=Object.defineProperty,Px=function(e,t,n){return function(e,t,n){t in e?Rx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n}(e,"symbol"!==typeof t?t+"":t,n),n},Ix=function(e,t){return(e%t+t)%t},Dx=function(e){br(n,e);var t=Er(n);function n(e,r){var i;vr(this,n),i=t.call(this),Px(wr(i),"object"),Px(wr(i),"domElement"),Px(wr(i),"enabled",!0),Px(wr(i),"target",new Fo),Px(wr(i),"minDistance",0),Px(wr(i),"maxDistance",1/0),Px(wr(i),"minZoom",0),Px(wr(i),"maxZoom",1/0),Px(wr(i),"minPolarAngle",0),Px(wr(i),"maxPolarAngle",Math.PI),Px(wr(i),"minAzimuthAngle",-1/0),Px(wr(i),"maxAzimuthAngle",1/0),Px(wr(i),"enableDamping",!1),Px(wr(i),"dampingFactor",.05),Px(wr(i),"enableZoom",!0),Px(wr(i),"zoomSpeed",1),Px(wr(i),"enableRotate",!0),Px(wr(i),"rotateSpeed",1),Px(wr(i),"enablePan",!0),Px(wr(i),"panSpeed",1),Px(wr(i),"screenSpacePanning",!0),Px(wr(i),"keyPanSpeed",7),Px(wr(i),"autoRotate",!1),Px(wr(i),"autoRotateSpeed",2),Px(wr(i),"reverseOrbit",!1),Px(wr(i),"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),Px(wr(i),"mouseButtons",{LEFT:Ir.ROTATE,MIDDLE:Ir.DOLLY,RIGHT:Ir.PAN}),Px(wr(i),"touches",{ONE:Dr.ROTATE,TWO:Dr.DOLLY_PAN}),Px(wr(i),"target0"),Px(wr(i),"position0"),Px(wr(i),"zoom0"),Px(wr(i),"_domElementKeyEvents",null),Px(wr(i),"getPolarAngle"),Px(wr(i),"getAzimuthalAngle"),Px(wr(i),"setPolarAngle"),Px(wr(i),"setAzimuthalAngle"),Px(wr(i),"getDistance"),Px(wr(i),"listenToKeyEvents"),Px(wr(i),"saveState"),Px(wr(i),"reset"),Px(wr(i),"update"),Px(wr(i),"connect"),Px(wr(i),"dispose"),i.object=e,i.domElement=r,i.target0=i.target.clone(),i.position0=i.object.position.clone(),i.zoom0=i.object.zoom,i.getPolarAngle=function(){return f.phi},i.getAzimuthalAngle=function(){return f.theta},i.setPolarAngle=function(e){var t=Ix(e,2*Math.PI),n=f.phi;n<0&&(n+=2*Math.PI),t<0&&(t+=2*Math.PI);var r=Math.abs(t-n);2*Math.PI-r<r&&(t<n?t+=2*Math.PI:n+=2*Math.PI),d.phi=t-n,a.update()},i.setAzimuthalAngle=function(e){var t=Ix(e,2*Math.PI),n=f.theta;n<0&&(n+=2*Math.PI),t<0&&(t+=2*Math.PI);var r=Math.abs(t-n);2*Math.PI-r<r&&(t<n?t+=2*Math.PI:n+=2*Math.PI),d.theta=t-n,a.update()},i.getDistance=function(){return a.object.position.distanceTo(a.target)},i.listenToKeyEvents=function(e){e.addEventListener("keydown",K),i._domElementKeyEvents=e},i.saveState=function(){a.target0.copy(a.target),a.position0.copy(a.object.position),a.zoom0=a.object.zoom},i.reset=function(){a.target.copy(a.target0),a.object.position.copy(a.position0),a.object.zoom=a.zoom0,a.object.updateProjectionMatrix(),a.dispatchEvent(A),a.update(),u=l.NONE},i.update=function(){var t=new Fo,n=(new Oo).setFromUnitVectors(e.up,new Fo(0,1,0)),r=n.clone().invert(),i=new Fo,o=new Oo,s=2*Math.PI;return function(){var e=a.object.position;t.copy(e).sub(a.target),t.applyQuaternion(n),f.setFromVector3(t),a.autoRotate&&u===l.NONE&&k(2*Math.PI/60/60*a.autoRotateSpeed),a.enableDamping?(f.theta+=d.theta*a.dampingFactor,f.phi+=d.phi*a.dampingFactor):(f.theta+=d.theta,f.phi+=d.phi);var m=a.minAzimuthAngle,g=a.maxAzimuthAngle;return isFinite(m)&&isFinite(g)&&(m<-Math.PI?m+=s:m>Math.PI&&(m-=s),g<-Math.PI?g+=s:g>Math.PI&&(g-=s),f.theta=m<=g?Math.max(m,Math.min(g,f.theta)):f.theta>(m+g)/2?Math.max(m,f.theta):Math.min(g,f.theta)),f.phi=Math.max(a.minPolarAngle,Math.min(a.maxPolarAngle,f.phi)),f.makeSafe(),f.radius*=h,f.radius=Math.max(a.minDistance,Math.min(a.maxDistance,f.radius)),!0===a.enableDamping?a.target.addScaledVector(p,a.dampingFactor):a.target.add(p),t.setFromSpherical(f),t.applyQuaternion(r),e.copy(a.target).add(t),a.object.lookAt(a.target),!0===a.enableDamping?(d.theta*=1-a.dampingFactor,d.phi*=1-a.dampingFactor,p.multiplyScalar(1-a.dampingFactor)):(d.set(0,0,0),p.set(0,0,0)),h=1,!!(v||i.distanceToSquared(a.object.position)>c||8*(1-o.dot(a.object.quaternion))>c)&&(a.dispatchEvent(A),i.copy(a.object.position),o.copy(a.object.quaternion),v=!1,!0)}}(),i.connect=function(e){e===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),a.domElement=e,a.domElement.style.touchAction="none",a.domElement.addEventListener("contextmenu",Y),a.domElement.addEventListener("pointerdown",W),a.domElement.addEventListener("pointercancel",X),a.domElement.addEventListener("wheel",J)},i.dispose=function(){var e,t,n,r,i,A;null==(e=a.domElement)||e.removeEventListener("contextmenu",Y),null==(t=a.domElement)||t.removeEventListener("pointerdown",W),null==(n=a.domElement)||n.removeEventListener("pointercancel",X),null==(r=a.domElement)||r.removeEventListener("wheel",J),null==(i=a.domElement)||i.ownerDocument.removeEventListener("pointermove",j),null==(A=a.domElement)||A.ownerDocument.removeEventListener("pointerup",Q),null!==a._domElementKeyEvents&&a._domElementKeyEvents.removeEventListener("keydown",K)};var a=wr(i),A={type:"change"},o={type:"start"},s={type:"end"},l={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},u=l.NONE,c=1e-6,f=new Wm,d=new Wm,h=1,p=new Fo,v=!1,m=new so,g=new so,y=new so,b=new so,x=new so,_=new so,w=new so,E=new so,M=new so,S=[],C={};function T(){return Math.pow(.95,a.zoomSpeed)}function k(e){a.reverseOrbit?d.theta+=e:d.theta-=e}function B(e){a.reverseOrbit?d.phi+=e:d.phi-=e}var R=function(){var e=new Fo;return function(t,n){e.setFromMatrixColumn(n,0),e.multiplyScalar(-t),p.add(e)}}(),P=function(){var e=new Fo;return function(t,n){!0===a.screenSpacePanning?e.setFromMatrixColumn(n,1):(e.setFromMatrixColumn(n,0),e.crossVectors(a.object.up,e)),e.multiplyScalar(t),p.add(e)}}(),I=function(){var e=new Fo;return function(t,n){var r=a.domElement;if(r&&a.object instanceof Au&&a.object.isPerspectiveCamera){var i=a.object.position;e.copy(i).sub(a.target);var A=e.length();A*=Math.tan(a.object.fov/2*Math.PI/180),R(2*t*A/r.clientHeight,a.object.matrix),P(2*n*A/r.clientHeight,a.object.matrix)}else r&&a.object instanceof Ru&&a.object.isOrthographicCamera?(R(t*(a.object.right-a.object.left)/a.object.zoom/r.clientWidth,a.object.matrix),P(n*(a.object.top-a.object.bottom)/a.object.zoom/r.clientHeight,a.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),a.enablePan=!1)}}();function D(e){a.object instanceof Au&&a.object.isPerspectiveCamera?h/=e:a.object instanceof Ru&&a.object.isOrthographicCamera?(a.object.zoom=Math.max(a.minZoom,Math.min(a.maxZoom,a.object.zoom*e)),a.object.updateProjectionMatrix(),v=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),a.enableZoom=!1)}function L(e){a.object instanceof Au&&a.object.isPerspectiveCamera?h*=e:a.object instanceof Ru&&a.object.isOrthographicCamera?(a.object.zoom=Math.max(a.minZoom,Math.min(a.maxZoom,a.object.zoom/e)),a.object.updateProjectionMatrix(),v=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),a.enableZoom=!1)}function U(e){m.set(e.clientX,e.clientY)}function N(e){b.set(e.clientX,e.clientY)}function O(){if(1==S.length)m.set(S[0].pageX,S[0].pageY);else{var e=.5*(S[0].pageX+S[1].pageX),t=.5*(S[0].pageY+S[1].pageY);m.set(e,t)}}function F(){if(1==S.length)b.set(S[0].pageX,S[0].pageY);else{var e=.5*(S[0].pageX+S[1].pageX),t=.5*(S[0].pageY+S[1].pageY);b.set(e,t)}}function z(){var e=S[0].pageX-S[1].pageX,t=S[0].pageY-S[1].pageY,n=Math.sqrt(e*e+t*t);w.set(0,n)}function G(e){if(1==S.length)g.set(e.pageX,e.pageY);else{var t=$(e),n=.5*(e.pageX+t.x),r=.5*(e.pageY+t.y);g.set(n,r)}y.subVectors(g,m).multiplyScalar(a.rotateSpeed);var i=a.domElement;i&&(k(2*Math.PI*y.x/i.clientHeight),B(2*Math.PI*y.y/i.clientHeight)),m.copy(g)}function H(e){if(1==S.length)x.set(e.pageX,e.pageY);else{var t=$(e),n=.5*(e.pageX+t.x),r=.5*(e.pageY+t.y);x.set(n,r)}_.subVectors(x,b).multiplyScalar(a.panSpeed),I(_.x,_.y),b.copy(x)}function V(e){var t=$(e),n=e.pageX-t.x,r=e.pageY-t.y,i=Math.sqrt(n*n+r*r);E.set(0,i),M.set(0,Math.pow(E.y/w.y,a.zoomSpeed)),D(M.y),w.copy(E)}function W(e){var t,n;!1!==a.enabled&&(0===S.length&&(null==(t=a.domElement)||t.ownerDocument.addEventListener("pointermove",j),null==(n=a.domElement)||n.ownerDocument.addEventListener("pointerup",Q)),function(e){S.push(e)}(e),"touch"===e.pointerType?function(e){switch(Z(e),S.length){case 1:switch(a.touches.ONE){case Dr.ROTATE:if(!1===a.enableRotate)return;O(),u=l.TOUCH_ROTATE;break;case Dr.PAN:if(!1===a.enablePan)return;F(),u=l.TOUCH_PAN;break;default:u=l.NONE}break;case 2:switch(a.touches.TWO){case Dr.DOLLY_PAN:if(!1===a.enableZoom&&!1===a.enablePan)return;a.enableZoom&&z(),a.enablePan&&F(),u=l.TOUCH_DOLLY_PAN;break;case Dr.DOLLY_ROTATE:if(!1===a.enableZoom&&!1===a.enableRotate)return;a.enableZoom&&z(),a.enableRotate&&O(),u=l.TOUCH_DOLLY_ROTATE;break;default:u=l.NONE}break;default:u=l.NONE}u!==l.NONE&&a.dispatchEvent(o)}(e):function(e){var t;switch(e.button){case 0:t=a.mouseButtons.LEFT;break;case 1:t=a.mouseButtons.MIDDLE;break;case 2:t=a.mouseButtons.RIGHT;break;default:t=-1}switch(t){case Ir.DOLLY:if(!1===a.enableZoom)return;!function(e){w.set(e.clientX,e.clientY)}(e),u=l.DOLLY;break;case Ir.ROTATE:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===a.enablePan)return;N(e),u=l.PAN}else{if(!1===a.enableRotate)return;U(e),u=l.ROTATE}break;case Ir.PAN:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===a.enableRotate)return;U(e),u=l.ROTATE}else{if(!1===a.enablePan)return;N(e),u=l.PAN}break;default:u=l.NONE}u!==l.NONE&&a.dispatchEvent(o)}(e))}function j(e){!1!==a.enabled&&("touch"===e.pointerType?function(e){switch(Z(e),u){case l.TOUCH_ROTATE:if(!1===a.enableRotate)return;G(e),a.update();break;case l.TOUCH_PAN:if(!1===a.enablePan)return;H(e),a.update();break;case l.TOUCH_DOLLY_PAN:if(!1===a.enableZoom&&!1===a.enablePan)return;!function(e){a.enableZoom&&V(e),a.enablePan&&H(e)}(e),a.update();break;case l.TOUCH_DOLLY_ROTATE:if(!1===a.enableZoom&&!1===a.enableRotate)return;!function(e){a.enableZoom&&V(e),a.enableRotate&&G(e)}(e),a.update();break;default:u=l.NONE}}(e):function(e){if(!1===a.enabled)return;switch(u){case l.ROTATE:if(!1===a.enableRotate)return;!function(e){g.set(e.clientX,e.clientY),y.subVectors(g,m).multiplyScalar(a.rotateSpeed);var t=a.domElement;t&&(k(2*Math.PI*y.x/t.clientHeight),B(2*Math.PI*y.y/t.clientHeight)),m.copy(g),a.update()}(e);break;case l.DOLLY:if(!1===a.enableZoom)return;!function(e){E.set(e.clientX,e.clientY),M.subVectors(E,w),M.y>0?D(T()):M.y<0&&L(T()),w.copy(E),a.update()}(e);break;case l.PAN:if(!1===a.enablePan)return;!function(e){x.set(e.clientX,e.clientY),_.subVectors(x,b).multiplyScalar(a.panSpeed),I(_.x,_.y),b.copy(x),a.update()}(e)}}(e))}function Q(e){var t,n,r;q(e),0===S.length&&(null==(t=a.domElement)||t.releasePointerCapture(e.pointerId),null==(n=a.domElement)||n.ownerDocument.removeEventListener("pointermove",j),null==(r=a.domElement)||r.ownerDocument.removeEventListener("pointerup",Q)),a.dispatchEvent(s),u=l.NONE}function X(e){q(e)}function J(e){!1===a.enabled||!1===a.enableZoom||u!==l.NONE&&u!==l.ROTATE||(e.preventDefault(),a.dispatchEvent(o),function(e){e.deltaY<0?L(T()):e.deltaY>0&&D(T()),a.update()}(e),a.dispatchEvent(s))}function K(e){!1!==a.enabled&&!1!==a.enablePan&&function(e){var t=!1;switch(e.code){case a.keys.UP:I(0,a.keyPanSpeed),t=!0;break;case a.keys.BOTTOM:I(0,-a.keyPanSpeed),t=!0;break;case a.keys.LEFT:I(a.keyPanSpeed,0),t=!0;break;case a.keys.RIGHT:I(-a.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),a.update())}(e)}function Y(e){!1!==a.enabled&&e.preventDefault()}function q(e){delete C[e.pointerId];for(var t=0;t<S.length;t++)if(S[t].pointerId==e.pointerId)return void S.splice(t,1)}function Z(e){var t=C[e.pointerId];void 0===t&&(t=new so,C[e.pointerId]=t),t.set(e.pageX,e.pageY)}function $(e){var t=e.pointerId===S[0].pointerId?S[1]:S[0];return C[t.pointerId]}return void 0!==r&&i.connect(r),i.update(),i}return gr(n)}(XA),Lx=["makeDefault","camera","regress","domElement","enableDamping","keyEvents","onChange","onStart","onEnd"],Ux=t.forwardRef((function(e,n){var r=e.makeDefault,i=e.camera,a=e.regress,A=e.domElement,o=e.enableDamping,s=void 0===o||o,l=e.keyEvents,u=void 0!==l&&l,c=e.onChange,f=e.onStart,d=e.onEnd,h=ur(e,Lx),p=rb((function(e){return e.invalidate})),v=rb((function(e){return e.camera})),m=rb((function(e){return e.gl})),g=rb((function(e){return e.events})),y=rb((function(e){return e.setEvents})),x=rb((function(e){return e.set})),_=rb((function(e){return e.get})),w=rb((function(e){return e.performance})),E=i||v,M=A||g.connected||m.domElement,S=t.useMemo((function(){return new Dx(E)}),[E]);return ib((function(){S.enabled&&S.update()}),-1),t.useEffect((function(){return u&&S.connect(!0===u?M:u),S.connect(M),function(){S.dispose()}}),[u,M,a,S,p]),t.useEffect((function(){var e=function(e){p(),a&&w.regress(),c&&c(e)},t=function(e){f&&f(e)},n=function(e){d&&d(e)};return S.addEventListener("change",e),S.addEventListener("start",t),S.addEventListener("end",n),function(){S.removeEventListener("start",t),S.removeEventListener("end",n),S.removeEventListener("change",e)}}),[c,f,d,S,p,y]),t.useEffect((function(){if(r){var e=_().controls;return x({controls:S}),function(){return x({controls:e})}}}),[r,S]),t.createElement("primitive",b({ref:n,object:S,enableDamping:s},h))})),Nx=new WeakMap,Ox=function(e){br(n,e);var t=Er(n);function n(e){var r;return vr(this,n),(r=t.call(this,e)).decoderPath="",r.decoderConfig={},r.decoderBinary=null,r.decoderPending=null,r.workerLimit=4,r.workerPool=[],r.workerNextTaskID=1,r.workerSourceURL="",r.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},r.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"},r}return gr(n,[{key:"setDecoderPath",value:function(e){return this.decoderPath=e,this}},{key:"setDecoderConfig",value:function(e){return this.decoderConfig=e,this}},{key:"setWorkerLimit",value:function(e){return this.workerLimit=e,this}},{key:"load",value:function(e,t,n,r){var i=this,a=new bv(this.manager);a.setPath(this.path),a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,(function(e){var n={attributeIDs:i.defaultAttributeIDs,attributeTypes:i.defaultAttributeTypes,useUniqueIDs:!1};i.decodeGeometry(e,n).then(t).catch(r)}),n,r)}},{key:"decodeDracoFile",value:function(e,t,n,r){var i={attributeIDs:n||this.defaultAttributeIDs,attributeTypes:r||this.defaultAttributeTypes,useUniqueIDs:!!n};this.decodeGeometry(e,i).then(t)}},{key:"decodeGeometry",value:function(e,t){var n=this;for(var r in t.attributeTypes){var i=t.attributeTypes[r];void 0!==i.BYTES_PER_ELEMENT&&(t.attributeTypes[r]=i.name)}var a,A=JSON.stringify(t);if(Nx.has(e)){var o=Nx.get(e);if(o.key===A)return o.promise;if(0===e.byteLength)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}var s=this.workerNextTaskID++,l=e.byteLength,u=this._getWorker(s,l).then((function(n){return a=n,new Promise((function(n,r){a._callbacks[s]={resolve:n,reject:r},a.postMessage({type:"decode",id:s,taskConfig:t,buffer:e},[e])}))})).then((function(e){return n._createGeometry(e.geometry)}));return u.catch((function(){return!0})).then((function(){a&&s&&n._releaseTask(a,s)})),Nx.set(e,{key:A,promise:u}),u}},{key:"_createGeometry",value:function(e){var t=new Il;e.index&&t.setIndex(new pl(e.index.array,1));for(var n=0;n<e.attributes.length;n++){var r=e.attributes[n],i=r.name,a=r.array,A=r.itemSize;t.setAttribute(i,new pl(a,A))}return t}},{key:"_loadLibrary",value:function(e,t){var n=new bv(this.manager);return n.setPath(this.decoderPath),n.setResponseType(t),n.setWithCredentials(this.withCredentials),new Promise((function(t,r){n.load(e,t,void 0,r)}))}},{key:"preload",value:function(){return this._initDecoder(),this}},{key:"_initDecoder",value:function(){var e=this;if(this.decoderPending)return this.decoderPending;var t="object"!==typeof WebAssembly||"js"===this.decoderConfig.type,n=[];return t?n.push(this._loadLibrary("draco_decoder.js","text")):(n.push(this._loadLibrary("draco_wasm_wrapper.js","text")),n.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(n).then((function(n){var r=n[0];t||(e.decoderConfig.wasmBinary=n[1]);var i=Fx.toString(),a=["/* draco decoder */",r,"","/* worker */",i.substring(i.indexOf("{")+1,i.lastIndexOf("}"))].join("\n");e.workerSourceURL=URL.createObjectURL(new Blob([a]))})),this.decoderPending}},{key:"_getWorker",value:function(e,t){var n=this;return this._initDecoder().then((function(){if(n.workerPool.length<n.workerLimit){var r=new Worker(n.workerSourceURL);r._callbacks={},r._taskCosts={},r._taskLoad=0,r.postMessage({type:"init",decoderConfig:n.decoderConfig}),r.onmessage=function(e){var t=e.data;switch(t.type){case"decode":r._callbacks[t.id].resolve(t);break;case"error":r._callbacks[t.id].reject(t);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+t.type+'"')}},n.workerPool.push(r)}else n.workerPool.sort((function(e,t){return e._taskLoad>t._taskLoad?-1:1}));var i=n.workerPool[n.workerPool.length-1];return i._taskCosts[e]=t,i._taskLoad+=t,i}))}},{key:"_releaseTask",value:function(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}},{key:"debug",value:function(){console.log("Task load: ",this.workerPool.map((function(e){return e._taskLoad})))}},{key:"dispose",value:function(){for(var e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}]),n}(mv);function Fx(){var e,t;function n(e,t,n,r,i,a){var A=a.num_components(),o=n.num_points()*A,s=o*i.BYTES_PER_ELEMENT,l=function(e,t){switch(t){case Float32Array:return e.DT_FLOAT32;case Int8Array:return e.DT_INT8;case Int16Array:return e.DT_INT16;case Int32Array:return e.DT_INT32;case Uint8Array:return e.DT_UINT8;case Uint16Array:return e.DT_UINT16;case Uint32Array:return e.DT_UINT32}}(e,i),u=e._malloc(s);t.GetAttributeDataArrayForAllPoints(n,a,l,s,u);var c=new i(e.HEAPF32.buffer,u,o).slice();return e._free(u),{name:r,array:c,itemSize:A}}onmessage=function(r){var i=r.data;switch(i.type){case"init":e=i.decoderConfig,t=new Promise((function(t){e.onModuleLoaded=function(e){t({draco:e})},DracoDecoderModule(e)}));break;case"decode":var a=i.buffer,A=i.taskConfig;t.then((function(e){var t=e.draco,r=new t.Decoder,o=new t.DecoderBuffer;o.Init(new Int8Array(a),a.byteLength);try{var s=function(e,t,r,i){var a,A,o=i.attributeIDs,s=i.attributeTypes,l=t.GetEncodedGeometryType(r);if(l===e.TRIANGULAR_MESH)a=new e.Mesh,A=t.DecodeBufferToMesh(r,a);else{if(l!==e.POINT_CLOUD)throw new Error("THREE.DRACOLoader: Unexpected geometry type.");a=new e.PointCloud,A=t.DecodeBufferToPointCloud(r,a)}if(!A.ok()||0===a.ptr)throw new Error("THREE.DRACOLoader: Decoding failed: "+A.error_msg());var u={index:null,attributes:[]};for(var c in o){var f=self[s[c]],d=void 0,h=void 0;if(i.useUniqueIDs)h=o[c],d=t.GetAttributeByUniqueId(a,h);else{if(-1===(h=t.GetAttributeId(a,e[o[c]])))continue;d=t.GetAttribute(a,h)}u.attributes.push(n(e,t,a,c,f,d))}l===e.TRIANGULAR_MESH&&(u.index=function(e,t,n){var r=n.num_faces(),i=3*r,a=4*i,A=e._malloc(a);t.GetTrianglesUInt32Array(n,a,A);var o=new Uint32Array(e.HEAPF32.buffer,A,i).slice();return e._free(A),{array:o,itemSize:1}}(e,t,a));return e.destroy(a),u}(t,r,o,A),l=s.attributes.map((function(e){return e.array.buffer}));s.index&&l.push(s.index.array.buffer),self.postMessage({type:"decode",id:i.id,geometry:s},l)}catch(u){console.error(u),self.postMessage({type:"error",id:i.id,error:u.message})}finally{t.destroy(o),t.destroy(r)}}))}}}var zx=function(){if(Bx)return Bx;var e=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),t=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if("object"!==typeof WebAssembly)return{supported:!1};var n,r="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB";WebAssembly.validate(e)&&(r="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB");var i=WebAssembly.instantiate(function(e){for(var n=new Uint8Array(e.length),r=0;r<e.length;++r){var i=e.charCodeAt(r);n[r]=i>96?i-71:i>64?i-65:i>47?i+4:i>46?63:62}for(var a=0,A=0;A<e.length;++A)n[a++]=n[A]<60?t[n[A]]:64*(n[A]-60)+n[++A];return n.buffer.slice(0,a)}(r),{}).then((function(e){(n=e.instance).exports.__wasm_call_ctors()}));function a(e,t,r,i,a,A){var o=n.exports.sbrk,s=r+3&-4,l=o(s*i),u=o(a.length),c=new Uint8Array(n.exports.memory.buffer);c.set(a,u);var f=e(l,r,i,u,a.length);if(0===f&&A&&A(l,s,i),t.set(c.subarray(l,l+r*i)),o(l-o(0)),0!==f)throw new Error("Malformed buffer data: ".concat(f))}var A={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},o={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return Bx={ready:i,supported:!0,decodeVertexBuffer:function(e,t,r,i,o){a(n.exports.meshopt_decodeVertexBuffer,e,t,r,i,n.exports[A[o]])},decodeIndexBuffer:function(e,t,r,i){a(n.exports.meshopt_decodeIndexBuffer,e,t,r,i)},decodeIndexSequence:function(e,t,r,i){a(n.exports.meshopt_decodeIndexSequence,e,t,r,i)},decodeGltfBuffer:function(e,t,r,i,s,l){a(n.exports[o[s]],e,t,r,i,n.exports[A[l]])}}};function Gx(e,t){if(t===AA)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),e;if(t===sA||t===oA){var n=e.getIndex();if(null===n){var r=[],i=e.getAttribute("position");if(void 0===i)return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),e;for(var a=0;a<i.count;a++)r.push(a);e.setIndex(r),n=e.getIndex()}var A=n.count-2,o=[];if(n)if(t===sA)for(var s=1;s<=A;s++)o.push(n.getX(0)),o.push(n.getX(s)),o.push(n.getX(s+1));else for(var l=0;l<A;l++)l%2===0?(o.push(n.getX(l)),o.push(n.getX(l+1)),o.push(n.getX(l+2))):(o.push(n.getX(l+2)),o.push(n.getX(l+1)),o.push(n.getX(l)));o.length/3!==A&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");var u=e.clone();return u.setIndex(o),u.clearGroups(),u}return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",t),e}var Hx=function(e){br(n,e);var t=Er(n);function n(e){var r;return vr(this,n),(r=t.call(this,e)).dracoLoader=null,r.ktx2Loader=null,r.meshoptDecoder=null,r.pluginCallbacks=[],r.register((function(e){return new Jx(e)})),r.register((function(e){return new t_(e)})),r.register((function(e){return new n_(e)})),r.register((function(e){return new r_(e)})),r.register((function(e){return new Yx(e)})),r.register((function(e){return new qx(e)})),r.register((function(e){return new Zx(e)})),r.register((function(e){return new $x(e)})),r.register((function(e){return new Xx(e)})),r.register((function(e){return new e_(e)})),r.register((function(e){return new Kx(e)})),r.register((function(e){return new jx(e)})),r.register((function(e){return new i_(e)})),r.register((function(e){return new a_(e)})),r}return gr(n,[{key:"load",value:function(e,t,n,r){var i,a=this;i=""!==this.resourcePath?this.resourcePath:""!==this.path?this.path:Xv.extractUrlBase(e),this.manager.itemStart(e);var A=function(t){r?r(t):console.error(t),a.manager.itemError(e),a.manager.itemEnd(e)},o=new bv(this.manager);o.setPath(this.path),o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,(function(n){try{a.parse(n,i,(function(n){t(n),a.manager.itemEnd(e)}),A)}catch(r){A(r)}}),n,A)}},{key:"setDRACOLoader",value:function(e){return this.dracoLoader=e,this}},{key:"setDDSLoader",value:function(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}},{key:"setKTX2Loader",value:function(e){return this.ktx2Loader=e,this}},{key:"setMeshoptDecoder",value:function(e){return this.meshoptDecoder=e,this}},{key:"register",value:function(e){return-1===this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.push(e),this}},{key:"unregister",value:function(e){return-1!==this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}},{key:"parse",value:function(e,t,n,r){var i,a={},A={};if("string"===typeof e)i=JSON.parse(e);else if(e instanceof ArrayBuffer){if(Xv.decodeText(new Uint8Array(e.slice(0,4)))===A_){try{a[Wx.KHR_BINARY_GLTF]=new l_(e)}catch(d){return void(r&&r(d))}i=JSON.parse(a[Wx.KHR_BINARY_GLTF].content)}else i=JSON.parse(Xv.decodeText(new Uint8Array(e)))}else i=e;if(void 0===i.asset||i.asset.version[0]<2)r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));else{var o=new D_(i,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});o.fileLoader.setRequestHeader(this.requestHeader);for(var s=0;s<this.pluginCallbacks.length;s++){var l=this.pluginCallbacks[s](o);A[l.name]=l,a[l.name]=!0}if(i.extensionsUsed)for(var u=0;u<i.extensionsUsed.length;++u){var c=i.extensionsUsed[u],f=i.extensionsRequired||[];switch(c){case Wx.KHR_MATERIALS_UNLIT:a[c]=new Qx;break;case Wx.KHR_DRACO_MESH_COMPRESSION:a[c]=new u_(i,this.dracoLoader);break;case Wx.KHR_TEXTURE_TRANSFORM:a[c]=new c_;break;case Wx.KHR_MESH_QUANTIZATION:a[c]=new f_;break;default:f.indexOf(c)>=0&&void 0===A[c]&&console.warn('THREE.GLTFLoader: Unknown extension "'+c+'".')}}o.setExtensions(a),o.setPlugins(A),o.parse(n,r)}}},{key:"parseAsync",value:function(e,t){var n=this;return new Promise((function(r,i){n.parse(e,t,r,i)}))}}]),n}(mv);function Vx(){var e={};return{get:function(t){return e[t]},add:function(t,n){e[t]=n},remove:function(t){delete e[t]},removeAll:function(){e={}}}}var Wx={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"},jx=function(){function e(t){vr(this,e),this.parser=t,this.name=Wx.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}return gr(e,[{key:"_markDefs",value:function(){for(var e=this.parser,t=this.parser.json.nodes||[],n=0,r=t.length;n<r;n++){var i=t[n];i.extensions&&i.extensions[this.name]&&void 0!==i.extensions[this.name].light&&e._addNodeRef(this.cache,i.extensions[this.name].light)}}},{key:"_loadLight",value:function(e){var t=this.parser,n="light:"+e,r=t.cache.get(n);if(r)return r;var i,a=t.json,A=((a.extensions&&a.extensions[this.name]||{}).lights||[])[e],o=new al(16777215);void 0!==A.color&&o.fromArray(A.color);var s=void 0!==A.range?A.range:0;switch(A.type){case"directional":(i=new Gv(o)).target.position.set(0,0,-1),i.add(i.target);break;case"point":(i=new Fv(o)).distance=s;break;case"spot":(i=new Dv(o)).distance=s,A.spot=A.spot||{},A.spot.innerConeAngle=void 0!==A.spot.innerConeAngle?A.spot.innerConeAngle:0,A.spot.outerConeAngle=void 0!==A.spot.outerConeAngle?A.spot.outerConeAngle:Math.PI/4,i.angle=A.spot.outerConeAngle,i.penumbra=1-A.spot.innerConeAngle/A.spot.outerConeAngle,i.target.position.set(0,0,-1),i.add(i.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+A.type)}return i.position.set(0,0,0),i.decay=2,T_(i,A),void 0!==A.intensity&&(i.intensity=A.intensity),i.name=t.createUniqueName(A.name||"light_"+e),r=Promise.resolve(i),t.cache.add(n,r),r}},{key:"getDependency",value:function(e,t){if("light"===e)return this._loadLight(t)}},{key:"createNodeAttachment",value:function(e){var t=this,n=this.parser,r=n.json.nodes[e],i=(r.extensions&&r.extensions[this.name]||{}).light;return void 0===i?null:this._loadLight(i).then((function(e){return n._getNodeRef(t.cache,i,e)}))}}]),e}(),Qx=function(){function e(){vr(this,e),this.name=Wx.KHR_MATERIALS_UNLIT}return gr(e,[{key:"getMaterialType",value:function(){return ol}},{key:"extendParams",value:function(e,t,n){var r=[];e.color=new al(1,1,1),e.opacity=1;var i=t.pbrMetallicRoughness;if(i){if(Array.isArray(i.baseColorFactor)){var a=i.baseColorFactor;e.color.fromArray(a),e.opacity=a[3]}void 0!==i.baseColorTexture&&r.push(n.assignTexture(e,"map",i.baseColorTexture,3001))}return Promise.all(r)}}]),e}(),Xx=function(){function e(t){vr(this,e),this.parser=t,this.name=Wx.KHR_MATERIALS_EMISSIVE_STRENGTH}return gr(e,[{key:"extendMaterialParams",value:function(e,t){var n=this.parser.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();var r=n.extensions[this.name].emissiveStrength;return void 0!==r&&(t.emissiveIntensity=r),Promise.resolve()}}]),e}(),Jx=function(){function e(t){vr(this,e),this.parser=t,this.name=Wx.KHR_MATERIALS_CLEARCOAT}return gr(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?Fp:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var i=[],a=r.extensions[this.name];if(void 0!==a.clearcoatFactor&&(t.clearcoat=a.clearcoatFactor),void 0!==a.clearcoatTexture&&i.push(n.assignTexture(t,"clearcoatMap",a.clearcoatTexture)),void 0!==a.clearcoatRoughnessFactor&&(t.clearcoatRoughness=a.clearcoatRoughnessFactor),void 0!==a.clearcoatRoughnessTexture&&i.push(n.assignTexture(t,"clearcoatRoughnessMap",a.clearcoatRoughnessTexture)),void 0!==a.clearcoatNormalTexture&&(i.push(n.assignTexture(t,"clearcoatNormalMap",a.clearcoatNormalTexture)),void 0!==a.clearcoatNormalTexture.scale)){var A=a.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new so(A,A)}return Promise.all(i)}}]),e}(),Kx=function(){function e(t){vr(this,e),this.parser=t,this.name=Wx.KHR_MATERIALS_IRIDESCENCE}return gr(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?Fp:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var i=[],a=r.extensions[this.name];return void 0!==a.iridescenceFactor&&(t.iridescence=a.iridescenceFactor),void 0!==a.iridescenceTexture&&i.push(n.assignTexture(t,"iridescenceMap",a.iridescenceTexture)),void 0!==a.iridescenceIor&&(t.iridescenceIOR=a.iridescenceIor),void 0===t.iridescenceThicknessRange&&(t.iridescenceThicknessRange=[100,400]),void 0!==a.iridescenceThicknessMinimum&&(t.iridescenceThicknessRange[0]=a.iridescenceThicknessMinimum),void 0!==a.iridescenceThicknessMaximum&&(t.iridescenceThicknessRange[1]=a.iridescenceThicknessMaximum),void 0!==a.iridescenceThicknessTexture&&i.push(n.assignTexture(t,"iridescenceThicknessMap",a.iridescenceThicknessTexture)),Promise.all(i)}}]),e}(),Yx=function(){function e(t){vr(this,e),this.parser=t,this.name=Wx.KHR_MATERIALS_SHEEN}return gr(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?Fp:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var i=[];t.sheenColor=new al(0,0,0),t.sheenRoughness=0,t.sheen=1;var a=r.extensions[this.name];return void 0!==a.sheenColorFactor&&t.sheenColor.fromArray(a.sheenColorFactor),void 0!==a.sheenRoughnessFactor&&(t.sheenRoughness=a.sheenRoughnessFactor),void 0!==a.sheenColorTexture&&i.push(n.assignTexture(t,"sheenColorMap",a.sheenColorTexture,3001)),void 0!==a.sheenRoughnessTexture&&i.push(n.assignTexture(t,"sheenRoughnessMap",a.sheenRoughnessTexture)),Promise.all(i)}}]),e}(),qx=function(){function e(t){vr(this,e),this.parser=t,this.name=Wx.KHR_MATERIALS_TRANSMISSION}return gr(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?Fp:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var i=[],a=r.extensions[this.name];return void 0!==a.transmissionFactor&&(t.transmission=a.transmissionFactor),void 0!==a.transmissionTexture&&i.push(n.assignTexture(t,"transmissionMap",a.transmissionTexture)),Promise.all(i)}}]),e}(),Zx=function(){function e(t){vr(this,e),this.parser=t,this.name=Wx.KHR_MATERIALS_VOLUME}return gr(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?Fp:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var i=[],a=r.extensions[this.name];t.thickness=void 0!==a.thicknessFactor?a.thicknessFactor:0,void 0!==a.thicknessTexture&&i.push(n.assignTexture(t,"thicknessMap",a.thicknessTexture)),t.attenuationDistance=a.attenuationDistance||1/0;var A=a.attenuationColor||[1,1,1];return t.attenuationColor=new al(A[0],A[1],A[2]),Promise.all(i)}}]),e}(),$x=function(){function e(t){vr(this,e),this.parser=t,this.name=Wx.KHR_MATERIALS_IOR}return gr(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?Fp:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();var r=n.extensions[this.name];return t.ior=void 0!==r.ior?r.ior:1.5,Promise.resolve()}}]),e}(),e_=function(){function e(t){vr(this,e),this.parser=t,this.name=Wx.KHR_MATERIALS_SPECULAR}return gr(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?Fp:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var i=[],a=r.extensions[this.name];t.specularIntensity=void 0!==a.specularFactor?a.specularFactor:1,void 0!==a.specularTexture&&i.push(n.assignTexture(t,"specularIntensityMap",a.specularTexture));var A=a.specularColorFactor||[1,1,1];return t.specularColor=new al(A[0],A[1],A[2]),void 0!==a.specularColorTexture&&i.push(n.assignTexture(t,"specularColorMap",a.specularColorTexture,3001)),Promise.all(i)}}]),e}(),t_=function(){function e(t){vr(this,e),this.parser=t,this.name=Wx.KHR_TEXTURE_BASISU}return gr(e,[{key:"loadTexture",value:function(e){var t=this.parser,n=t.json,r=n.textures[e];if(!r.extensions||!r.extensions[this.name])return null;var i=r.extensions[this.name],a=t.options.ktx2Loader;if(!a){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,i.source,a)}}]),e}(),n_=function(){function e(t){vr(this,e),this.parser=t,this.name=Wx.EXT_TEXTURE_WEBP,this.isSupported=null}return gr(e,[{key:"loadTexture",value:function(e){var t=this.name,n=this.parser,r=n.json,i=r.textures[e];if(!i.extensions||!i.extensions[t])return null;var a=i.extensions[t],A=r.images[a.source],o=n.textureLoader;if(A.uri){var s=n.options.manager.getHandler(A.uri);null!==s&&(o=s)}return this.detectSupport().then((function(i){if(i)return n.loadTextureImage(e,a.source,o);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return n.loadTexture(e)}))}},{key:"detectSupport",value:function(){return this.isSupported||(this.isSupported=new Promise((function(e){var t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(1===t.height)}}))),this.isSupported}}]),e}(),r_=function(){function e(t){vr(this,e),this.parser=t,this.name=Wx.EXT_TEXTURE_AVIF,this.isSupported=null}return gr(e,[{key:"loadTexture",value:function(e){var t=this.name,n=this.parser,r=n.json,i=r.textures[e];if(!i.extensions||!i.extensions[t])return null;var a=i.extensions[t],A=r.images[a.source],o=n.textureLoader;if(A.uri){var s=n.options.manager.getHandler(A.uri);null!==s&&(o=s)}return this.detectSupport().then((function(i){if(i)return n.loadTextureImage(e,a.source,o);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return n.loadTexture(e)}))}},{key:"detectSupport",value:function(){return this.isSupported||(this.isSupported=new Promise((function(e){var t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(1===t.height)}}))),this.isSupported}}]),e}(),i_=function(){function e(t){vr(this,e),this.name=Wx.EXT_MESHOPT_COMPRESSION,this.parser=t}return gr(e,[{key:"loadBufferView",value:function(e){var t=this.parser.json,n=t.bufferViews[e];if(n.extensions&&n.extensions[this.name]){var r=n.extensions[this.name],i=this.parser.getDependency("buffer",r.buffer),a=this.parser.options.meshoptDecoder;if(!a||!a.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return i.then((function(e){var t=r.byteOffset||0,n=r.byteLength||0,i=r.count,A=r.byteStride,o=new Uint8Array(e,t,n);return a.decodeGltfBufferAsync?a.decodeGltfBufferAsync(i,A,o,r.mode,r.filter).then((function(e){return e.buffer})):a.ready.then((function(){var e=new ArrayBuffer(i*A);return a.decodeGltfBuffer(new Uint8Array(e),i,A,o,r.mode,r.filter),e}))}))}return null}}]),e}(),a_=function(){function e(t){vr(this,e),this.name=Wx.EXT_MESH_GPU_INSTANCING,this.parser=t}return gr(e,[{key:"createNodeMesh",value:function(e){var t=this,n=this.parser.json,r=n.nodes[e];if(!r.extensions||!r.extensions[this.name]||void 0===r.mesh)return null;var i,a=Mr(n.meshes[r.mesh].primitives);try{for(a.s();!(i=a.n()).done;){var A=i.value;if(A.mode!==v_.TRIANGLES&&A.mode!==v_.TRIANGLE_STRIP&&A.mode!==v_.TRIANGLE_FAN&&void 0!==A.mode)return null}}catch(f){a.e(f)}finally{a.f()}var o=r.extensions[this.name].attributes,s=[],l={},u=function(e){s.push(t.parser.getDependency("accessor",o[e]).then((function(t){return l[e]=t,l[e]})))};for(var c in o)u(c);return s.length<1?null:(s.push(this.parser.createNodeMesh(e)),Promise.all(s).then((function(e){var n,r=e.pop(),i=r.isGroup?r.children:[r],a=e[0].count,A=[],o=Mr(i);try{for(o.s();!(n=o.n()).done;){for(var s=n.value,u=new ps,c=new Fo,d=new Oo,h=new Fo(1,1,1),p=new Vd(s.geometry,s.material,a),v=0;v<a;v++)l.TRANSLATION&&c.fromBufferAttribute(l.TRANSLATION,v),l.ROTATION&&d.fromBufferAttribute(l.ROTATION,v),l.SCALE&&h.fromBufferAttribute(l.SCALE,v),p.setMatrixAt(v,u.compose(c,d,h));for(var m in l)"TRANSLATION"!==m&&"ROTATION"!==m&&"SCALE"!==m&&s.geometry.setAttribute(m,l[m]);zs.prototype.copy.call(p,s),t.parser.assignFinalMaterial(p),A.push(p)}}catch(f){o.e(f)}finally{o.f()}return r.isGroup?(r.clear(),r.add.apply(r,A),r):A[0]})))}}]),e}(),A_="glTF",o_=1313821514,s_=5130562,l_=gr((function e(t){vr(this,e),this.name=Wx.KHR_BINARY_GLTF,this.content=null,this.body=null;var n=new DataView(t,0,12);if(this.header={magic:Xv.decodeText(new Uint8Array(t.slice(0,4))),version:n.getUint32(4,!0),length:n.getUint32(8,!0)},this.header.magic!==A_)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");for(var r=this.header.length-12,i=new DataView(t,12),a=0;a<r;){var A=i.getUint32(a,!0);a+=4;var o=i.getUint32(a,!0);if(a+=4,o===o_){var s=new Uint8Array(t,12+a,A);this.content=Xv.decodeText(s)}else if(o===s_){var l=12+a;this.body=t.slice(l,l+A)}a+=A}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")})),u_=function(){function e(t,n){if(vr(this,e),!n)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Wx.KHR_DRACO_MESH_COMPRESSION,this.json=t,this.dracoLoader=n,this.dracoLoader.preload()}return gr(e,[{key:"decodePrimitive",value:function(e,t){var n=this.json,r=this.dracoLoader,i=e.extensions[this.name].bufferView,a=e.extensions[this.name].attributes,A={},o={},s={};for(var l in a){var u=x_[l]||l.toLowerCase();A[u]=a[l]}for(var c in e.attributes){var f=x_[c]||c.toLowerCase();if(void 0!==a[c]){var d=n.accessors[e.attributes[c]],h=m_[d.componentType];s[f]=h.name,o[f]=!0===d.normalized}}return t.getDependency("bufferView",i).then((function(e){return new Promise((function(t){r.decodeDracoFile(e,(function(e){for(var n in e.attributes){var r=e.attributes[n],i=o[n];void 0!==i&&(r.normalized=i)}t(e)}),A,s)}))}))}}]),e}(),c_=function(){function e(){vr(this,e),this.name=Wx.KHR_TEXTURE_TRANSFORM}return gr(e,[{key:"extendTexture",value:function(e,t){return void 0!==t.texCoord&&t.texCoord!==e.channel||void 0!==t.offset||void 0!==t.rotation||void 0!==t.scale?(e=e.clone(),void 0!==t.texCoord&&(e.channel=t.texCoord),void 0!==t.offset&&e.offset.fromArray(t.offset),void 0!==t.rotation&&(e.rotation=t.rotation),void 0!==t.scale&&e.repeat.fromArray(t.scale),e.needsUpdate=!0,e):e}}]),e}(),f_=gr((function e(){vr(this,e),this.name=Wx.KHR_MESH_QUANTIZATION})),d_=function(e){br(n,e);var t=Er(n);function n(e,r,i,a){return vr(this,n),t.call(this,e,r,i,a)}return gr(n,[{key:"copySampleValue_",value:function(e){for(var t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r*3+r,a=0;a!==r;a++)t[a]=n[i+a];return t}},{key:"interpolate_",value:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,A=this.valueSize,o=2*A,s=3*A,l=r-t,u=(n-t)/l,c=u*u,f=c*u,d=e*s,h=d-s,p=-2*f+3*c,v=f-c,m=1-p,g=v-c+u,y=0;y!==A;y++){var b=a[h+y+A],x=a[h+y+o]*l,_=a[d+y+A],w=a[d+y]*l;i[y]=m*b+g*x+p*_+v*w}return i}}]),n}($p),h_=new Oo,p_=function(e){br(n,e);var t=Er(n);function n(){return vr(this,n),t.apply(this,arguments)}return gr(n,[{key:"interpolate_",value:function(e,t,r,i){var a=Br(xr(n.prototype),"interpolate_",this).call(this,e,t,r,i);return h_.fromArray(a).normalize().toArray(a),a}}]),n}(d_),v_={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},m_={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},g_={9728:Gi,9729:Qi,9984:Hi,9985:Xi,9986:Wi,9987:Ki},y_={33071:Fi,33648:zi,10497:Oi},b_={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},x_=pr(pr({POSITION:"position",NORMAL:"normal",TANGENT:"tangent"},Pr.replace(/\D+/g,"")>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"}),{},{COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"}),__={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},w_={CUBICSPLINE:void 0,LINEAR:$a,STEP:Za},E_="OPAQUE",M_="MASK",S_="BLEND";function C_(e,t,n){for(var r in n.extensions)void 0===e[r]&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[r]=n.extensions[r])}function T_(e,t){void 0!==t.extras&&("object"===typeof t.extras?Object.assign(e.userData,t.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+t.extras))}function k_(e,t){if(e.updateMorphTargets(),void 0!==t.weights)for(var n=0,r=t.weights.length;n<r;n++)e.morphTargetInfluences[n]=t.weights[n];if(t.extras&&Array.isArray(t.extras.targetNames)){var i=t.extras.targetNames;if(e.morphTargetInfluences.length===i.length){e.morphTargetDictionary={};for(var a=0,A=i.length;a<A;a++)e.morphTargetDictionary[i[a]]=a}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function B_(e){var t=e.extensions&&e.extensions[Wx.KHR_DRACO_MESH_COMPRESSION];return t?"draco:"+t.bufferView+":"+t.indices+":"+R_(t.attributes):e.indices+":"+R_(e.attributes)+":"+e.mode}function R_(e){for(var t="",n=Object.keys(e).sort(),r=0,i=n.length;r<i;r++)t+=n[r]+":"+e[n[r]]+";";return t}function P_(e){switch(e){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}var I_=new ps,D_=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};vr(this,e),this.json=t,this.extensions={},this.plugins={},this.options=n,this.cache=new Vx,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};var r=!1,i=!1,a=-1;"undefined"!==typeof navigator&&(r=!0===/^((?!chrome|android).)*safari/i.test(navigator.userAgent),a=(i=navigator.userAgent.indexOf("Firefox")>-1)?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),"undefined"===typeof createImageBitmap||r||i&&a<98?this.textureLoader=new Sv(this.options.manager):this.textureLoader=new em(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new bv(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}return gr(e,[{key:"setExtensions",value:function(e){this.extensions=e}},{key:"setPlugins",value:function(e){this.plugins=e}},{key:"parse",value:function(e,t){var n=this,r=this.json,i=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll((function(e){return e._markDefs&&e._markDefs()})),Promise.all(this._invokeAll((function(e){return e.beforeRoot&&e.beforeRoot()}))).then((function(){return Promise.all([n.getDependencies("scene"),n.getDependencies("animation"),n.getDependencies("camera")])})).then((function(t){var a={scene:t[0][r.scene||0],scenes:t[0],animations:t[1],cameras:t[2],asset:r.asset,parser:n,userData:{}};C_(i,a,r),T_(a,r),Promise.all(n._invokeAll((function(e){return e.afterRoot&&e.afterRoot(a)}))).then((function(){e(a)}))})).catch(t)}},{key:"_markDefs",value:function(){for(var e=this.json.nodes||[],t=this.json.skins||[],n=this.json.meshes||[],r=0,i=t.length;r<i;r++)for(var a=t[r].joints,A=0,o=a.length;A<o;A++)e[a[A]].isBone=!0;for(var s=0,l=e.length;s<l;s++){var u=e[s];void 0!==u.mesh&&(this._addNodeRef(this.meshCache,u.mesh),void 0!==u.skin&&(n[u.mesh].isSkinnedMesh=!0)),void 0!==u.camera&&this._addNodeRef(this.cameraCache,u.camera)}}},{key:"_addNodeRef",value:function(e,t){void 0!==t&&(void 0===e.refs[t]&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}},{key:"_getNodeRef",value:function(e,t,n){var r=this;if(e.refs[t]<=1)return n;var i=n.clone();return function e(t,n){var i=r.associations.get(t);null!=i&&r.associations.set(n,i);var a,A=Mr(t.children.entries());try{for(A.s();!(a=A.n()).done;){var o=m(a.value,2),s=o[0];e(o[1],n.children[s])}}catch(l){A.e(l)}finally{A.f()}}(n,i),i.name+="_instance_"+e.uses[t]++,i}},{key:"_invokeOne",value:function(e){var t=Object.values(this.plugins);t.push(this);for(var n=0;n<t.length;n++){var r=e(t[n]);if(r)return r}return null}},{key:"_invokeAll",value:function(e){var t=Object.values(this.plugins);t.unshift(this);for(var n=[],r=0;r<t.length;r++){var i=e(t[r]);i&&n.push(i)}return n}},{key:"getDependency",value:function(e,t){var n=e+":"+t,r=this.cache.get(n);if(!r){switch(e){case"scene":r=this.loadScene(t);break;case"node":r=this._invokeOne((function(e){return e.loadNode&&e.loadNode(t)}));break;case"mesh":r=this._invokeOne((function(e){return e.loadMesh&&e.loadMesh(t)}));break;case"accessor":r=this.loadAccessor(t);break;case"bufferView":r=this._invokeOne((function(e){return e.loadBufferView&&e.loadBufferView(t)}));break;case"buffer":r=this.loadBuffer(t);break;case"material":r=this._invokeOne((function(e){return e.loadMaterial&&e.loadMaterial(t)}));break;case"texture":r=this._invokeOne((function(e){return e.loadTexture&&e.loadTexture(t)}));break;case"skin":r=this.loadSkin(t);break;case"animation":r=this._invokeOne((function(e){return e.loadAnimation&&e.loadAnimation(t)}));break;case"camera":r=this.loadCamera(t);break;default:if(!(r=this._invokeOne((function(n){return n!=this&&n.getDependency&&n.getDependency(e,t)}))))throw new Error("Unknown type: "+e)}this.cache.add(n,r)}return r}},{key:"getDependencies",value:function(e){var t=this.cache.get(e);if(!t){var n=this,r=this.json[e+("mesh"===e?"es":"s")]||[];t=Promise.all(r.map((function(t,r){return n.getDependency(e,r)}))),this.cache.add(e,t)}return t}},{key:"loadBuffer",value:function(e){var t=this.json.buffers[e],n=this.fileLoader;if(t.type&&"arraybuffer"!==t.type)throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(void 0===t.uri&&0===e)return Promise.resolve(this.extensions[Wx.KHR_BINARY_GLTF].body);var r=this.options;return new Promise((function(e,i){n.load(Xv.resolveURL(t.uri,r.path),e,void 0,(function(){i(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))}))}))}},{key:"loadBufferView",value:function(e){var t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then((function(e){var n=t.byteLength||0,r=t.byteOffset||0;return e.slice(r,r+n)}))}},{key:"loadAccessor",value:function(e){var t=this,n=this.json,r=this.json.accessors[e];if(void 0===r.bufferView&&void 0===r.sparse){var i=b_[r.type],a=m_[r.componentType],A=!0===r.normalized,o=new a(r.count*i);return Promise.resolve(new pl(o,i,A))}var s=[];return void 0!==r.bufferView?s.push(this.getDependency("bufferView",r.bufferView)):s.push(null),void 0!==r.sparse&&(s.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(s).then((function(e){var i,a,A=e[0],o=b_[r.type],s=m_[r.componentType],l=s.BYTES_PER_ELEMENT,u=l*o,c=r.byteOffset||0,f=void 0!==r.bufferView?n.bufferViews[r.bufferView].byteStride:void 0,d=!0===r.normalized;if(f&&f!==u){var h=Math.floor(c/f),p="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+h+":"+r.count,v=t.cache.get(p);v||(i=new s(A,h*f,r.count*f/l),v=new nd(i,f/l),t.cache.add(p,v)),a=new id(v,o,c%f/l,d)}else i=null===A?new s(r.count*o):new s(A,c,r.count*o),a=new pl(i,o,d);if(void 0!==r.sparse){var m=b_.SCALAR,g=m_[r.sparse.indices.componentType],y=r.sparse.indices.byteOffset||0,b=r.sparse.values.byteOffset||0,x=new g(e[1],y,r.sparse.count*m),_=new s(e[2],b,r.sparse.count*o);null!==A&&(a=new pl(a.array.slice(),a.itemSize,a.normalized));for(var w=0,E=x.length;w<E;w++){var M=x[w];if(a.setX(M,_[w*o]),o>=2&&a.setY(M,_[w*o+1]),o>=3&&a.setZ(M,_[w*o+2]),o>=4&&a.setW(M,_[w*o+3]),o>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return a}))}},{key:"loadTexture",value:function(e){var t=this.json,n=this.options,r=t.textures[e].source,i=t.images[r],a=this.textureLoader;if(i.uri){var A=n.manager.getHandler(i.uri);null!==A&&(a=A)}return this.loadTextureImage(e,r,a)}},{key:"loadTextureImage",value:function(e,t,n){var r=this,i=this.json,a=i.textures[e],A=i.images[t],o=(A.uri||A.bufferView)+":"+a.sampler;if(this.textureCache[o])return this.textureCache[o];var s=this.loadImageSource(t,n).then((function(t){t.flipY=!1,t.name=a.name||A.name||"",""===t.name&&"string"===typeof A.uri&&!1===A.uri.startsWith("data:image/")&&(t.name=A.uri);var n=(i.samplers||{})[a.sampler]||{};return t.magFilter=g_[n.magFilter]||Qi,t.minFilter=g_[n.minFilter]||Ki,t.wrapS=y_[n.wrapS]||Oi,t.wrapT=y_[n.wrapT]||Oi,r.associations.set(t,{textures:e}),t})).catch((function(){return null}));return this.textureCache[o]=s,s}},{key:"loadImageSource",value:function(e,t){var n=this.json,r=this.options;if(void 0!==this.sourceCache[e])return this.sourceCache[e].then((function(e){return e.clone()}));var i=n.images[e],a=self.URL||self.webkitURL,A=i.uri||"",o=!1;if(void 0!==i.bufferView)A=this.getDependency("bufferView",i.bufferView).then((function(e){o=!0;var t=new Blob([e],{type:i.mimeType});return A=a.createObjectURL(t)}));else if(void 0===i.uri)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");var s=Promise.resolve(A).then((function(e){return new Promise((function(n,i){var a=n;!0===t.isImageBitmapLoader&&(a=function(e){var t=new Bo(e);t.needsUpdate=!0,n(t)}),t.load(Xv.resolveURL(e,r.path),a,void 0,i)}))})).then((function(e){var t;return!0===o&&a.revokeObjectURL(A),e.userData.mimeType=i.mimeType||((t=i.uri).search(/\.jpe?g($|\?)/i)>0||0===t.search(/^data\:image\/jpeg/)?"image/jpeg":t.search(/\.webp($|\?)/i)>0||0===t.search(/^data\:image\/webp/)?"image/webp":"image/png"),e})).catch((function(e){throw console.error("THREE.GLTFLoader: Couldn't load texture",A),e}));return this.sourceCache[e]=s,s}},{key:"assignTexture",value:function(e,t,n,r){var i=this;return this.getDependency("texture",n.index).then((function(a){if(!a)return null;if(void 0!==n.texCoord&&n.texCoord>0&&((a=a.clone()).channel=n.texCoord),i.extensions[Wx.KHR_TEXTURE_TRANSFORM]){var A=void 0!==n.extensions?n.extensions[Wx.KHR_TEXTURE_TRANSFORM]:void 0;if(A){var o=i.associations.get(a);a=i.extensions[Wx.KHR_TEXTURE_TRANSFORM].extendTexture(a,A),i.associations.set(a,o)}}return void 0!==r&&("colorSpace"in a?a.colorSpace=3001===r?"srgb":"srgb-linear":a.encoding=r),e[t]=a,a}))}},{key:"assignFinalMaterial",value:function(e){var t=e.geometry,n=e.material,r=void 0===t.attributes.tangent,i=void 0!==t.attributes.color,a=void 0===t.attributes.normal;if(e.isPoints){var A="PointsMaterial:"+n.uuid,o=this.cache.get(A);o||(o=new th,el.prototype.copy.call(o,n),o.color.copy(n.color),o.map=n.map,o.sizeAttenuation=!1,this.cache.add(A,o)),n=o}else if(e.isLine){var s="LineBasicMaterial:"+n.uuid,l=this.cache.get(s);l||(l=new Wd,el.prototype.copy.call(l,n),l.color.copy(n.color),l.map=n.map,this.cache.add(s,l)),n=l}if(r||i||a){var u="ClonedMaterial:"+n.uuid+":";r&&(u+="derivative-tangents:"),i&&(u+="vertex-colors:"),a&&(u+="flat-shading:");var c=this.cache.get(u);c||(c=n.clone(),i&&(c.vertexColors=!0),a&&(c.flatShading=!0),r&&(c.normalScale&&(c.normalScale.y*=-1),c.clearcoatNormalScale&&(c.clearcoatNormalScale.y*=-1)),this.cache.add(u,c),this.associations.set(c,this.associations.get(n))),n=c}e.material=n}},{key:"getMaterialType",value:function(){return Op}},{key:"loadMaterial",value:function(e){var t,n=this,r=this.json,i=this.extensions,a=r.materials[e],A={},o=[];if((a.extensions||{})[Wx.KHR_MATERIALS_UNLIT]){var s=i[Wx.KHR_MATERIALS_UNLIT];t=s.getMaterialType(),o.push(s.extendParams(A,a,n))}else{var l=a.pbrMetallicRoughness||{};if(A.color=new al(1,1,1),A.opacity=1,Array.isArray(l.baseColorFactor)){var u=l.baseColorFactor;A.color.fromArray(u),A.opacity=u[3]}void 0!==l.baseColorTexture&&o.push(n.assignTexture(A,"map",l.baseColorTexture,3001)),A.metalness=void 0!==l.metallicFactor?l.metallicFactor:1,A.roughness=void 0!==l.roughnessFactor?l.roughnessFactor:1,void 0!==l.metallicRoughnessTexture&&(o.push(n.assignTexture(A,"metalnessMap",l.metallicRoughnessTexture)),o.push(n.assignTexture(A,"roughnessMap",l.metallicRoughnessTexture))),t=this._invokeOne((function(t){return t.getMaterialType&&t.getMaterialType(e)})),o.push(Promise.all(this._invokeAll((function(t){return t.extendMaterialParams&&t.extendMaterialParams(e,A)}))))}!0===a.doubleSided&&(A.side=jr);var c=a.alphaMode||E_;if(c===S_?(A.transparent=!0,A.depthWrite=!1):(A.transparent=!1,c===M_&&(A.alphaTest=void 0!==a.alphaCutoff?a.alphaCutoff:.5)),void 0!==a.normalTexture&&t!==ol&&(o.push(n.assignTexture(A,"normalMap",a.normalTexture)),A.normalScale=new so(1,1),void 0!==a.normalTexture.scale)){var f=a.normalTexture.scale;A.normalScale.set(f,f)}return void 0!==a.occlusionTexture&&t!==ol&&(o.push(n.assignTexture(A,"aoMap",a.occlusionTexture)),void 0!==a.occlusionTexture.strength&&(A.aoMapIntensity=a.occlusionTexture.strength)),void 0!==a.emissiveFactor&&t!==ol&&(A.emissive=(new al).fromArray(a.emissiveFactor)),void 0!==a.emissiveTexture&&t!==ol&&o.push(n.assignTexture(A,"emissiveMap",a.emissiveTexture,3001)),Promise.all(o).then((function(){var r=new t(A);return a.name&&(r.name=a.name),T_(r,a),n.associations.set(r,{materials:e}),a.extensions&&C_(i,r,a),r}))}},{key:"createUniqueName",value:function(e){for(var t=Rm.sanitizeNodeName(e||""),n=t,r=1;this.nodeNamesUsed[n];++r)n=t+"_"+r;return this.nodeNamesUsed[n]=!0,n}},{key:"loadGeometries",value:function(e){var t=this,n=this.extensions,r=this.primitiveCache;function i(e){return n[Wx.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(e,t).then((function(n){return L_(n,e,t)}))}for(var a=[],A=0,o=e.length;A<o;A++){var s=e[A],l=B_(s),u=r[l];if(u)a.push(u.promise);else{var c=void 0;c=s.extensions&&s.extensions[Wx.KHR_DRACO_MESH_COMPRESSION]?i(s):L_(new Il,s,t),r[l]={primitive:s,promise:c},a.push(c)}}return Promise.all(a)}},{key:"loadMesh",value:function(e){for(var t,n=this,r=this.json,i=this.extensions,a=r.meshes[e],A=a.primitives,o=[],s=0,l=A.length;s<l;s++){var u=void 0===A[s].material?(void 0===(t=this.cache).DefaultMaterial&&(t.DefaultMaterial=new Op({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:Vr})),t.DefaultMaterial):this.getDependency("material",A[s].material);o.push(u)}return o.push(n.loadGeometries(A)),Promise.all(o).then((function(t){for(var r=t.slice(0,t.length-1),o=t[t.length-1],s=[],l=0,u=o.length;l<u;l++){var c=o[l],f=A[l],d=void 0,h=r[l];if(f.mode===v_.TRIANGLES||f.mode===v_.TRIANGLE_STRIP||f.mode===v_.TRIANGLE_FAN||void 0===f.mode)!0===(d=!0===a.isSkinnedMesh?new kd(c,h):new ql(c,h)).isSkinnedMesh&&d.normalizeSkinWeights(),f.mode===v_.TRIANGLE_STRIP?d.geometry=Gx(d.geometry,oA):f.mode===v_.TRIANGLE_FAN&&(d.geometry=Gx(d.geometry,sA));else if(f.mode===v_.LINES)d=new $d(c,h);else if(f.mode===v_.LINE_STRIP)d=new Yd(c,h);else if(f.mode===v_.LINE_LOOP)d=new eh(c,h);else{if(f.mode!==v_.POINTS)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+f.mode);d=new Ah(c,h)}Object.keys(d.geometry.morphAttributes).length>0&&k_(d,a),d.name=n.createUniqueName(a.name||"mesh_"+e),T_(d,a),f.extensions&&C_(i,d,f),n.assignFinalMaterial(d),s.push(d)}for(var p=0,v=s.length;p<v;p++)n.associations.set(s[p],{meshes:e,primitives:p});if(1===s.length)return s[0];var m=new Vf;n.associations.set(m,{meshes:e});for(var g=0,y=s.length;g<y;g++)m.add(s[g]);return m}))}},{key:"loadCamera",value:function(e){var t,n=this.json.cameras[e],r=n[n.type];if(r)return"perspective"===n.type?t=new Au(oo.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):"orthographic"===n.type&&(t=new Ru(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),n.name&&(t.name=this.createUniqueName(n.name)),T_(t,n),Promise.resolve(t);console.warn("THREE.GLTFLoader: Missing camera parameters.")}},{key:"loadSkin",value:function(e){for(var t=this.json.skins[e],n=[],r=0,i=t.joints.length;r<i;r++)n.push(this._loadNodeShallow(t.joints[r]));return void 0!==t.inverseBindMatrices?n.push(this.getDependency("accessor",t.inverseBindMatrices)):n.push(null),Promise.all(n).then((function(e){for(var n=e.pop(),r=e,i=[],a=[],A=0,o=r.length;A<o;A++){var s=r[A];if(s){i.push(s);var l=new ps;null!==n&&l.fromArray(n.array,16*A),a.push(l)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[A])}return new Dd(i,a)}))}},{key:"loadAnimation",value:function(e){for(var t=this.json.animations[e],n=t.name?t.name:"animation_"+e,r=[],i=[],a=[],A=[],o=[],s=0,l=t.channels.length;s<l;s++){var u=t.channels[s],c=t.samplers[u.sampler],f=u.target,d=f.node,h=void 0!==t.parameters?t.parameters[c.input]:c.input,p=void 0!==t.parameters?t.parameters[c.output]:c.output;void 0!==f.node&&(r.push(this.getDependency("node",d)),i.push(this.getDependency("accessor",h)),a.push(this.getDependency("accessor",p)),A.push(c),o.push(f))}return Promise.all([Promise.all(r),Promise.all(i),Promise.all(a),Promise.all(A),Promise.all(o)]).then((function(e){for(var t=e[0],r=e[1],i=e[2],a=e[3],A=e[4],o=[],s=function(){var e,n=t[l],s=r[l],u=i[l],c=a[l],f=A[l];if(void 0===n)return"continue";switch(n.updateMatrix(),__[f.path]){case __.weights:e=Av;break;case __.rotation:e=sv;break;default:e=uv}var d=n.name?n.name:n.uuid,h=void 0!==c.interpolation?w_[c.interpolation]:$a,p=[];__[f.path]===__.weights?n.traverse((function(e){e.morphTargetInfluences&&p.push(e.name?e.name:e.uuid)})):p.push(d);var v=u.array;if(u.normalized){for(var m=P_(v.constructor),g=new Float32Array(v.length),y=0,b=v.length;y<b;y++)g[y]=v[y]*m;v=g}for(var x=0,_=p.length;x<_;x++){var w=new e(p[x]+"."+__[f.path],s.array,v,h);"CUBICSPLINE"===c.interpolation&&(w.createInterpolant=function(e){return new(this instanceof sv?p_:d_)(this.times,this.values,this.getValueSize()/3,e)},w.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),o.push(w)}},l=0,u=t.length;l<u;l++)s();return new cv(n,void 0,o)}))}},{key:"createNodeMesh",value:function(e){var t=this.json,n=this,r=t.nodes[e];return void 0===r.mesh?null:n.getDependency("mesh",r.mesh).then((function(e){var t=n._getNodeRef(n.meshCache,r.mesh,e);return void 0!==r.weights&&t.traverse((function(e){if(e.isMesh)for(var t=0,n=r.weights.length;t<n;t++)e.morphTargetInfluences[t]=r.weights[t]})),t}))}},{key:"loadNode",value:function(e){for(var t=this,n=this.json.nodes[e],r=t._loadNodeShallow(e),i=[],a=n.children||[],A=0,o=a.length;A<o;A++)i.push(t.getDependency("node",a[A]));var s=void 0===n.skin?Promise.resolve(null):t.getDependency("skin",n.skin);return Promise.all([r,Promise.all(i),s]).then((function(e){var t=e[0],n=e[1],r=e[2];null!==r&&t.traverse((function(e){e.isSkinnedMesh&&e.bind(r,I_)}));for(var i=0,a=n.length;i<a;i++)t.add(n[i]);return t}))}},{key:"_loadNodeShallow",value:function(e){var t=this.json,n=this.extensions,r=this;if(void 0!==this.nodeCache[e])return this.nodeCache[e];var i=t.nodes[e],a=i.name?r.createUniqueName(i.name):"",A=[],o=r._invokeOne((function(t){return t.createNodeMesh&&t.createNodeMesh(e)}));return o&&A.push(o),void 0!==i.camera&&A.push(r.getDependency("camera",i.camera).then((function(e){return r._getNodeRef(r.cameraCache,i.camera,e)}))),r._invokeAll((function(t){return t.createNodeAttachment&&t.createNodeAttachment(e)})).forEach((function(e){A.push(e)})),this.nodeCache[e]=Promise.all(A).then((function(t){var A;if((A=!0===i.isBone?new Bd:t.length>1?new Vf:1===t.length?t[0]:new zs)!==t[0])for(var o=0,s=t.length;o<s;o++)A.add(t[o]);if(i.name&&(A.userData.name=i.name,A.name=a),T_(A,i),i.extensions&&C_(n,A,i),void 0!==i.matrix){var l=new ps;l.fromArray(i.matrix),A.applyMatrix4(l)}else void 0!==i.translation&&A.position.fromArray(i.translation),void 0!==i.rotation&&A.quaternion.fromArray(i.rotation),void 0!==i.scale&&A.scale.fromArray(i.scale);return r.associations.has(A)||r.associations.set(A,{}),r.associations.get(A).nodes=e,A})),this.nodeCache[e]}},{key:"loadScene",value:function(e){var t=this.extensions,n=this.json.scenes[e],r=this,i=new Vf;n.name&&(i.name=r.createUniqueName(n.name)),T_(i,n),n.extensions&&C_(t,i,n);for(var a=n.nodes||[],A=[],o=0,s=a.length;o<s;o++)A.push(r.getDependency("node",a[o]));return Promise.all(A).then((function(e){for(var t=0,n=e.length;t<n;t++)i.add(e[t]);return r.associations=function(e){var t,n=new Map,i=Mr(r.associations);try{for(i.s();!(t=i.n()).done;){var a=m(t.value,2),A=a[0],o=a[1];(A instanceof el||A instanceof Bo)&&n.set(A,o)}}catch(s){i.e(s)}finally{i.f()}return e.traverse((function(e){var t=r.associations.get(e);null!=t&&n.set(e,t)})),n}(i),i}))}}]),e}();function L_(e,t,n){var r=t.attributes,i=[];function a(t,r){return n.getDependency("accessor",t).then((function(t){e.setAttribute(r,t)}))}for(var A in r){var o=x_[A]||A.toLowerCase();o in e.attributes||i.push(a(r[A],o))}if(void 0!==t.indices&&!e.index){var s=n.getDependency("accessor",t.indices).then((function(t){e.setIndex(t)}));i.push(s)}return T_(e,t),function(e,t,n){var r=t.attributes,i=new Ho;if(void 0!==r.POSITION){var a=n.json.accessors[r.POSITION],A=a.min,o=a.max;if(void 0!==A&&void 0!==o){if(i.set(new Fo(A[0],A[1],A[2]),new Fo(o[0],o[1],o[2])),a.normalized){var s=P_(m_[a.componentType]);i.min.multiplyScalar(s),i.max.multiplyScalar(s)}var l=t.targets;if(void 0!==l){for(var u=new Fo,c=new Fo,f=0,d=l.length;f<d;f++){var h=l[f];if(void 0!==h.POSITION){var p=n.json.accessors[h.POSITION],v=p.min,m=p.max;if(void 0!==v&&void 0!==m){if(c.setX(Math.max(Math.abs(v[0]),Math.abs(m[0]))),c.setY(Math.max(Math.abs(v[1]),Math.abs(m[1]))),c.setZ(Math.max(Math.abs(v[2]),Math.abs(m[2]))),p.normalized){var g=P_(m_[p.componentType]);c.multiplyScalar(g)}u.max(c)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(u)}e.boundingBox=i;var y=new As;i.getCenter(y.center),y.radius=i.min.distanceTo(i.max)/2,e.boundingSphere=y}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}(e,t,n),Promise.all(i).then((function(){return void 0!==t.targets?function(e,t,n){for(var r=!1,i=!1,a=!1,A=0,o=t.length;A<o;A++){var s=t[A];if(void 0!==s.POSITION&&(r=!0),void 0!==s.NORMAL&&(i=!0),void 0!==s.COLOR_0&&(a=!0),r&&i&&a)break}if(!r&&!i&&!a)return Promise.resolve(e);for(var l=[],u=[],c=[],f=0,d=t.length;f<d;f++){var h=t[f];if(r){var p=void 0!==h.POSITION?n.getDependency("accessor",h.POSITION):e.attributes.position;l.push(p)}if(i){var v=void 0!==h.NORMAL?n.getDependency("accessor",h.NORMAL):e.attributes.normal;u.push(v)}if(a){var m=void 0!==h.COLOR_0?n.getDependency("accessor",h.COLOR_0):e.attributes.color;c.push(m)}}return Promise.all([Promise.all(l),Promise.all(u),Promise.all(c)]).then((function(t){var n=t[0],A=t[1],o=t[2];return r&&(e.morphAttributes.position=n),i&&(e.morphAttributes.normal=A),a&&(e.morphAttributes.color=o),e.morphTargetsRelative=!0,e}))}(e,t.targets,n):e}))}var U_,N_=null;function O_(e,t,n){return function(r){n&&n(r),e&&(N_||(N_=new Ox),N_.setDecoderPath("string"===typeof e?e:"https://www.gstatic.com/draco/versioned/decoders/1.5.5/"),r.setDRACOLoader(N_)),t&&r.setMeshoptDecoder("function"===typeof zx?zx():zx)}}function F_(e){return Ab(Hx,e,O_(!(arguments.length>1&&void 0!==arguments[1])||arguments[1],!(arguments.length>2&&void 0!==arguments[2])||arguments[2],arguments.length>3?arguments[3]:void 0))}function z_(e){console.log("heloollll","/vinastalgia"+"/".concat(e.modelName,".glb"));var t=F_("/vinastalgia"+"/".concat(e.modelName,".glb")),n=t.nodes,r=t.materials;return(0,Kt.jsx)("group",pr(pr({},e),{},{dispose:null,children:(0,Kt.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:"tamagochi"==e.modelName?n.Tamagochi_Kirby_Tamagochi_0.geometry:n.mesh.geometry,material:"tamagochi"==e.modelName?r.Kirby_Tamagochi:r.main})}))}F_.preload=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3?arguments[3]:void 0;return Ab.preload(Hx,e,O_(t,n,r))},F_.clear=function(e){return Ab.clear(Hx,e)};xt.div(U_||(U_=Q(["\n  height: 100vh;\n"])));function G_(e){var n=e.modelName,r=(0,t.useRef)();return(0,Kt.jsx)("div",{style:{height:"65%",width:"40%",position:"absolute",left:160,top:80},children:(0,Kt.jsxs)(Xb,{shadows:!0,dpr:[1,2],camera:{fov:50},children:[(0,Kt.jsx)(t.Suspense,{fallback:null,children:(0,Kt.jsxs)(kx,{controls:r,preset:"rembrandt",intensity:1,environment:"city",children:["false",(0,Kt.jsx)(z_,{modelName:n}),"false"]})}),(0,Kt.jsx)(Ux,{ref:r,autoRotate:!0})]})})}function H_(e){var t=e.object;return(0,Kt.jsxs)("tvContainer",{children:[t&&(0,Kt.jsx)(G_,{modelName:t.name}),(0,Kt.jsx)("img",{src:lr,style:{height:"85%",position:"absolute",left:120,top:50,zIndex:-1}})]})}var V_=["https://res.cloudinary.com/cloudinary-marketing/images/c_fill,w_750/f_auto,q_auto/v1649720751/Web_Assets/blog/Mario_1/Mario_1-gif?_i=AA","https://i.pinimg.com/originals/4c/ba/be/4cbabe0e15b50dce0730e5b6564c6b1d.gif","https://64.media.tumblr.com/b4a256c22cedaf9cd20f077e442f26aa/tumblr_pmd5ls6T251xvlbmno2_500.gif","https://thumbs.gfycat.com/BlandThinGermanwirehairedpointer-max-1mb.gif"];var W_,j_,Q_,X_=H((function(e){return{mediaPlayer:e.mediaPlayer}}),(function(e){return{onNotepadBlur:function(){return e(Gt())},onNotepadFocus:function(){return e(zt())},onNotepadMinimize:function(){return e(Ht())},onNotepadExit:function(){return e(Vt())}}}))((function(e){var n=e.mediaPlayer;e.onNotepadFocus,e.onNotepadBlur,e.onNotepadMinimize,e.onNotepadExit,(0,t.useEffect)((function(){}),[]),(0,t.useEffect)((function(){var e=setInterval((function(){a((function(e){return(e+1)%V_.length}))}),3e3);return function(){return clearInterval(e)}}),[V_.length]);var r=m((0,t.useState)(0),2),i=r[0],a=r[1];return n.show?(0,Kt.jsx)(Gn,{id:"MediaPlayer",initialX:.7*window.innerWidth,initialY:450,width:"350",height:"200",img:En,title:"Untitled - Notepad",blurred:n.blurred,onMinimize:function(){},onExit:function(){},isMinimized:n.minimized,children:(0,Kt.jsx)("img",{style:{objectFit:"contain",width:"100%"},src:V_[i]})}):null})),J_=[{name:"lo-xo",description:'As a child (and even now :">), I was always captivated by colorful and quirky things. This SLINKY was one of those fascinating items. Just holding it and stretching it out for playtime, but seeing the rainbow trail it left on my hands was a sight that delighted my eyes'},{name:"babol",description:"It was the ultimate chewing gum sensation of the late 80s and early 90s. I can still recall the excitement of unwrapping that brightly colored package, popping a piece into my mouth, and blowing enormous bubbles that seemed to defy gravity."}],K_=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=at.apply(void 0,[e].concat(n)).join(""),a=ut(i);return new Ye(a,i)}(W_||(W_=Q(["\n  0% {\n    transform: translateX(0);\n  }\n  100% {\n    transform: translateX(calc(-100% + 100vw));\n  }\n"]))),Y_=xt.div(j_||(j_=Q(["\n  overflow: hidden;\n  width: 100%;\n"]))),q_=xt.div(Q_||(Q_=Q(["\n  display: inline-block;\n  white-space: nowrap;\n  animation: "," 20s linear infinite;\n"])),K_);var Z_=H((function(e){return{aboutVisible:e.about.show,notepadVisible:e.notepad.show,shutDown:e.shutDown,showModal:e.showModal}}))((function(e){var n=e.aboutVisible,r=e.notepadVisible,i=e.shutDown,a=e.showModal,A=(m((0,t.useState)(new Audio(sr)),1)[0],m((0,t.useState)(Math.floor(Math.random()*J_.length-1)),2)),o=A[0],s=A[1],l=function(){s(o+1>=J_.length?0:o+1)};function u(e){e.preventDefault()}(0,t.useEffect)((function(){return window.addEventListener("contextmenu",u),function(){window.removeEventListener("contextmenu",u)}}),[]);var c=n?(0,Kt.jsx)(Vn,{}):null,f=r?(0,Kt.jsx)(jn,{object:J_[o]}):null,d=i?(0,Kt.jsx)($n,{}):null,h=a?(0,Kt.jsx)(or,{}):null;return(0,Kt.jsxs)("div",{className:"App",children:[(0,Kt.jsx)(nn,{}),c,(0,Kt.jsx)(X_,{}),f,d,h,(0,Kt.jsx)(H_,{object:J_[o]}),(0,Kt.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAVQAAADKCAYAAAD6ibgyAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAABkUSURBVHgB7Z0/bBxXfscfAxUpjJxSnYH8kQQYyJ8rzKvuLjBEqsm5kww4OXeicklnwNSlcWFgZwUXbnKiAHcnRFTnXAyI7OQ0WhqGc6lCFUl8gAFRyAFxqqMDF7mKt98Z/ci3b9/823mz5HI/H2A4szPv3wx3vvt7v/dvZW9v78gBAEAn1tbW3AUdXL161QEAwGzcuXMn31+wE2NL1QEAwOz8jgMAgCRcCE+sr48cAADUMxqtT3y+UB08ixxnrnkcAIDl4UJdgCzL8u3Fp+Njfz99nDkAgJCjo4GblZWVlXH82TslKb5pU9dylGlcraCKSVGdvhY79rl48Xfz/eHh/0+dt3M69sOFYUMuX7448fng4HAqbUsvvF6XVxi3LBwAtGeWBnA/Ttf4VedmScenlYVqxzHhrLJOb9z4k1wAs2yyMFtbP3Tb20/d/v5XbnX1ZffgwfX8/Gh04G7f/qRSwBTWF9Vr1x4ei6bEUGmvrV0+vj4cjvK8dE3lGQzW8/MPH+6Pw/7bRF4qy6NHP5o4FwvXF7qv8AcCACZZX1+vDTMajdw8adTKX2WhChW6rrp/6dLFCQHUsc4JCdhgsOauXLmXb7u7vxyL3p+6OiSiFkcCu75+KT8vMZUo2zVtN2+u5nlKTCW0dv7g4Os8/5CdnS8m4ovNze+5vlEZnzy56QBgfkicYwJddr6MRlV+o8wyVYZVgis2Nlbd8+eHx1Zqlq2N410eW47TJrTErC0SV/lFVlaGreJtb++7tphwj0bP8/3q6rePXQT7+/+bW7ESxsuXv5Wfk2gLfbbrCq94hsL4VqnysPQBIE6VBdpGCJWOiaelafHbWLkVgppN2poTDVPF3jb7XKWpJha+lWrnJDASFBOqw8Pf5G6APlDaEnbLKxQyQ4JnYU7K+/ULC3Ijdx9I8CSKm5vfP7a25VqQaG5svJpbxUpb7gL9eCiMjnd2fnnsVrD73Ns7yNMUyuPmze8iqABzxBdV/1wbKi1Uvx2ssPsy7+wwF9CBF0jHw6GLVv0lJEJCI8FQldyQqEiIzK/5/Pmvj8+nRtavBFyCZXlJyEJRleBZGLG7+0Ue1/ybt27t5Ofv3n09t7Ltfp49eye3lt2Le5ZFvr19Pb+ufFSdN4tV6d26tZsfy2LXs7GyWPoAMD9MVO24LbVVfqtAZ/lfqefK8TUJaN6DYMJSLUeWmyw6CYaJiuGLiIRFvk4J6oMHNybCPX36P3njUBckbiaAhevh0ljIDqfCmNgBwHLgW6d+9b8pzbpNHf8dlnTvH7hJQc2i6cgiM0GVYEk4ReFvnLRaDbNsjbJWdrPu6qjKCwCWl9AyDX2qTWgkqIUZPJo6t7KyfvzZxLTOSpVfMCaKshJ9n6X5D6uET63uflpm4RY+ym/n1qchH6U1FoV5yXKelcI/epKePjftWiW3gl9GezZKQ/fW1RIHOOuUNRzNu7tTrJofa6iqo1UrfxUSUg1iKNwAmfOtVAmWVfF9gZTwFdX/w9y6NItV4essSImO38Dl93G1XgJ+K7rSl1iZX1YuhaI8z6d8tSqPum7FUBr37v1iIl3zCwvrq+o3KNl9Wrl1HA5MUHi7Z6VhzwIAymnTkl9FmWD2UuW3QmfO86KOz0lAi0aowq+q40FkRFdZ45LfPUoiE3b8r6Kueq+0y7pfqTxVDV4m8jEklqHlGCvL5A/HF1NhJagqQ+yeY3kAnEe6WKLztmKbUCuoAzfZ2l9IZ5b/HQ6zXEB9ER226wa6tPTVLQzgrNN17uVUczf3MQd041b+GDF/aZ0PFQoKt8CBA1gmiolFTi9+6nRCKgW1PMvs5Cirvg4AcELmzgaZ64PKkVIAANCcKUENZ6AGAIBmsKYUAEAiEFQAgEQgqAAAiUBQAQASgaACACQCQQUASASCCgCQiEg/1JGD+TAYDGrHE6+trbnUdF3f/DTSrfte9vWcTivfZXuO54XoSKm6BfegO20mZkg5iUPX9c1PM92UYRch32V7jueB0qGnffxCnic+/fRTNyt9WAEAcPokm2B6Gbl69apry507dxz0R7iyRBvO+rDrWe6NoeTzBUHtyDyrNLE1b9p8jlF2LdVM6FVp9uVXOzoaRM8Px768QUnNa2Wlv4l8q5b5MJFE+M4HCOqCEa55U3bNPjcRxkGwzMJwOGwct4pYfNMzTUc5L4EVwxfzX1aJah9UrUdU3H/m2tBGeLtY69Xprvf6v1pkWnebunbtmoPTYZYvcdM4srRtExLZLi+NXjq1baqB09o4pWPSNW2maXZd+z6sYjEMJhMe9jS5cIgJT98L0Y16Es4Ydi99/a8WnVYW6sHBwfH+8uXLlWElvA8ePKgNB82ZxTJoGid0EwxfrGUTxm33ImXOlhdXOtJqS86OC+HNXJ/z75pF2qd1GnsuJqb+PiUS0nXPYg0/w/xpJai3bt3KRfLKlSvHvQAODw9zgV1dXc0/6/jixWJFz6dPnx4Lqn2ZdM3CwtlBL7zf+0D/r+6ugOx4q46TeVs66gQ0tcDaO2H9LkMxDUV1liq/j8TTRPQ0xJSq/zSNBVVVQT1ACeLGxobb2dlxN27ccPv7++7hw4e50Aq9dDdv3syPt7e33fXr1/Owu7u7+TkJrL5wr756vpZJrhKMRfjSqYyxcoaNbhJZ/Y+biWrmCgs1c5OiWbalI1atj4lnalH1xVQCGxNXw2+UKiO8Hg1v53pu4KpzYUALQZU4SiglqGalSlCruHv3br6/ffu2e/bs2XE6EtjzJqhlX7SUYtqnDzW0UMMqf8wVUP9iZVPbyaCR2D5zKfDF1I590Yz7VDOXChNTEYqq/1kseus+Vuokrar8eplkjUKcmAWSkr59qLFwodDasb4LOq7uNpa5mBUa69ZUdFvKXAoknjEh9a8LP0yWqNtUbECMieisg2XOWss+Vmo5jQRVIqqqulXlhY5leapK74eT9emHWzb6aoDomyoLNeyqNYsPtUnVXkIrYU1htfmiasSq9/PqQnU0165aIzdPsFJPaCSo1qrvv0g6J/+pqvU6lgtAvlUL8+jRI/fGG2+4J0+e5JuuC103V8B5ZdG+XGUt+iIUWqPZPWauTEz9ddFPGnOGL/IcJRPVLtcXlT59qFBNI0ENW3uFBFZCKSSk2kLsusKaDxVmpw8faplgllmoFqcZmSuv9k+Kme8GSD1qqc6nCtWUWaD+9wArtaCVDxVOl758qFV+0HlYqD59VI3D6j9imgZ8qdMgqAuGL5DrDcfyz0qVK6COyZct8/bF8bxnMzNRRUybU2WBxr5b4fdvGUFQF4hRg7H7VZ/bUGaZtiFeTRz1OhGJKE8/S9aaH8+3nyGt825kMkYzTKqz7CCoHTjvU/H1MZNW3/0uT6tfZ18CwyxUiwWCOiNMEg0AIVFBlWXSZUb6ZWCe86D2ldeipbts+S7bczwPTAlqrIsUnB59+eUWLd1ly3fZnuN5YUpQ+XU6W+D8b8ZpPafz9v/h+9aN1hNMAwBAnCkLlV8oAIB65B4Na/TRRqmTKdYAACCkzDVKlR8AIBEIKgBAIhBUAIBEIKgAAIlAUAEAEoGgAgAkAkEFAEgEggoAkAgEFQAgEQgqAEAiEFQAgEQgqAAAiUBQAQASgaACACRi6QT13Xffrbz+2muvudXVVQcA0JZOgvrmm2/mAuTz8ssv56IlUXr77bfdPFAZVJY63n//fff48eP8eGtry3300UfHm8X/8ssv87K/8sorpWnoHqtQ2v6+CW3Czordq/1f9Nz8Z6ANAGan0zLSL7300pS46LO2/f39fOsbiZ+E4YMPPnCvv/56nvf29rYrK+9XX311XM633nrr+NrGxkYeX4Krawob45tvvsmvWzoWTuctXWNzc9M1pU6kuyKxtPvVfep+dQ+637LnBQDt6Fzll7XjV5HN0pLQmJWnY4XRZgKka348u+5bhhIZP44fzw/nC7sJel9IuH23QWgd6/5NSO3+7B6098tm9xe6GOxc7J78Zxo+31nu2y9D2Y8IADSjk4UqZIXqZVRVWeLy2WefHb/ssoRk/ZjlKGQVffzxx7kQy6pTfMUz14FZfrpm8SyOWaOGVd+Vl4mL9r4FWYXS92kSpw0SXlmFchN8+OGHefnNKtQz0r2EIqgymcBaWJ2zY6WlNGPP156TWcs++r/Y/Vo5hKUj9L+wZwoA7eksqPbCa28C4ltwZl3JshO+iElkhMTVr46aMAsJhImlLEGlIzGQKFi+EgITDO2buhpCMYsJUQyVSWVRXr7lqK1KkFR2VbXNmtR9WHXb/Je6bs/Cwhp2v8pbP2A+JtLaYvehZ630hFmiSkPn7XmpDAgqwOwkaeWXKJjY1aEXtolw6WWXYElc9cI3Fbs2qNy2ibKGqBAT1LAqboIXorKnECpfUA2zXCW8yqfKyrZ7tR8rPeN5+LkBloUkgqqXss46M2SNNvH1mZ9UL78sq74bbdpijWASKGvI0j6120CE6ft5+0Je1Tsh1l3MrHwASEPnKr/x3nvvRc9LbCUGVqW1KruPGnHsusKbK0AvvMTU4igP67Zk4XwBkfhaVy6zwvpC5fF9tVamppgf2arhhu7VnoVEUvdhPQss/TBvPQM1hklgywRd18qesf+/AYAO7O3tHYnRaJRvWZYdjU+fy23sOzwaC09lmLHFdjQWuTzsWb0PNja2091C3RwOh/n5UxsppYaRuo7/st5SduWRpVfXN1QWYVlLOQBAFacmqKq6S7iEVTtts2q8xK1KdMvidUFC6nfSrxqqqrK1zTM2usxGlZ3F0WXCH1XWZ/msD7O5iPwRbEJ5x0Z0NX1us6QfjiQL/3cAPsl8qG0xH6D2flchIRGTz8+GgZbFL4uXqmHIGoDKsG5KYblUjjJLODa6zNI5rdFloqxBUSLk+71NiO3HMAU2VNnP0+86Zv1srZuXsJFf2uvZVfnMu6Qv/O8YQBWnJqhVzNo44seT5Wh9MvWi+COLhM5ZY49ZpXrpbKCCxVOcsvhhXiaGFjbsK2rIErIuS8rf5hgwsQ3zs7KG+ZhIWFmFdeWyOLFnYWUMR2I1+SHyhcvvNhYroy9iSrssffu/zTKXgMSurrdCl/SFP9Cij14ccH44k4LaFX/klTDrS5aK31IuK0sWig0O8Ec2mR9V4qfeBf4sVNrbS6rzvpWqdOsE1R9dZiIuTmt0mZWhjVgoD7+MNspKz84GV9ixlbFptzLFNYFUGRXHftzsfJdeHE3SN/S/tHNt7gGWk3M5fZ+qpBIliZ6N5BJ6kXROW9XYdQmTP2GIvVQW16+W65qqiQpvXaDsxSvD+owqruKEk5P4o8vCbmb+6DL/ui/sElKLU/UsTJTsB6UN9uNiZfC7f1kZ9Rztuh+nDsW3ZxCbfKapNd0mfT0LiWo4F4Q9u7b3AMvJubRQ54mN/GrbG8EE2MSnLo8mmEUscW06Iu0s4v+gmVD78yAIVd9DP67ChI2I8mWH4htLX0hU7UfGfnhS+orh/HMmLdSmo6lSxNMLo5dHDRVlgxP6wKr9TaquZ2l02TxGV8lVMAt6pnLZ+FvMko2lb3NINAkLUMapW6hmdfgNBrHRVG3ilY2osgmVwzxsDtUyn2eYl6zRMqvRwkoE66zPsp4A8x5dZr7ZmLj78cO85E6oGmXl34ON+mqCfuRi8fyRZW3mmm2TvnW/svRjYXXferZ9j8aDBeS0RkqNX/yjcfWsMsz4y52PXOorP42GGr/0+Xntq+Lrum0Kr/RSlOs8b2MhWqjysrE13cpGSp2ahdqkz6WsxlR+QL/LkCGLVVU9WVxVFnHYwV/lYpamenhGsGyc6UaplI0qEtPYHKJNGnwktl2qmMsKk63AssEy0gAAiUBQAQASgaACACQCQQUASASCCgCQCAQVACARCCoAQCIQVACARCCoAACJ6Cyo/jo8VTOihzMm1a3XJMK1lmJrB9k6QVXrHvll9NcVqsvfX3fJJgLR1scsTgCw+HQSVM38o+Gc/nRpJlghsflC/Ql+y8KE1yRs/hyW/jIeVgaNIbcVU8MyajikL6p+nr5Q+utFaby/ji0NE2Klg7gCgJG8ym9j3sPVQG1BPv+zJhnxrUmzQoUtwhdOgefP3F6GTatWtUJlLH8JpaWr8qsssQmG7R61VxlTrLYKAItPLz5UWXOhmEm86qrYTTCxnOdSFDYTlSxVs1YNCb6sZpbGAIBeBDVck8mwRfEMW0VSYmRLXNhaSxKuspmgbALmrtVtP3/9ANjibcrfn03fphq0PP213O1e/UX8AGA5mWsrf0pB9f2ks9JUUC1PCaetSOpjSzQv6hpOAJCG5IJatwaP/I5+GH8SYgmYqtASyrr1ncxijAmqWYpNlqjwl5VW45UareSa8H23VesoKX9ZrBL/siVUAGA56DTBtK0V71udEkxrUIpNMCwB832p/kz5Nqu+v+59FRLd+/fvH38O11hSemEZlZ+ftuWvva15r/L74mhliq2fpB8Hf8Z/Wbphty0mqAZYEk5rTanzsG1tbdWuRcXGxnb+tjO3ptR5AKsTAHwYegoAkAgEFQAgEQgqAEAiEFQAgEQgqAAAiUBQAQASgaACACQCQQUASASCCgCQCAQVACARCCoAQCIQVACARCCoAACJQFABABKBoAIAJAJBBQBIBIIKAJAIBBUAIBEIagIu/p5zq99xbv0HxbHP5T+Knw+xcHWU5QMAp0+SNaU2/3b6Bd+679zh/51cH/2rc/v/UR7fv77x12OB+cPJMDufTF4/+O8ijnHjhyfhYmQ/cW77n4t4IRIpxc9+enIcTeOn0+fe+bsibd2/7lf74T8UYSWST8Z57j6eLGsM3e+Tj527nY2f3c+mr+ue7w4n89Ezvj1wAHBG6CSoZpldjwiQBOTgV4WAvTMWzMOvywXVvy7rS9ulQFBNCBXm5lhc9j4/ESmFv/H6+Np/ulIGf/+iTCWCqusmqHnYz10tEsytrBBQ+wFRWZSGkNDujfPczOrTUtlu3S5Ec+fxdDn1WeKpa8pHP0IK+3T8PLZ/7gDgDNBJUCUcsqqufH9aAJ79wrmHP49bdVUovWtvTlt023edW/uLQnRicW5tFhZoCnQv1/6qPpxZ0bKKzRpXubXpx0ZCV2eZ+lSFz8971yTg+iFa+wGCCnBW6G0ZaYlsSjYiQiprUGK68geuEQpr1XFDQi2LdxZMRGP+TF2rElOVXfle/FbhEjBRjFnQZSju1183Cytruk3aANCe3gS1b1TFFzGLdV7I/SCRkjDGxFMi9uBucazqurk8zLI35LOVtWtCr3jmL733s7hfWD7V3Aouscol2LLozQVhom+uBcQVID0L28r/6nfaV3flfxTW6KR92LglZPlJsGyran2XOCmMhFNC6LP54xOfsATS2Ii4E9S45V9X2RTvwVY8rNKTte37pc2n++v/cu7RP47jj2sJu58ULhTVGL77l4Xl/O//Ml1WAOjOwgqqVbfbCMO9+8XexE17CerDQJRlzQ1+crKZNRxDYiyhkvjJb+yXR8Lspxk7H6OqS5TEUI1doetCqGHv0jj/4fj8le8VfmD1GDBLWvs3/qYIu9HARwwA7VjYKr+qwhIziVhTH2pTJD5tfMASKlmqfjVeyCI2/+zu45PzsqpDv+2Od11V/Js/KoT14T9NhtM5hd2676bQj8wbP3a1qIfEJSxUgOQsdMd+CaqET6JaZUX6SIgkfoqjfVm/1RQo7d//s6KMvjWpct/z+ppKwIfBdVmYiteky1Vb5C55jg8VIDm9Car6STYZ+dMU+RRjHe6tyr765+Ud8n1kxal/bN7q/asT10Ff5PlFxMsXylgjUVm8rqiPrVwOqbqYAcAJnar8edegz4sW6nBkkzr752L1osHn8h9PC6x1/Pex9MKwVR33Zf3Jr6jW7LruSn4+hxVdjmI/Bm36lFaharv5b3VPatCSv1Pl6UPg9eOh56f/iZ6R/Ki08gOkp5OgyncoIQgbY0TY2d8aeHxiDStKT77IUNDqOu4rHWttr/N/1nXcz4eMfjx9PoWv1vq9WhkkolvD4hm29d1WIdHWPdioLbPkJaZ9W+UAy8rK3t7e0dWrV914n58YjUYuyzIH/SChU5U7tBCtZT+l2NmPUqwmAACzI730dVP7wWCwuK38i4oEMyaafViNqVwUANAMpu8DAEgEggoAkAgEFQAgEQgqAEAiEFQAgEQgqAAAiUBQAQASgaACACQCQQUASASCCgCQCAQVACARCCoAQCIQVACARCCoAACJQFABABKBoAIAJAJBBQBIBIIKAJAIBBUAIBEIKgBAIhBUAIBEIKgAAIlAUAEAEoGgAgAkAkEFAEgEggoAkAgEFQAgEQgqAEAiEFQAgEQgqAAAiUBQAQASgaACACQCQQUASASCCgCQCAQVACARCCoAQCIQVACARCCoAACJQFABABKBoAIAJAJBBQBIBIIKAJAIBBUAIBEIKgBAIhBUAIBEIKgAAIlAUAEAEoGgAgAkAkEFAEgEggoAkAgEFQAgEQgqAEAiLsRO7u3tOQAAaMeUoA4GAwcAAO2ZElSsUwCA2cCHCgCQiNxCvXPnjgMAgG6sjLcjBwAAnfkthOfg4BebqhEAAAAASUVORK5CYII=",style:{position:"relative",zIndex:999},onClick:l}),(0,Kt.jsx)(Y_,{children:(0,Kt.jsx)(q_,{children:(0,Kt.jsx)("div",{className:"tv-button-container",children:(0,Kt.jsx)(wn,{clicked:function(){return l()},id:"tv-button",pad:50,height:50,background:"rgb(0, 0, 0)",children:"Click Me    ( \u0361\xb0 \u035c\u0296 \u0361\xb0)"})})})}),(0,Kt.jsx)(Ln,{})]})})),$_={showStart:!1,showModal:!1,about:{show:!1,blurred:!1,minimized:!1},notepad:{show:!0,blurred:!1,minimized:!1},mediaPlayer:{show:!0,blurred:!1,minimized:!1},shutDown:!1},ew=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$_;switch((arguments.length>1?arguments[1]:void 0).type){case _t:return pr(pr({},e),{},{about:pr({},e.about),notepad:pr({},e.notepad),mediaPlayer:pr({},e.mediaPlayer),shutDown:!0});case wt:return pr(pr({},e),{},{about:pr(pr({},e.about),{},{blurred:!0}),notepad:pr(pr({},e.notepad),{},{blurred:!0}),mediaPlayer:pr(pr({},e.mediaPlayer),{},{blurred:!0}),showStart:!e.showStart});case Et:return pr(pr({},e),{},{about:pr({},e.about),notepad:pr({},e.notepad),mediaPlayer:pr({},e.mediaPlayer),showStart:!1});case Ct:return pr(pr({},e),{},{about:pr(pr({},e.about),{},{blurred:!0}),notepad:pr({},e.notepad),mediaPlayer:pr({},e.mediaPlayer),showModal:!0});case Mt:return pr(pr({},e),{},{about:pr(pr({},e.about),{},{blurred:!0}),notepad:{show:!0,blurred:!1,minimized:!1}});case St:return pr(pr({},e),{},{about:{show:!0,blurred:!1,minimized:!1},notepad:pr(pr({},e.notepad),{},{blurred:!0})});case Tt:return pr(pr({},e),{},{about:pr({},e.about),notepad:pr(pr({},e.notepad),{},{blurred:!1})});case kt:return pr(pr({},e),{},{about:pr(pr({},e.about),{},{blurred:!1}),notepad:pr({},e.notepad)});case Bt:return pr(pr({},e),{},{about:pr({},e.about),notepad:pr(pr({},e.notepad),{},{blurred:!0})});case Rt:return pr(pr({},e),{},{about:pr(pr({},e.about),{},{blurred:!0}),notepad:pr({},e.notepad)});case Pt:return pr(pr({},e),{},{about:pr({},e.about),notepad:pr(pr({},e.notepad),{},{minimized:!0})});case It:return pr(pr({},e),{},{notepad:pr({},e.notepad),about:pr(pr({},e.about),{},{minimized:!0})});case"MAXIMIZE_NOTEPAD":return pr(pr({},e),{},{about:pr({},e.about),notepad:pr(pr({},e.notepad),{},{blurred:!1,minimized:!1})});case"MAXIMIZE_ABOUT":return pr(pr({},e),{},{notepad:pr({},e.notepad),about:pr(pr({},e.about),{},{minimized:!1,blurred:!1})});case Dt:return pr(pr({},e),{},{about:pr({},e.about),notepad:{show:!1,minimized:!1,blurred:!1}});case Lt:return pr(pr({},e),{},{notepad:pr({},e.notepad),about:{show:!1,blurred:!1,minimized:!1}});case Ut:return pr(pr({},e),{},{about:pr({},e.about),notepad:pr({},e.notepad),showModal:!1});default:return e}},tw=function e(t,n,r){var a;if("function"===typeof n&&"function"===typeof r||"function"===typeof r&&"function"===typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"===typeof n&&"undefined"===typeof r&&(r=n,n=void 0),"undefined"!==typeof r){if("function"!==typeof r)throw new Error("Expected the enhancer to be a function.");return r(e)(t,n)}if("function"!==typeof t)throw new Error("Expected the reducer to be a function.");var s=t,l=n,u=[],c=u,f=!1;function d(){c===u&&(c=u.slice())}function h(){if(f)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return l}function p(e){if("function"!==typeof e)throw new Error("Expected the listener to be a function.");if(f)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");var t=!0;return d(),c.push(e),function(){if(t){if(f)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");t=!1,d();var n=c.indexOf(e);c.splice(n,1)}}}function v(e){if(!o(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"===typeof e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(f)throw new Error("Reducers may not dispatch actions.");try{f=!0,l=s(l,e)}finally{f=!1}for(var t=u=c,n=0;n<t.length;n++){(0,t[n])()}return e}return v({type:A.INIT}),(a={dispatch:v,subscribe:p,getState:h,replaceReducer:function(e){if("function"!==typeof e)throw new Error("Expected the nextReducer to be a function.");s=e,v({type:A.REPLACE})}})[i.Z]=function(){var e,t=p;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(h())}return n(),{unsubscribe:t(n)}}})[i.Z]=function(){return this},e},a}(ew);r.render((0,Kt.jsx)(V,{store:tw,children:(0,Kt.jsx)(Z_,{})}),document.getElementById("root"))}()}();
//# sourceMappingURL=main.dd24e24f.js.map